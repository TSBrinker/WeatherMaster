(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function pi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mu={exports:{}},ss={},Pu={exports:{}},Qe={};var nf;function by(){if(nf)return Qe;nf=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,N={};function k(R,B,oe){this.props=R,this.context=B,this.refs=N,this.updater=oe||S}k.prototype.isReactComponent={},k.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=k.prototype;function E(R,B,oe){this.props=R,this.context=B,this.refs=N,this.updater=oe||S}var P=E.prototype=new C;P.constructor=E,b(P,k.prototype),P.isPureReactComponent=!0;var _=Array.isArray,L=Object.prototype.hasOwnProperty,A={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function I(R,B,oe){var K,he={},ne=null,we=null;if(B!=null)for(K in B.ref!==void 0&&(we=B.ref),B.key!==void 0&&(ne=""+B.key),B)L.call(B,K)&&!$.hasOwnProperty(K)&&(he[K]=B[K]);var Ce=arguments.length-2;if(Ce===1)he.children=oe;else if(1<Ce){for(var Oe=Array(Ce),ye=0;ye<Ce;ye++)Oe[ye]=arguments[ye+2];he.children=Oe}if(R&&R.defaultProps)for(K in Ce=R.defaultProps,Ce)he[K]===void 0&&(he[K]=Ce[K]);return{$$typeof:n,type:R,key:ne,ref:we,props:he,_owner:A.current}}function X(R,B){return{$$typeof:n,type:R.type,key:B,ref:R.ref,props:R.props,_owner:R._owner}}function re(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function H(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(oe){return B[oe]})}var ie=/\/+/g;function se(R,B){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):B.toString(36)}function ee(R,B,oe,K,he){var ne=typeof R;(ne==="undefined"||ne==="boolean")&&(R=null);var we=!1;if(R===null)we=!0;else switch(ne){case"string":case"number":we=!0;break;case"object":switch(R.$$typeof){case n:case e:we=!0}}if(we)return we=R,he=he(we),R=K===""?"."+se(we,0):K,_(he)?(oe="",R!=null&&(oe=R.replace(ie,"$&/")+"/"),ee(he,B,oe,"",function(ye){return ye})):he!=null&&(re(he)&&(he=X(he,oe+(!he.key||we&&we.key===he.key?"":(""+he.key).replace(ie,"$&/")+"/")+R)),B.push(he)),1;if(we=0,K=K===""?".":K+":",_(R))for(var Ce=0;Ce<R.length;Ce++){ne=R[Ce];var Oe=K+se(ne,Ce);we+=ee(ne,B,oe,Oe,he)}else if(Oe=w(R),typeof Oe=="function")for(R=Oe.call(R),Ce=0;!(ne=R.next()).done;)ne=ne.value,Oe=K+se(ne,Ce++),we+=ee(ne,B,oe,Oe,he);else if(ne==="object")throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return we}function te(R,B,oe){if(R==null)return R;var K=[],he=0;return ee(R,K,"","",function(ne){return B.call(oe,ne,he++)}),K}function ce(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(oe){(R._status===0||R._status===-1)&&(R._status=1,R._result=oe)},function(oe){(R._status===0||R._status===-1)&&(R._status=2,R._result=oe)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var ge={current:null},V={transition:null},Z={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:V,ReactCurrentOwner:A};function U(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:te,forEach:function(R,B,oe){te(R,function(){B.apply(this,arguments)},oe)},count:function(R){var B=0;return te(R,function(){B++}),B},toArray:function(R){return te(R,function(B){return B})||[]},only:function(R){if(!re(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Qe.Component=k,Qe.Fragment=r,Qe.Profiler=l,Qe.PureComponent=E,Qe.StrictMode=s,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Qe.act=U,Qe.cloneElement=function(R,B,oe){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var K=b({},R.props),he=R.key,ne=R.ref,we=R._owner;if(B!=null){if(B.ref!==void 0&&(ne=B.ref,we=A.current),B.key!==void 0&&(he=""+B.key),R.type&&R.type.defaultProps)var Ce=R.type.defaultProps;for(Oe in B)L.call(B,Oe)&&!$.hasOwnProperty(Oe)&&(K[Oe]=B[Oe]===void 0&&Ce!==void 0?Ce[Oe]:B[Oe])}var Oe=arguments.length-2;if(Oe===1)K.children=oe;else if(1<Oe){Ce=Array(Oe);for(var ye=0;ye<Oe;ye++)Ce[ye]=arguments[ye+2];K.children=Ce}return{$$typeof:n,type:R.type,key:he,ref:ne,props:K,_owner:we}},Qe.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Qe.createElement=I,Qe.createFactory=function(R){var B=I.bind(null,R);return B.type=R,B},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(R){return{$$typeof:m,render:R}},Qe.isValidElement=re,Qe.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ce}},Qe.memo=function(R,B){return{$$typeof:p,type:R,compare:B===void 0?null:B}},Qe.startTransition=function(R){var B=V.transition;V.transition={};try{R()}finally{V.transition=B}},Qe.unstable_act=U,Qe.useCallback=function(R,B){return ge.current.useCallback(R,B)},Qe.useContext=function(R){return ge.current.useContext(R)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(R){return ge.current.useDeferredValue(R)},Qe.useEffect=function(R,B){return ge.current.useEffect(R,B)},Qe.useId=function(){return ge.current.useId()},Qe.useImperativeHandle=function(R,B,oe){return ge.current.useImperativeHandle(R,B,oe)},Qe.useInsertionEffect=function(R,B){return ge.current.useInsertionEffect(R,B)},Qe.useLayoutEffect=function(R,B){return ge.current.useLayoutEffect(R,B)},Qe.useMemo=function(R,B){return ge.current.useMemo(R,B)},Qe.useReducer=function(R,B,oe){return ge.current.useReducer(R,B,oe)},Qe.useRef=function(R){return ge.current.useRef(R)},Qe.useState=function(R){return ge.current.useState(R)},Qe.useSyncExternalStore=function(R,B,oe){return ge.current.useSyncExternalStore(R,B,oe)},Qe.useTransition=function(){return ge.current.useTransition()},Qe.version="18.3.1",Qe}var rf;function Yd(){return rf||(rf=1,Pu.exports=by()),Pu.exports}var af;function Cy(){if(af)return ss;af=1;var n=Yd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,h,p){var g,x={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)s.call(h,g)&&!c.hasOwnProperty(g)&&(x[g]=h[g]);if(m&&m.defaultProps)for(g in h=m.defaultProps,h)x[g]===void 0&&(x[g]=h[g]);return{$$typeof:e,type:m,key:w,ref:S,props:x,_owner:l.current}}return ss.Fragment=r,ss.jsx=d,ss.jsxs=d,ss}var sf;function ky(){return sf||(sf=1,Mu.exports=Cy()),Mu.exports}var a=ky(),y=Yd();const ut=pi(y);var qo={},Du={exports:{}},cn={},Au={exports:{}},Iu={};var of;function Ny(){return of||(of=1,(function(n){function e(V,Z){var U=V.length;V.push(Z);e:for(;0<U;){var R=U-1>>>1,B=V[R];if(0<l(B,Z))V[R]=Z,V[U]=B,U=R;else break e}}function r(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var Z=V[0],U=V.pop();if(U!==Z){V[0]=U;e:for(var R=0,B=V.length,oe=B>>>1;R<oe;){var K=2*(R+1)-1,he=V[K],ne=K+1,we=V[ne];if(0>l(he,U))ne<B&&0>l(we,he)?(V[R]=we,V[ne]=U,R=ne):(V[R]=he,V[K]=U,R=K);else if(ne<B&&0>l(we,U))V[R]=we,V[ne]=U,R=ne;else break e}}return Z}function l(V,Z){var U=V.sortIndex-Z.sortIndex;return U!==0?U:V.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var h=[],p=[],g=1,x=null,w=3,S=!1,b=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(V){for(var Z=r(p);Z!==null;){if(Z.callback===null)s(p);else if(Z.startTime<=V)s(p),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=r(p)}}function _(V){if(N=!1,P(V),!b)if(r(h)!==null)b=!0,ce(L);else{var Z=r(p);Z!==null&&ge(_,Z.startTime-V)}}function L(V,Z){b=!1,N&&(N=!1,C(I),I=-1),S=!0;var U=w;try{for(P(Z),x=r(h);x!==null&&(!(x.expirationTime>Z)||V&&!H());){var R=x.callback;if(typeof R=="function"){x.callback=null,w=x.priorityLevel;var B=R(x.expirationTime<=Z);Z=n.unstable_now(),typeof B=="function"?x.callback=B:x===r(h)&&s(h),P(Z)}else s(h);x=r(h)}if(x!==null)var oe=!0;else{var K=r(p);K!==null&&ge(_,K.startTime-Z),oe=!1}return oe}finally{x=null,w=U,S=!1}}var A=!1,$=null,I=-1,X=5,re=-1;function H(){return!(n.unstable_now()-re<X)}function ie(){if($!==null){var V=n.unstable_now();re=V;var Z=!0;try{Z=$(!0,V)}finally{Z?se():(A=!1,$=null)}}else A=!1}var se;if(typeof E=="function")se=function(){E(ie)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=ie,se=function(){te.postMessage(null)}}else se=function(){k(ie,0)};function ce(V){$=V,A||(A=!0,se())}function ge(V,Z){I=k(function(){V(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){b||S||(b=!0,ce(L))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return r(h)},n.unstable_next=function(V){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var U=w;w=Z;try{return V()}finally{w=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=w;w=V;try{return Z()}finally{w=U}},n.unstable_scheduleCallback=function(V,Z,U){var R=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?R+U:R):U=R,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=U+B,V={id:g++,callback:Z,priorityLevel:V,startTime:U,expirationTime:B,sortIndex:-1},U>R?(V.sortIndex=U,e(p,V),r(h)===null&&V===r(p)&&(N?(C(I),I=-1):N=!0,ge(_,U-R))):(V.sortIndex=B,e(h,V),b||S||(b=!0,ce(L))),V},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(V){var Z=w;return function(){var U=w;w=Z;try{return V.apply(this,arguments)}finally{w=U}}}})(Iu)),Iu}var lf;function Ey(){return lf||(lf=1,Au.exports=Ny()),Au.exports}var cf;function Ty(){if(cf)return cn;cf=1;var n=Yd(),e=Ey();function r(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(t,i){d(t,i),d(t+"Capture",i)}function d(t,i){for(l[t]=i,t=0;t<i.length;t++)s.add(i[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function w(t){return h.call(x,t)?!0:h.call(g,t)?!1:p.test(t)?x[t]=!0:(g[t]=!0,!1)}function S(t,i,o,u){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b(t,i,o,u){if(i===null||typeof i>"u"||S(t,i,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(t,i,o,u,f,v,j){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=i,this.sanitizeURL=v,this.removeEmptyString=j}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new N(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];k[i]=new N(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new N(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new N(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new N(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new N(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new N(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new N(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new N(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(C,E);k[i]=new N(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(C,E);k[i]=new N(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(C,E);k[i]=new N(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new N(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new N(t,1,!1,t.toLowerCase(),null,!0,!0)});function P(t,i,o,u){var f=k.hasOwnProperty(i)?k[i]:null;(f!==null?f.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,o,f,u)&&(o=null),u||f===null?w(i)&&(o===null?t.removeAttribute(i):t.setAttribute(i,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(i=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(i):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,i,o):t.setAttribute(i,o))))}var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),A=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),H=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),V=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var U=Object.assign,R;function B(t){if(R===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+t}var oe=!1;function K(t,i){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(G){var u=G}Reflect.construct(t,[],i)}else{try{i.call()}catch(G){u=G}t.call(i.prototype)}else{try{throw Error()}catch(G){u=G}t()}}catch(G){if(G&&u&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),v=u.stack.split(`
`),j=f.length-1,T=v.length-1;1<=j&&0<=T&&f[j]!==v[T];)T--;for(;1<=j&&0<=T;j--,T--)if(f[j]!==v[T]){if(j!==1||T!==1)do if(j--,T--,0>T||f[j]!==v[T]){var D=`
`+f[j].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=j&&0<=T);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?B(t):""}function he(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=K(t.type,!1),t;case 11:return t=K(t.type.render,!1),t;case 1:return t=K(t.type,!0),t;default:return""}}function ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case A:return"Portal";case X:return"Profiler";case I:return"StrictMode";case se:return"Suspense";case ee:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H:return(t.displayName||"Context")+".Consumer";case re:return(t._context.displayName||"Context")+".Provider";case ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return i=t.displayName||null,i!==null?i:ne(t.type)||"Memo";case ce:i=t._payload,t=t._init;try{return ne(t(i))}catch{}}return null}function we(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ce(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ye(t){var i=Oe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,v=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(j){u=""+j,v.call(this,j)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(j){u=""+j},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function be(t){t._valueTracker||(t._valueTracker=ye(t))}function Ze(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Oe(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function Ue(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dt(t,i){var o=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Be(t,i){var o=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;o=Ce(i.value!=null?i.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function At(t,i){i=i.checked,i!=null&&P(t,"checked",i,!1)}function gt(t,i){At(t,i);var o=Ce(i.value),u=i.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Lt(t,i.type,o):i.hasOwnProperty("defaultValue")&&Lt(t,i.type,Ce(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function nn(t,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,o||i===t.value||(t.value=i),t.defaultValue=i}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Lt(t,i,o){(i!=="number"||Ue(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var vt=Array.isArray;function me(t,i,o,u){if(t=t.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=i.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ce(o),i=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Pe(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function je(t,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(r(92));if(vt(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),o=i}t._wrapperState={initialValue:Ce(o)}}function ze(t,i){var o=Ce(i.value),u=Ce(i.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),i.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Xe(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Ne(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Ne(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nt,Ht=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(i,o,u,f)})}:t})(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=nt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Pn(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Y={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q=["Webkit","ms","Moz","O"];Object.keys(Y).forEach(function(t){q.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Y[i]=Y[t]})});function z(t,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||Y.hasOwnProperty(t)&&Y[t]?(""+i).trim():i+"px"}function J(t,i){t=t.style;for(var o in i)if(i.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=z(o,i[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var ae=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(t,i){if(i){if(ae[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Le(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ye=null;function et(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qr=null,fr=null,pr=null;function bi(t){if(t=Ui(t)){if(typeof qr!="function")throw Error(r(280));var i=t.stateNode;i&&(i=co(i),qr(t.stateNode,t.type,i))}}function Ls(t){fr?pr?pr.push(t):pr=[t]:fr=t}function _s(){if(fr){var t=fr,i=pr;if(pr=fr=null,bi(t),i)for(t=0;t<i.length;t++)bi(i[t])}}function Fs(t,i){return t(i)}function Ci(){}var ki=!1;function zs(t,i,o){if(ki)return t(i,o);ki=!0;try{return Fs(t,i,o)}finally{ki=!1,(fr!==null||pr!==null)&&(Ci(),_s())}}function Xr(t,i){var o=t.stateNode;if(o===null)return null;var u=co(o);if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var ka=!1;if(m)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){ka=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{ka=!1}function Vl(t,i,o,u,f,v,j,T,D){var G=Array.prototype.slice.call(arguments,3);try{i.apply(o,G)}catch(ue){this.onError(ue)}}var Zr=!1,Na=null,Ea=!1,Ni=null,Ul={onError:function(t){Zr=!0,Na=t}};function Gl(t,i,o,u,f,v,j,T,D){Zr=!1,Na=null,Vl.apply(Ul,arguments)}function Yl(t,i,o,u,f,v,j,T,D){if(Gl.apply(this,arguments),Zr){if(Zr){var G=Na;Zr=!1,Na=null}else throw Error(r(198));Ea||(Ea=!0,Ni=G)}}function Xn(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function Hs(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Ws(t){if(Xn(t)!==t)throw Error(r(188))}function Kl(t){var i=t.alternate;if(!i){if(i=Xn(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,u=i;;){var f=o.return;if(f===null)break;var v=f.alternate;if(v===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===o)return Ws(f),t;if(v===u)return Ws(f),i;v=v.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=v;else{for(var j=!1,T=f.child;T;){if(T===o){j=!0,o=f,u=v;break}if(T===u){j=!0,u=f,o=v;break}T=T.sibling}if(!j){for(T=v.child;T;){if(T===o){j=!0,o=v,u=f;break}if(T===u){j=!0,u=v,o=f;break}T=T.sibling}if(!j)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function Bs(t){return t=Kl(t),t!==null?$s(t):null}function $s(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=$s(t);if(i!==null)return i;t=t.sibling}return null}var Vs=e.unstable_scheduleCallback,Us=e.unstable_cancelCallback,ql=e.unstable_shouldYield,Xl=e.unstable_requestPaint,xt=e.unstable_now,Ei=e.unstable_getCurrentPriorityLevel,Jr=e.unstable_ImmediatePriority,Gs=e.unstable_UserBlockingPriority,Ta=e.unstable_NormalPriority,M=e.unstable_LowPriority,Q=e.unstable_IdlePriority,pe=null,ve=null;function rt(t){if(ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(pe,t,void 0,(t.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:tt,Me=Math.log,at=Math.LN2;function tt(t){return t>>>=0,t===0?32:31-(Me(t)/at|0)|0}var it=64,Nt=4194304;function Zt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ys(t,i){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,v=t.pingedLanes,j=o&268435455;if(j!==0){var T=j&~f;T!==0?u=Zt(T):(v&=j,v!==0&&(u=Zt(v)))}else j=o&~f,j!==0?u=Zt(j):v!==0&&(u=Zt(v));if(u===0)return 0;if(i!==0&&i!==u&&(i&f)===0&&(f=u&-u,v=i&-i,f>=v||f===16&&(v&4194240)!==0))return i;if((u&4)!==0&&(u|=o&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=u;0<i;)o=31-qe(i),f=1<<o,u|=t[o],i&=~f;return u}function Bv(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $v(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,v=t.pendingLanes;0<v;){var j=31-qe(v),T=1<<j,D=f[j];D===-1?((T&o)===0||(T&u)!==0)&&(f[j]=Bv(T,i)):D<=i&&(t.expiredLanes|=T),v&=~T}}function Ql(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A0(){var t=it;return it<<=1,(it&4194240)===0&&(it=64),t}function Zl(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function Ti(t,i,o){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-qe(i),t[i]=o}function Vv(t,i){var o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-qe(o),v=1<<f;i[f]=0,u[f]=-1,t[f]=-1,o&=~v}}function Jl(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-qe(o),f=1<<u;f&i|t[u]&i&&(t[u]|=i),o&=~f}}var ct=0;function I0(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var O0,ec,L0,_0,F0,tc=!1,Ks=[],gr=null,vr=null,yr=null,Ri=new Map,Mi=new Map,xr=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,i){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Ri.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(i.pointerId)}}function Pi(t,i,o,u,f,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[f]},i!==null&&(i=Ui(i),i!==null&&ec(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Gv(t,i,o,u,f){switch(i){case"focusin":return gr=Pi(gr,t,i,o,u,f),!0;case"dragenter":return vr=Pi(vr,t,i,o,u,f),!0;case"mouseover":return yr=Pi(yr,t,i,o,u,f),!0;case"pointerover":var v=f.pointerId;return Ri.set(v,Pi(Ri.get(v)||null,t,i,o,u,f)),!0;case"gotpointercapture":return v=f.pointerId,Mi.set(v,Pi(Mi.get(v)||null,t,i,o,u,f)),!0}return!1}function H0(t){var i=ea(t.target);if(i!==null){var o=Xn(i);if(o!==null){if(i=o.tag,i===13){if(i=Hs(o),i!==null){t.blockedOn=i,F0(t.priority,function(){L0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qs(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=rc(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ye=u,o.target.dispatchEvent(u),Ye=null}else return i=Ui(o),i!==null&&ec(i),t.blockedOn=o,!1;i.shift()}return!0}function W0(t,i,o){qs(t)&&o.delete(i)}function Yv(){tc=!1,gr!==null&&qs(gr)&&(gr=null),vr!==null&&qs(vr)&&(vr=null),yr!==null&&qs(yr)&&(yr=null),Ri.forEach(W0),Mi.forEach(W0)}function Di(t,i){t.blockedOn===i&&(t.blockedOn=null,tc||(tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yv)))}function Ai(t){function i(f){return Di(f,t)}if(0<Ks.length){Di(Ks[0],t);for(var o=1;o<Ks.length;o++){var u=Ks[o];u.blockedOn===t&&(u.blockedOn=null)}}for(gr!==null&&Di(gr,t),vr!==null&&Di(vr,t),yr!==null&&Di(yr,t),Ri.forEach(i),Mi.forEach(i),o=0;o<xr.length;o++)u=xr[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<xr.length&&(o=xr[0],o.blockedOn===null);)H0(o),o.blockedOn===null&&xr.shift()}var Ra=_.ReactCurrentBatchConfig,Xs=!0;function Kv(t,i,o,u){var f=ct,v=Ra.transition;Ra.transition=null;try{ct=1,nc(t,i,o,u)}finally{ct=f,Ra.transition=v}}function qv(t,i,o,u){var f=ct,v=Ra.transition;Ra.transition=null;try{ct=4,nc(t,i,o,u)}finally{ct=f,Ra.transition=v}}function nc(t,i,o,u){if(Xs){var f=rc(t,i,o,u);if(f===null)wc(t,i,u,Qs,o),z0(t,u);else if(Gv(f,t,i,o,u))u.stopPropagation();else if(z0(t,u),i&4&&-1<Uv.indexOf(t)){for(;f!==null;){var v=Ui(f);if(v!==null&&O0(v),v=rc(t,i,o,u),v===null&&wc(t,i,u,Qs,o),v===f)break;f=v}f!==null&&u.stopPropagation()}else wc(t,i,u,null,o)}}var Qs=null;function rc(t,i,o,u){if(Qs=null,t=et(u),t=ea(t),t!==null)if(i=Xn(t),i===null)t=null;else if(o=i.tag,o===13){if(t=Hs(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return Qs=t,null}function B0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ei()){case Jr:return 1;case Gs:return 4;case Ta:case M:return 16;case Q:return 536870912;default:return 16}default:return 16}}var wr=null,ac=null,Zs=null;function $0(){if(Zs)return Zs;var t,i=ac,o=i.length,u,f="value"in wr?wr.value:wr.textContent,v=f.length;for(t=0;t<o&&i[t]===f[t];t++);var j=o-t;for(u=1;u<=j&&i[o-u]===f[v-u];u++);return Zs=f.slice(t,1<u?1-u:void 0)}function Js(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function eo(){return!0}function V0(){return!1}function pn(t){function i(o,u,f,v,j){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?eo:V0,this.isPropagationStopped=V0,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),i}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=pn(Ma),Ii=U({},Ma,{view:0,detail:0}),Xv=pn(Ii),sc,oc,Oi,to=U({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(sc=t.screenX-Oi.screenX,oc=t.screenY-Oi.screenY):oc=sc=0,Oi=t),sc)},movementY:function(t){return"movementY"in t?t.movementY:oc}}),U0=pn(to),Qv=U({},to,{dataTransfer:0}),Zv=pn(Qv),Jv=U({},Ii,{relatedTarget:0}),lc=pn(Jv),e2=U({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),t2=pn(e2),n2=U({},Ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r2=pn(n2),a2=U({},Ma,{data:0}),G0=pn(a2),i2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l2(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=o2[t])?!!i[t]:!1}function cc(){return l2}var c2=U({},Ii,{key:function(t){if(t.key){var i=i2[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(t){return t.type==="keypress"?Js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u2=pn(c2),d2=U({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=pn(d2),m2=U({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),h2=pn(m2),f2=U({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),p2=pn(f2),g2=U({},to,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v2=pn(g2),y2=[9,13,27,32],uc=m&&"CompositionEvent"in window,Li=null;m&&"documentMode"in document&&(Li=document.documentMode);var x2=m&&"TextEvent"in window&&!Li,K0=m&&(!uc||Li&&8<Li&&11>=Li),q0=" ",X0=!1;function Q0(t,i){switch(t){case"keyup":return y2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function w2(t,i){switch(t){case"compositionend":return Z0(i);case"keypress":return i.which!==32?null:(X0=!0,q0);case"textInput":return t=i.data,t===q0&&X0?null:t;default:return null}}function j2(t,i){if(Pa)return t==="compositionend"||!uc&&Q0(t,i)?(t=$0(),Zs=ac=wr=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return K0&&i.locale!=="ko"?null:i.data;default:return null}}var S2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!S2[t.type]:i==="textarea"}function em(t,i,o,u){Ls(u),i=so(i,"onChange"),0<i.length&&(o=new ic("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var _i=null,Fi=null;function b2(t){ym(t,0)}function no(t){var i=La(t);if(Ze(i))return t}function C2(t,i){if(t==="change")return i}var tm=!1;if(m){var dc;if(m){var mc="oninput"in document;if(!mc){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),mc=typeof nm.oninput=="function"}dc=mc}else dc=!1;tm=dc&&(!document.documentMode||9<document.documentMode)}function rm(){_i&&(_i.detachEvent("onpropertychange",am),Fi=_i=null)}function am(t){if(t.propertyName==="value"&&no(Fi)){var i=[];em(i,Fi,t,et(t)),zs(b2,i)}}function k2(t,i,o){t==="focusin"?(rm(),_i=i,Fi=o,_i.attachEvent("onpropertychange",am)):t==="focusout"&&rm()}function N2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return no(Fi)}function E2(t,i){if(t==="click")return no(i)}function T2(t,i){if(t==="input"||t==="change")return no(i)}function R2(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Dn=typeof Object.is=="function"?Object.is:R2;function zi(t,i){if(Dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!h.call(i,f)||!Dn(t[f],i[f]))return!1}return!0}function im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,i){var o=im(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=im(o)}}function om(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?om(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function lm(){for(var t=window,i=Ue();i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Ue(t.document)}return i}function hc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function M2(t){var i=lm(),o=t.focusedElem,u=t.selectionRange;if(i!==o&&o&&o.ownerDocument&&om(o.ownerDocument.documentElement,o)){if(u!==null&&hc(o)){if(i=u.start,t=u.end,t===void 0&&(t=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(t,o.value.length);else if(t=(i=o.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,v=Math.min(u.start,f);u=u.end===void 0?v:Math.min(u.end,f),!t.extend&&v>u&&(f=u,u=v,v=f),f=sm(o,v);var j=sm(o,u);f&&j&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==j.node||t.focusOffset!==j.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),t.removeAllRanges(),v>u?(t.addRange(i),t.extend(j.node,j.offset)):(i.setEnd(j.node,j.offset),t.addRange(i)))}}for(i=[],t=o;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)t=i[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P2=m&&"documentMode"in document&&11>=document.documentMode,Da=null,fc=null,Hi=null,pc=!1;function cm(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pc||Da==null||Da!==Ue(u)||(u=Da,"selectionStart"in u&&hc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hi&&zi(Hi,u)||(Hi=u,u=so(fc,"onSelect"),0<u.length&&(i=new ic("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Da)))}function ro(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Aa={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},gc={},um={};m&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function ao(t){if(gc[t])return gc[t];if(!Aa[t])return t;var i=Aa[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in um)return gc[t]=i[o];return t}var dm=ao("animationend"),mm=ao("animationiteration"),hm=ao("animationstart"),fm=ao("transitionend"),pm=new Map,gm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,i){pm.set(t,i),c(i,[t])}for(var vc=0;vc<gm.length;vc++){var yc=gm[vc],D2=yc.toLowerCase(),A2=yc[0].toUpperCase()+yc.slice(1);jr(D2,"on"+A2)}jr(dm,"onAnimationEnd"),jr(mm,"onAnimationIteration"),jr(hm,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(fm,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function vm(t,i,o){var u=t.type||"unknown-event";t.currentTarget=o,Yl(u,i,void 0,t),t.currentTarget=null}function ym(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var j=u.length-1;0<=j;j--){var T=u[j],D=T.instance,G=T.currentTarget;if(T=T.listener,D!==v&&f.isPropagationStopped())break e;vm(f,T,G),v=D}else for(j=0;j<u.length;j++){if(T=u[j],D=T.instance,G=T.currentTarget,T=T.listener,D!==v&&f.isPropagationStopped())break e;vm(f,T,G),v=D}}}if(Ea)throw t=Ni,Ea=!1,Ni=null,t}function ht(t,i){var o=i[Nc];o===void 0&&(o=i[Nc]=new Set);var u=t+"__bubble";o.has(u)||(xm(i,t,2,!1),o.add(u))}function xc(t,i,o){var u=0;i&&(u|=4),xm(o,t,u,i)}var io="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[io]){t[io]=!0,s.forEach(function(o){o!=="selectionchange"&&(I2.has(o)||xc(o,!1,t),xc(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[io]||(i[io]=!0,xc("selectionchange",!1,i))}}function xm(t,i,o,u){switch(B0(i)){case 1:var f=Kv;break;case 4:f=qv;break;default:f=nc}o=f.bind(null,i,o,t),f=void 0,!ka||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,o,{capture:!0,passive:f}):t.addEventListener(i,o,!0):f!==void 0?t.addEventListener(i,o,{passive:f}):t.addEventListener(i,o,!1)}function wc(t,i,o,u,f){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var T=u.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(j===4)for(j=u.return;j!==null;){var D=j.tag;if((D===3||D===4)&&(D=j.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;j=j.return}for(;T!==null;){if(j=ea(T),j===null)return;if(D=j.tag,D===5||D===6){u=v=j;continue e}T=T.parentNode}}u=u.return}zs(function(){var G=v,ue=et(o),de=[];e:{var le=pm.get(t);if(le!==void 0){var Te=ic,Ie=t;switch(t){case"keypress":if(Js(o)===0)break e;case"keydown":case"keyup":Te=u2;break;case"focusin":Ie="focus",Te=lc;break;case"focusout":Ie="blur",Te=lc;break;case"beforeblur":case"afterblur":Te=lc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=h2;break;case dm:case mm:case hm:Te=t2;break;case fm:Te=p2;break;case"scroll":Te=Xv;break;case"wheel":Te=v2;break;case"copy":case"cut":case"paste":Te=r2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Y0}var _e=(i&4)!==0,Et=!_e&&t==="scroll",F=_e?le!==null?le+"Capture":null:le;_e=[];for(var O=G,W;O!==null;){W=O;var fe=W.stateNode;if(W.tag===5&&fe!==null&&(W=fe,F!==null&&(fe=Xr(O,F),fe!=null&&_e.push($i(O,fe,W)))),Et)break;O=O.return}0<_e.length&&(le=new Te(le,Ie,null,o,ue),de.push({event:le,listeners:_e}))}}if((i&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",Te=t==="mouseout"||t==="pointerout",le&&o!==Ye&&(Ie=o.relatedTarget||o.fromElement)&&(ea(Ie)||Ie[Qn]))break e;if((Te||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,Te?(Ie=o.relatedTarget||o.toElement,Te=G,Ie=Ie?ea(Ie):null,Ie!==null&&(Et=Xn(Ie),Ie!==Et||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Te=null,Ie=G),Te!==Ie)){if(_e=U0,fe="onMouseLeave",F="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Y0,fe="onPointerLeave",F="onPointerEnter",O="pointer"),Et=Te==null?le:La(Te),W=Ie==null?le:La(Ie),le=new _e(fe,O+"leave",Te,o,ue),le.target=Et,le.relatedTarget=W,fe=null,ea(ue)===G&&(_e=new _e(F,O+"enter",Ie,o,ue),_e.target=W,_e.relatedTarget=Et,fe=_e),Et=fe,Te&&Ie)t:{for(_e=Te,F=Ie,O=0,W=_e;W;W=Ia(W))O++;for(W=0,fe=F;fe;fe=Ia(fe))W++;for(;0<O-W;)_e=Ia(_e),O--;for(;0<W-O;)F=Ia(F),W--;for(;O--;){if(_e===F||F!==null&&_e===F.alternate)break t;_e=Ia(_e),F=Ia(F)}_e=null}else _e=null;Te!==null&&wm(de,le,Te,_e,!1),Ie!==null&&Et!==null&&wm(de,Et,Ie,_e,!0)}}e:{if(le=G?La(G):window,Te=le.nodeName&&le.nodeName.toLowerCase(),Te==="select"||Te==="input"&&le.type==="file")var Fe=C2;else if(J0(le))if(tm)Fe=T2;else{Fe=N2;var $e=k2}else(Te=le.nodeName)&&Te.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Fe=E2);if(Fe&&(Fe=Fe(t,G))){em(de,Fe,o,ue);break e}$e&&$e(t,le,G),t==="focusout"&&($e=le._wrapperState)&&$e.controlled&&le.type==="number"&&Lt(le,"number",le.value)}switch($e=G?La(G):window,t){case"focusin":(J0($e)||$e.contentEditable==="true")&&(Da=$e,fc=G,Hi=null);break;case"focusout":Hi=fc=Da=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,cm(de,o,ue);break;case"selectionchange":if(P2)break;case"keydown":case"keyup":cm(de,o,ue)}var Ve;if(uc)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Pa?Q0(t,o)&&(Ge="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(K0&&o.locale!=="ko"&&(Pa||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Pa&&(Ve=$0()):(wr=ue,ac="value"in wr?wr.value:wr.textContent,Pa=!0)),$e=so(G,Ge),0<$e.length&&(Ge=new G0(Ge,t,null,o,ue),de.push({event:Ge,listeners:$e}),Ve?Ge.data=Ve:(Ve=Z0(o),Ve!==null&&(Ge.data=Ve)))),(Ve=x2?w2(t,o):j2(t,o))&&(G=so(G,"onBeforeInput"),0<G.length&&(ue=new G0("onBeforeInput","beforeinput",null,o,ue),de.push({event:ue,listeners:G}),ue.data=Ve))}ym(de,i)})}function $i(t,i,o){return{instance:t,listener:i,currentTarget:o}}function so(t,i){for(var o=i+"Capture",u=[];t!==null;){var f=t,v=f.stateNode;f.tag===5&&v!==null&&(f=v,v=Xr(t,o),v!=null&&u.unshift($i(t,v,f)),v=Xr(t,i),v!=null&&u.push($i(t,v,f))),t=t.return}return u}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wm(t,i,o,u,f){for(var v=i._reactName,j=[];o!==null&&o!==u;){var T=o,D=T.alternate,G=T.stateNode;if(D!==null&&D===u)break;T.tag===5&&G!==null&&(T=G,f?(D=Xr(o,v),D!=null&&j.unshift($i(o,D,T))):f||(D=Xr(o,v),D!=null&&j.push($i(o,D,T)))),o=o.return}j.length!==0&&t.push({event:i,listeners:j})}var O2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function jm(t){return(typeof t=="string"?t:""+t).replace(O2,`
`).replace(L2,"")}function oo(t,i,o){if(i=jm(i),jm(t)!==i&&o)throw Error(r(425))}function lo(){}var jc=null,Sc=null;function bc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,Sm=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof Sm<"u"?function(t){return Sm.resolve(null).then(t).catch(z2)}:Cc;function z2(t){setTimeout(function(){throw t})}function kc(t,i){var o=i,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),Ai(i);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Ai(i)}function Sr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function bm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Oa,Vi="__reactProps$"+Oa,Qn="__reactContainer$"+Oa,Nc="__reactEvents$"+Oa,H2="__reactListeners$"+Oa,W2="__reactHandles$"+Oa;function ea(t){var i=t[Hn];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Qn]||o[Hn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=bm(t);t!==null;){if(o=t[Hn])return o;t=bm(t)}return i}t=o,o=t.parentNode}return null}function Ui(t){return t=t[Hn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function co(t){return t[Vi]||null}var Ec=[],_a=-1;function br(t){return{current:t}}function ft(t){0>_a||(t.current=Ec[_a],Ec[_a]=null,_a--)}function mt(t,i){_a++,Ec[_a]=t.current,t.current=i}var Cr={},Kt=br(Cr),rn=br(!1),ta=Cr;function Fa(t,i){var o=t.type.contextTypes;if(!o)return Cr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in o)f[v]=i[v];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=f),f}function an(t){return t=t.childContextTypes,t!=null}function uo(){ft(rn),ft(Kt)}function Cm(t,i,o){if(Kt.current!==Cr)throw Error(r(168));mt(Kt,i),mt(rn,o)}function km(t,i,o){var u=t.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in i))throw Error(r(108,we(t)||"Unknown",f));return U({},o,u)}function mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,ta=Kt.current,mt(Kt,t),mt(rn,rn.current),!0}function Nm(t,i,o){var u=t.stateNode;if(!u)throw Error(r(169));o?(t=km(t,i,ta),u.__reactInternalMemoizedMergedChildContext=t,ft(rn),ft(Kt),mt(Kt,t)):ft(rn),mt(rn,o)}var Zn=null,ho=!1,Tc=!1;function Em(t){Zn===null?Zn=[t]:Zn.push(t)}function B2(t){ho=!0,Em(t)}function kr(){if(!Tc&&Zn!==null){Tc=!0;var t=0,i=ct;try{var o=Zn;for(ct=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Zn=null,ho=!1}catch(f){throw Zn!==null&&(Zn=Zn.slice(t+1)),Vs(Jr,kr),f}finally{ct=i,Tc=!1}}return null}var za=[],Ha=0,fo=null,po=0,Sn=[],bn=0,na=null,Jn=1,er="";function ra(t,i){za[Ha++]=po,za[Ha++]=fo,fo=t,po=i}function Tm(t,i,o){Sn[bn++]=Jn,Sn[bn++]=er,Sn[bn++]=na,na=t;var u=Jn;t=er;var f=32-qe(u)-1;u&=~(1<<f),o+=1;var v=32-qe(i)+f;if(30<v){var j=f-f%5;v=(u&(1<<j)-1).toString(32),u>>=j,f-=j,Jn=1<<32-qe(i)+f|o<<f|u,er=v+t}else Jn=1<<v|o<<f|u,er=t}function Rc(t){t.return!==null&&(ra(t,1),Tm(t,1,0))}function Mc(t){for(;t===fo;)fo=za[--Ha],za[Ha]=null,po=za[--Ha],za[Ha]=null;for(;t===na;)na=Sn[--bn],Sn[bn]=null,er=Sn[--bn],Sn[bn]=null,Jn=Sn[--bn],Sn[bn]=null}var gn=null,vn=null,yt=!1,An=null;function Rm(t,i){var o=En(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=t,i=t.deletions,i===null?(t.deletions=[o],t.flags|=16):i.push(o)}function Mm(t,i){switch(t.tag){case 5:var o=t.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,gn=t,vn=Sr(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,gn=t,vn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=na!==null?{id:Jn,overflow:er}:null,t.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=En(18,null,null,0),o.stateNode=i,o.return=t,t.child=o,gn=t,vn=null,!0):!1;default:return!1}}function Pc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dc(t){if(yt){var i=vn;if(i){var o=i;if(!Mm(t,i)){if(Pc(t))throw Error(r(418));i=Sr(o.nextSibling);var u=gn;i&&Mm(t,i)?Rm(u,o):(t.flags=t.flags&-4097|2,yt=!1,gn=t)}}else{if(Pc(t))throw Error(r(418));t.flags=t.flags&-4097|2,yt=!1,gn=t}}}function Pm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function go(t){if(t!==gn)return!1;if(!yt)return Pm(t),yt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!bc(t.type,t.memoizedProps)),i&&(i=vn)){if(Pc(t))throw Dm(),Error(r(418));for(;i;)Rm(t,i),i=Sr(i.nextSibling)}if(Pm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(i===0){vn=Sr(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}t=t.nextSibling}vn=null}}else vn=gn?Sr(t.stateNode.nextSibling):null;return!0}function Dm(){for(var t=vn;t;)t=Sr(t.nextSibling)}function Wa(){vn=gn=null,yt=!1}function Ac(t){An===null?An=[t]:An.push(t)}var $2=_.ReactCurrentBatchConfig;function Gi(t,i,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,t));var f=u,v=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(j){var T=f.refs;j===null?delete T[v]:T[v]=j},i._stringRef=v,i)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function vo(t,i){throw t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Am(t){var i=t._init;return i(t._payload)}function Im(t){function i(F,O){if(t){var W=F.deletions;W===null?(F.deletions=[O],F.flags|=16):W.push(O)}}function o(F,O){if(!t)return null;for(;O!==null;)i(F,O),O=O.sibling;return null}function u(F,O){for(F=new Map;O!==null;)O.key!==null?F.set(O.key,O):F.set(O.index,O),O=O.sibling;return F}function f(F,O){return F=Ar(F,O),F.index=0,F.sibling=null,F}function v(F,O,W){return F.index=W,t?(W=F.alternate,W!==null?(W=W.index,W<O?(F.flags|=2,O):W):(F.flags|=2,O)):(F.flags|=1048576,O)}function j(F){return t&&F.alternate===null&&(F.flags|=2),F}function T(F,O,W,fe){return O===null||O.tag!==6?(O=Cu(W,F.mode,fe),O.return=F,O):(O=f(O,W),O.return=F,O)}function D(F,O,W,fe){var Fe=W.type;return Fe===$?ue(F,O,W.props.children,fe,W.key):O!==null&&(O.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===ce&&Am(Fe)===O.type)?(fe=f(O,W.props),fe.ref=Gi(F,O,W),fe.return=F,fe):(fe=Wo(W.type,W.key,W.props,null,F.mode,fe),fe.ref=Gi(F,O,W),fe.return=F,fe)}function G(F,O,W,fe){return O===null||O.tag!==4||O.stateNode.containerInfo!==W.containerInfo||O.stateNode.implementation!==W.implementation?(O=ku(W,F.mode,fe),O.return=F,O):(O=f(O,W.children||[]),O.return=F,O)}function ue(F,O,W,fe,Fe){return O===null||O.tag!==7?(O=da(W,F.mode,fe,Fe),O.return=F,O):(O=f(O,W),O.return=F,O)}function de(F,O,W){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Cu(""+O,F.mode,W),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return W=Wo(O.type,O.key,O.props,null,F.mode,W),W.ref=Gi(F,null,O),W.return=F,W;case A:return O=ku(O,F.mode,W),O.return=F,O;case ce:var fe=O._init;return de(F,fe(O._payload),W)}if(vt(O)||Z(O))return O=da(O,F.mode,W,null),O.return=F,O;vo(F,O)}return null}function le(F,O,W,fe){var Fe=O!==null?O.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Fe!==null?null:T(F,O,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return W.key===Fe?D(F,O,W,fe):null;case A:return W.key===Fe?G(F,O,W,fe):null;case ce:return Fe=W._init,le(F,O,Fe(W._payload),fe)}if(vt(W)||Z(W))return Fe!==null?null:ue(F,O,W,fe,null);vo(F,W)}return null}function Te(F,O,W,fe,Fe){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return F=F.get(W)||null,T(O,F,""+fe,Fe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case L:return F=F.get(fe.key===null?W:fe.key)||null,D(O,F,fe,Fe);case A:return F=F.get(fe.key===null?W:fe.key)||null,G(O,F,fe,Fe);case ce:var $e=fe._init;return Te(F,O,W,$e(fe._payload),Fe)}if(vt(fe)||Z(fe))return F=F.get(W)||null,ue(O,F,fe,Fe,null);vo(O,fe)}return null}function Ie(F,O,W,fe){for(var Fe=null,$e=null,Ve=O,Ge=O=0,zt=null;Ve!==null&&Ge<W.length;Ge++){Ve.index>Ge?(zt=Ve,Ve=null):zt=Ve.sibling;var ot=le(F,Ve,W[Ge],fe);if(ot===null){Ve===null&&(Ve=zt);break}t&&Ve&&ot.alternate===null&&i(F,Ve),O=v(ot,O,Ge),$e===null?Fe=ot:$e.sibling=ot,$e=ot,Ve=zt}if(Ge===W.length)return o(F,Ve),yt&&ra(F,Ge),Fe;if(Ve===null){for(;Ge<W.length;Ge++)Ve=de(F,W[Ge],fe),Ve!==null&&(O=v(Ve,O,Ge),$e===null?Fe=Ve:$e.sibling=Ve,$e=Ve);return yt&&ra(F,Ge),Fe}for(Ve=u(F,Ve);Ge<W.length;Ge++)zt=Te(Ve,F,Ge,W[Ge],fe),zt!==null&&(t&&zt.alternate!==null&&Ve.delete(zt.key===null?Ge:zt.key),O=v(zt,O,Ge),$e===null?Fe=zt:$e.sibling=zt,$e=zt);return t&&Ve.forEach(function(Ir){return i(F,Ir)}),yt&&ra(F,Ge),Fe}function _e(F,O,W,fe){var Fe=Z(W);if(typeof Fe!="function")throw Error(r(150));if(W=Fe.call(W),W==null)throw Error(r(151));for(var $e=Fe=null,Ve=O,Ge=O=0,zt=null,ot=W.next();Ve!==null&&!ot.done;Ge++,ot=W.next()){Ve.index>Ge?(zt=Ve,Ve=null):zt=Ve.sibling;var Ir=le(F,Ve,ot.value,fe);if(Ir===null){Ve===null&&(Ve=zt);break}t&&Ve&&Ir.alternate===null&&i(F,Ve),O=v(Ir,O,Ge),$e===null?Fe=Ir:$e.sibling=Ir,$e=Ir,Ve=zt}if(ot.done)return o(F,Ve),yt&&ra(F,Ge),Fe;if(Ve===null){for(;!ot.done;Ge++,ot=W.next())ot=de(F,ot.value,fe),ot!==null&&(O=v(ot,O,Ge),$e===null?Fe=ot:$e.sibling=ot,$e=ot);return yt&&ra(F,Ge),Fe}for(Ve=u(F,Ve);!ot.done;Ge++,ot=W.next())ot=Te(Ve,F,Ge,ot.value,fe),ot!==null&&(t&&ot.alternate!==null&&Ve.delete(ot.key===null?Ge:ot.key),O=v(ot,O,Ge),$e===null?Fe=ot:$e.sibling=ot,$e=ot);return t&&Ve.forEach(function(Sy){return i(F,Sy)}),yt&&ra(F,Ge),Fe}function Et(F,O,W,fe){if(typeof W=="object"&&W!==null&&W.type===$&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case L:e:{for(var Fe=W.key,$e=O;$e!==null;){if($e.key===Fe){if(Fe=W.type,Fe===$){if($e.tag===7){o(F,$e.sibling),O=f($e,W.props.children),O.return=F,F=O;break e}}else if($e.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===ce&&Am(Fe)===$e.type){o(F,$e.sibling),O=f($e,W.props),O.ref=Gi(F,$e,W),O.return=F,F=O;break e}o(F,$e);break}else i(F,$e);$e=$e.sibling}W.type===$?(O=da(W.props.children,F.mode,fe,W.key),O.return=F,F=O):(fe=Wo(W.type,W.key,W.props,null,F.mode,fe),fe.ref=Gi(F,O,W),fe.return=F,F=fe)}return j(F);case A:e:{for($e=W.key;O!==null;){if(O.key===$e)if(O.tag===4&&O.stateNode.containerInfo===W.containerInfo&&O.stateNode.implementation===W.implementation){o(F,O.sibling),O=f(O,W.children||[]),O.return=F,F=O;break e}else{o(F,O);break}else i(F,O);O=O.sibling}O=ku(W,F.mode,fe),O.return=F,F=O}return j(F);case ce:return $e=W._init,Et(F,O,$e(W._payload),fe)}if(vt(W))return Ie(F,O,W,fe);if(Z(W))return _e(F,O,W,fe);vo(F,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,O!==null&&O.tag===6?(o(F,O.sibling),O=f(O,W),O.return=F,F=O):(o(F,O),O=Cu(W,F.mode,fe),O.return=F,F=O),j(F)):o(F,O)}return Et}var Ba=Im(!0),Om=Im(!1),yo=br(null),xo=null,$a=null,Ic=null;function Oc(){Ic=$a=xo=null}function Lc(t){var i=yo.current;ft(yo),t._currentValue=i}function _c(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function Va(t,i){xo=t,Ic=$a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(sn=!0),t.firstContext=null)}function Cn(t){var i=t._currentValue;if(Ic!==t)if(t={context:t,memoizedValue:i,next:null},$a===null){if(xo===null)throw Error(r(308));$a=t,xo.dependencies={lanes:0,firstContext:t}}else $a=$a.next=t;return i}var aa=null;function Fc(t){aa===null?aa=[t]:aa.push(t)}function Lm(t,i,o,u){var f=i.interleaved;return f===null?(o.next=o,Fc(i)):(o.next=f.next,f.next=o),i.interleaved=o,tr(t,u)}function tr(t,i){t.lanes|=i;var o=t.alternate;for(o!==null&&(o.lanes|=i),o=t,t=t.return;t!==null;)t.childLanes|=i,o=t.alternate,o!==null&&(o.childLanes|=i),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Nr=!1;function zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Er(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,tr(t,o)}return f=u.interleaved,f===null?(i.next=i,Fc(u)):(i.next=f.next,f.next=i),u.interleaved=i,tr(t,o)}function wo(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Jl(t,o)}}function Fm(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var j={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?f=v=j:v=v.next=j,o=o.next}while(o!==null);v===null?f=v=i:v=v.next=i}else f=v=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}function jo(t,i,o,u){var f=t.updateQueue;Nr=!1;var v=f.firstBaseUpdate,j=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,G=D.next;D.next=null,j===null?v=G:j.next=G,j=D;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,T=ue.lastBaseUpdate,T!==j&&(T===null?ue.firstBaseUpdate=G:T.next=G,ue.lastBaseUpdate=D))}if(v!==null){var de=f.baseState;j=0,ue=G=D=null,T=v;do{var le=T.lane,Te=T.eventTime;if((u&le)===le){ue!==null&&(ue=ue.next={eventTime:Te,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Ie=t,_e=T;switch(le=i,Te=o,_e.tag){case 1:if(Ie=_e.payload,typeof Ie=="function"){de=Ie.call(Te,de,le);break e}de=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=_e.payload,le=typeof Ie=="function"?Ie.call(Te,de,le):Ie,le==null)break e;de=U({},de,le);break e;case 2:Nr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,le=f.effects,le===null?f.effects=[T]:le.push(T))}else Te={eventTime:Te,lane:le,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ue===null?(G=ue=Te,D=de):ue=ue.next=Te,j|=le;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;le=T,T=le.next,le.next=null,f.lastBaseUpdate=le,f.shared.pending=null}}while(!0);if(ue===null&&(D=de),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=ue,i=f.shared.interleaved,i!==null){f=i;do j|=f.lane,f=f.next;while(f!==i)}else v===null&&(f.shared.lanes=0);oa|=j,t.lanes=j,t.memoizedState=de}}function zm(t,i,o){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var u=t[i],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(r(191,f));f.call(u)}}}var Yi={},Wn=br(Yi),Ki=br(Yi),qi=br(Yi);function ia(t){if(t===Yi)throw Error(r(174));return t}function Hc(t,i){switch(mt(qi,i),mt(Ki,t),mt(Wn,Yi),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Je(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Je(i,t)}ft(Wn),mt(Wn,i)}function Ua(){ft(Wn),ft(Ki),ft(qi)}function Hm(t){ia(qi.current);var i=ia(Wn.current),o=Je(i,t.type);i!==o&&(mt(Ki,t),mt(Wn,o))}function Wc(t){Ki.current===t&&(ft(Wn),ft(Ki))}var wt=br(0);function So(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bc=[];function $c(){for(var t=0;t<Bc.length;t++)Bc[t]._workInProgressVersionPrimary=null;Bc.length=0}var bo=_.ReactCurrentDispatcher,Vc=_.ReactCurrentBatchConfig,sa=0,jt=null,It=null,_t=null,Co=!1,Xi=!1,Qi=0,V2=0;function qt(){throw Error(r(321))}function Uc(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Dn(t[o],i[o]))return!1;return!0}function Gc(t,i,o,u,f,v){if(sa=v,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,bo.current=t===null||t.memoizedState===null?K2:q2,t=o(u,f),Xi){v=0;do{if(Xi=!1,Qi=0,25<=v)throw Error(r(301));v+=1,_t=It=null,i.updateQueue=null,bo.current=X2,t=o(u,f)}while(Xi)}if(bo.current=Eo,i=It!==null&&It.next!==null,sa=0,_t=It=jt=null,Co=!1,i)throw Error(r(300));return t}function Yc(){var t=Qi!==0;return Qi=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?jt.memoizedState=_t=t:_t=_t.next=t,_t}function kn(){if(It===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var i=_t===null?jt.memoizedState:_t.next;if(i!==null)_t=i,It=t;else{if(t===null)throw Error(r(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},_t===null?jt.memoizedState=_t=t:_t=_t.next=t}return _t}function Zi(t,i){return typeof i=="function"?i(t):i}function Kc(t){var i=kn(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=It,f=u.baseQueue,v=o.pending;if(v!==null){if(f!==null){var j=f.next;f.next=v.next,v.next=j}u.baseQueue=f=v,o.pending=null}if(f!==null){v=f.next,u=u.baseState;var T=j=null,D=null,G=v;do{var ue=G.lane;if((sa&ue)===ue)D!==null&&(D=D.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),u=G.hasEagerState?G.eagerState:t(u,G.action);else{var de={lane:ue,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};D===null?(T=D=de,j=u):D=D.next=de,jt.lanes|=ue,oa|=ue}G=G.next}while(G!==null&&G!==v);D===null?j=u:D.next=T,Dn(u,i.memoizedState)||(sn=!0),i.memoizedState=u,i.baseState=j,i.baseQueue=D,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do v=f.lane,jt.lanes|=v,oa|=v,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function qc(t){var i=kn(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,v=i.memoizedState;if(f!==null){o.pending=null;var j=f=f.next;do v=t(v,j.action),j=j.next;while(j!==f);Dn(v,i.memoizedState)||(sn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,u]}function Wm(){}function Bm(t,i){var o=jt,u=kn(),f=i(),v=!Dn(u.memoizedState,f);if(v&&(u.memoizedState=f,sn=!0),u=u.queue,Xc(Um.bind(null,o,u,t),[t]),u.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Ji(9,Vm.bind(null,o,u,f,i),void 0,null),Ft===null)throw Error(r(349));(sa&30)!==0||$m(o,i,f)}return f}function $m(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=jt.updateQueue,i===null?(i={lastEffect:null,stores:null},jt.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Vm(t,i,o,u){i.value=o,i.getSnapshot=u,Gm(i)&&Ym(t)}function Um(t,i,o){return o(function(){Gm(i)&&Ym(t)})}function Gm(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Dn(t,o)}catch{return!0}}function Ym(t){var i=tr(t,1);i!==null&&_n(i,t,1,-1)}function Km(t){var i=Bn();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i.queue=t,t=t.dispatch=Y2.bind(null,jt,t),[i.memoizedState,t]}function Ji(t,i,o,u){return t={tag:t,create:i,destroy:o,deps:u,next:null},i=jt.updateQueue,i===null?(i={lastEffect:null,stores:null},jt.updateQueue=i,i.lastEffect=t.next=t):(o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t)),t}function qm(){return kn().memoizedState}function ko(t,i,o,u){var f=Bn();jt.flags|=t,f.memoizedState=Ji(1|i,o,void 0,u===void 0?null:u)}function No(t,i,o,u){var f=kn();u=u===void 0?null:u;var v=void 0;if(It!==null){var j=It.memoizedState;if(v=j.destroy,u!==null&&Uc(u,j.deps)){f.memoizedState=Ji(i,o,v,u);return}}jt.flags|=t,f.memoizedState=Ji(1|i,o,v,u)}function Xm(t,i){return ko(8390656,8,t,i)}function Xc(t,i){return No(2048,8,t,i)}function Qm(t,i){return No(4,2,t,i)}function Zm(t,i){return No(4,4,t,i)}function Jm(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function eh(t,i,o){return o=o!=null?o.concat([t]):null,No(4,4,Jm.bind(null,i,t),o)}function Qc(){}function th(t,i){var o=kn();i=i===void 0?null:i;var u=o.memoizedState;return u!==null&&i!==null&&Uc(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function nh(t,i){var o=kn();i=i===void 0?null:i;var u=o.memoizedState;return u!==null&&i!==null&&Uc(i,u[1])?u[0]:(t=t(),o.memoizedState=[t,i],t)}function rh(t,i,o){return(sa&21)===0?(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=o):(Dn(o,i)||(o=A0(),jt.lanes|=o,oa|=o,t.baseState=!0),i)}function U2(t,i){var o=ct;ct=o!==0&&4>o?o:4,t(!0);var u=Vc.transition;Vc.transition={};try{t(!1),i()}finally{ct=o,Vc.transition=u}}function ah(){return kn().memoizedState}function G2(t,i,o){var u=Pr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},ih(t))sh(i,o);else if(o=Lm(t,i,o,u),o!==null){var f=en();_n(o,t,u,f),oh(o,i,u)}}function Y2(t,i,o){var u=Pr(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(ih(t))sh(i,f);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var j=i.lastRenderedState,T=v(j,o);if(f.hasEagerState=!0,f.eagerState=T,Dn(T,j)){var D=i.interleaved;D===null?(f.next=f,Fc(i)):(f.next=D.next,D.next=f),i.interleaved=f;return}}catch{}o=Lm(t,i,f,u),o!==null&&(f=en(),_n(o,t,u,f),oh(o,i,u))}}function ih(t){var i=t.alternate;return t===jt||i!==null&&i===jt}function sh(t,i){Xi=Co=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function oh(t,i,o){if((o&4194240)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Jl(t,o)}}var Eo={readContext:Cn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},K2={readContext:Cn,useCallback:function(t,i){return Bn().memoizedState=[t,i===void 0?null:i],t},useContext:Cn,useEffect:Xm,useImperativeHandle:function(t,i,o){return o=o!=null?o.concat([t]):null,ko(4194308,4,Jm.bind(null,i,t),o)},useLayoutEffect:function(t,i){return ko(4194308,4,t,i)},useInsertionEffect:function(t,i){return ko(4,2,t,i)},useMemo:function(t,i){var o=Bn();return i=i===void 0?null:i,t=t(),o.memoizedState=[t,i],t},useReducer:function(t,i,o){var u=Bn();return i=o!==void 0?o(i):i,u.memoizedState=u.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},u.queue=t,t=t.dispatch=G2.bind(null,jt,t),[u.memoizedState,t]},useRef:function(t){var i=Bn();return t={current:t},i.memoizedState=t},useState:Km,useDebugValue:Qc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Km(!1),i=t[0];return t=U2.bind(null,t[1]),Bn().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,o){var u=jt,f=Bn();if(yt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),Ft===null)throw Error(r(349));(sa&30)!==0||$m(u,i,o)}f.memoizedState=o;var v={value:o,getSnapshot:i};return f.queue=v,Xm(Um.bind(null,u,v,t),[t]),u.flags|=2048,Ji(9,Vm.bind(null,u,v,o,i),void 0,null),o},useId:function(){var t=Bn(),i=Ft.identifierPrefix;if(yt){var o=er,u=Jn;o=(u&~(1<<32-qe(u)-1)).toString(32)+o,i=":"+i+"R"+o,o=Qi++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=V2++,i=":"+i+"r"+o.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},q2={readContext:Cn,useCallback:th,useContext:Cn,useEffect:Xc,useImperativeHandle:eh,useInsertionEffect:Qm,useLayoutEffect:Zm,useMemo:nh,useReducer:Kc,useRef:qm,useState:function(){return Kc(Zi)},useDebugValue:Qc,useDeferredValue:function(t){var i=kn();return rh(i,It.memoizedState,t)},useTransition:function(){var t=Kc(Zi)[0],i=kn().memoizedState;return[t,i]},useMutableSource:Wm,useSyncExternalStore:Bm,useId:ah,unstable_isNewReconciler:!1},X2={readContext:Cn,useCallback:th,useContext:Cn,useEffect:Xc,useImperativeHandle:eh,useInsertionEffect:Qm,useLayoutEffect:Zm,useMemo:nh,useReducer:qc,useRef:qm,useState:function(){return qc(Zi)},useDebugValue:Qc,useDeferredValue:function(t){var i=kn();return It===null?i.memoizedState=t:rh(i,It.memoizedState,t)},useTransition:function(){var t=qc(Zi)[0],i=kn().memoizedState;return[t,i]},useMutableSource:Wm,useSyncExternalStore:Bm,useId:ah,unstable_isNewReconciler:!1};function In(t,i){if(t&&t.defaultProps){i=U({},i),t=t.defaultProps;for(var o in t)i[o]===void 0&&(i[o]=t[o]);return i}return i}function Zc(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:U({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var To={isMounted:function(t){return(t=t._reactInternals)?Xn(t)===t:!1},enqueueSetState:function(t,i,o){t=t._reactInternals;var u=en(),f=Pr(t),v=nr(u,f);v.payload=i,o!=null&&(v.callback=o),i=Er(t,v,f),i!==null&&(_n(i,t,f,u),wo(i,t,f))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=en(),f=Pr(t),v=nr(u,f);v.tag=1,v.payload=i,o!=null&&(v.callback=o),i=Er(t,v,f),i!==null&&(_n(i,t,f,u),wo(i,t,f))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=en(),u=Pr(t),f=nr(o,u);f.tag=2,i!=null&&(f.callback=i),i=Er(t,f,u),i!==null&&(_n(i,t,u,o),wo(i,t,u))}};function lh(t,i,o,u,f,v,j){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,j):i.prototype&&i.prototype.isPureReactComponent?!zi(o,u)||!zi(f,v):!0}function ch(t,i,o){var u=!1,f=Cr,v=i.contextType;return typeof v=="object"&&v!==null?v=Cn(v):(f=an(i)?ta:Kt.current,u=i.contextTypes,v=(u=u!=null)?Fa(t,f):Cr),i=new i(o,v),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=To,t.stateNode=i,i._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=v),i}function uh(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&To.enqueueReplaceState(i,i.state,null)}function Jc(t,i,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},zc(t);var v=i.contextType;typeof v=="object"&&v!==null?f.context=Cn(v):(v=an(i)?ta:Kt.current,f.context=Fa(t,v)),f.state=t.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Zc(t,i,v,o),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&To.enqueueReplaceState(f,f.state,null),jo(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,i){try{var o="",u=i;do o+=he(u),u=u.return;while(u);var f=o}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:i,stack:f,digest:null}}function eu(t,i,o){return{value:t,source:null,stack:o??null,digest:i??null}}function tu(t,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Q2=typeof WeakMap=="function"?WeakMap:Map;function dh(t,i,o){o=nr(-1,o),o.tag=3,o.payload={element:null};var u=i.value;return o.callback=function(){Oo||(Oo=!0,gu=u),tu(t,i)},o}function mh(t,i,o){o=nr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;o.payload=function(){return u(f)},o.callback=function(){tu(t,i)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){tu(t,i),typeof u!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var j=i.stack;this.componentDidCatch(i.value,{componentStack:j!==null?j:""})}),o}function hh(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Q2;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(f.add(o),t=dy.bind(null,t,i,o),i.then(t,t))}function fh(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function ph(t,i,o,u,f){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=nr(-1,1),i.tag=2,Er(o,i,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Z2=_.ReactCurrentOwner,sn=!1;function Jt(t,i,o,u){i.child=t===null?Om(i,null,o,u):Ba(i,t.child,o,u)}function gh(t,i,o,u,f){o=o.render;var v=i.ref;return Va(i,f),u=Gc(t,i,o,u,v,f),o=Yc(),t!==null&&!sn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~f,rr(t,i,f)):(yt&&o&&Rc(i),i.flags|=1,Jt(t,i,u,f),i.child)}function vh(t,i,o,u,f){if(t===null){var v=o.type;return typeof v=="function"&&!bu(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=v,yh(t,i,v,u,f)):(t=Wo(o.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,(t.lanes&f)===0){var j=v.memoizedProps;if(o=o.compare,o=o!==null?o:zi,o(j,u)&&t.ref===i.ref)return rr(t,i,f)}return i.flags|=1,t=Ar(v,u),t.ref=i.ref,t.return=i,i.child=t}function yh(t,i,o,u,f){if(t!==null){var v=t.memoizedProps;if(zi(v,u)&&t.ref===i.ref)if(sn=!1,i.pendingProps=u=v,(t.lanes&f)!==0)(t.flags&131072)!==0&&(sn=!0);else return i.lanes=t.lanes,rr(t,i,f)}return nu(t,i,o,u,f)}function xh(t,i,o){var u=i.pendingProps,f=u.children,v=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ka,yn),yn|=o;else{if((o&1073741824)===0)return t=v!==null?v.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,mt(Ka,yn),yn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=v!==null?v.baseLanes:o,mt(Ka,yn),yn|=u}else v!==null?(u=v.baseLanes|o,i.memoizedState=null):u=o,mt(Ka,yn),yn|=u;return Jt(t,i,f,o),i.child}function wh(t,i){var o=i.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function nu(t,i,o,u,f){var v=an(o)?ta:Kt.current;return v=Fa(i,v),Va(i,f),o=Gc(t,i,o,u,v,f),u=Yc(),t!==null&&!sn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~f,rr(t,i,f)):(yt&&u&&Rc(i),i.flags|=1,Jt(t,i,o,f),i.child)}function jh(t,i,o,u,f){if(an(o)){var v=!0;mo(i)}else v=!1;if(Va(i,f),i.stateNode===null)Mo(t,i),ch(i,o,u),Jc(i,o,u,f),u=!0;else if(t===null){var j=i.stateNode,T=i.memoizedProps;j.props=T;var D=j.context,G=o.contextType;typeof G=="object"&&G!==null?G=Cn(G):(G=an(o)?ta:Kt.current,G=Fa(i,G));var ue=o.getDerivedStateFromProps,de=typeof ue=="function"||typeof j.getSnapshotBeforeUpdate=="function";de||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(T!==u||D!==G)&&uh(i,j,u,G),Nr=!1;var le=i.memoizedState;j.state=le,jo(i,u,j,f),D=i.memoizedState,T!==u||le!==D||rn.current||Nr?(typeof ue=="function"&&(Zc(i,o,ue,u),D=i.memoizedState),(T=Nr||lh(i,o,T,u,le,D,G))?(de||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(i.flags|=4194308)):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=D),j.props=u,j.state=D,j.context=G,u=T):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{j=i.stateNode,_m(t,i),T=i.memoizedProps,G=i.type===i.elementType?T:In(i.type,T),j.props=G,de=i.pendingProps,le=j.context,D=o.contextType,typeof D=="object"&&D!==null?D=Cn(D):(D=an(o)?ta:Kt.current,D=Fa(i,D));var Te=o.getDerivedStateFromProps;(ue=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(T!==de||le!==D)&&uh(i,j,u,D),Nr=!1,le=i.memoizedState,j.state=le,jo(i,u,j,f);var Ie=i.memoizedState;T!==de||le!==Ie||rn.current||Nr?(typeof Te=="function"&&(Zc(i,o,Te,u),Ie=i.memoizedState),(G=Nr||lh(i,o,G,u,le,Ie,D)||!1)?(ue||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(u,Ie,D),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(u,Ie,D)),typeof j.componentDidUpdate=="function"&&(i.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof j.componentDidUpdate!="function"||T===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Ie),j.props=u,j.state=Ie,j.context=D,u=G):(typeof j.componentDidUpdate!="function"||T===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),u=!1)}return ru(t,i,o,u,v,f)}function ru(t,i,o,u,f,v){wh(t,i);var j=(i.flags&128)!==0;if(!u&&!j)return f&&Nm(i,o,!1),rr(t,i,v);u=i.stateNode,Z2.current=i;var T=j&&typeof o.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,t!==null&&j?(i.child=Ba(i,t.child,null,v),i.child=Ba(i,null,T,v)):Jt(t,i,T,v),i.memoizedState=u.state,f&&Nm(i,o,!0),i.child}function Sh(t){var i=t.stateNode;i.pendingContext?Cm(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Cm(t,i.context,!1),Hc(t,i.containerInfo)}function bh(t,i,o,u,f){return Wa(),Ac(f),i.flags|=256,Jt(t,i,o,u),i.child}var au={dehydrated:null,treeContext:null,retryLane:0};function iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ch(t,i,o){var u=i.pendingProps,f=wt.current,v=!1,j=(i.flags&128)!==0,T;if((T=j)||(T=t!==null&&t.memoizedState===null?!1:(f&2)!==0),T?(v=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),mt(wt,f&1),t===null)return Dc(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(j=u.children,t=u.fallback,v?(u=i.mode,v=i.child,j={mode:"hidden",children:j},(u&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=j):v=Bo(j,u,0,null),t=da(t,u,o,null),v.return=i,t.return=i,v.sibling=t,i.child=v,i.child.memoizedState=iu(o),i.memoizedState=au,t):su(i,j));if(f=t.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return J2(t,i,j,u,T,f,o);if(v){v=u.fallback,j=i.mode,f=t.child,T=f.sibling;var D={mode:"hidden",children:u.children};return(j&1)===0&&i.child!==f?(u=i.child,u.childLanes=0,u.pendingProps=D,i.deletions=null):(u=Ar(f,D),u.subtreeFlags=f.subtreeFlags&14680064),T!==null?v=Ar(T,v):(v=da(v,j,o,null),v.flags|=2),v.return=i,u.return=i,u.sibling=v,i.child=u,u=v,v=i.child,j=t.child.memoizedState,j=j===null?iu(o):{baseLanes:j.baseLanes|o,cachePool:null,transitions:j.transitions},v.memoizedState=j,v.childLanes=t.childLanes&~o,i.memoizedState=au,u}return v=t.child,t=v.sibling,u=Ar(v,{mode:"visible",children:u.children}),(i.mode&1)===0&&(u.lanes=o),u.return=i,u.sibling=null,t!==null&&(o=i.deletions,o===null?(i.deletions=[t],i.flags|=16):o.push(t)),i.child=u,i.memoizedState=null,u}function su(t,i){return i=Bo({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Ro(t,i,o,u){return u!==null&&Ac(u),Ba(i,t.child,null,o),t=su(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function J2(t,i,o,u,f,v,j){if(o)return i.flags&256?(i.flags&=-257,u=eu(Error(r(422))),Ro(t,i,j,u)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(v=u.fallback,f=i.mode,u=Bo({mode:"visible",children:u.children},f,0,null),v=da(v,f,j,null),v.flags|=2,u.return=i,v.return=i,u.sibling=v,i.child=u,(i.mode&1)!==0&&Ba(i,t.child,null,j),i.child.memoizedState=iu(j),i.memoizedState=au,v);if((i.mode&1)===0)return Ro(t,i,j,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var T=u.dgst;return u=T,v=Error(r(419)),u=eu(v,u,void 0),Ro(t,i,j,u)}if(T=(j&t.childLanes)!==0,sn||T){if(u=Ft,u!==null){switch(j&-j){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|j))!==0?0:f,f!==0&&f!==v.retryLane&&(v.retryLane=f,tr(t,f),_n(u,t,f,-1))}return Su(),u=eu(Error(r(421))),Ro(t,i,j,u)}return f.data==="$?"?(i.flags|=128,i.child=t.child,i=my.bind(null,t),f._reactRetry=i,null):(t=v.treeContext,vn=Sr(f.nextSibling),gn=i,yt=!0,An=null,t!==null&&(Sn[bn++]=Jn,Sn[bn++]=er,Sn[bn++]=na,Jn=t.id,er=t.overflow,na=i),i=su(i,u.children),i.flags|=4096,i)}function kh(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),_c(t.return,i,o)}function ou(t,i,o,u,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=f)}function Nh(t,i,o){var u=i.pendingProps,f=u.revealOrder,v=u.tail;if(Jt(t,i,u.children,o),u=wt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kh(t,o,i);else if(t.tag===19)kh(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(mt(wt,u),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(o=i.child,f=null;o!==null;)t=o.alternate,t!==null&&So(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),ou(i,!1,f,o,v);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&So(t)===null){i.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}ou(i,!0,o,null,v);break;case"together":ou(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mo(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function rr(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),oa|=i.lanes,(o&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=Ar(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Ar(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function ey(t,i,o){switch(i.tag){case 3:Sh(i),Wa();break;case 5:Hm(i);break;case 1:an(i.type)&&mo(i);break;case 4:Hc(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,f=i.memoizedProps.value;mt(yo,u._currentValue),u._currentValue=f;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(mt(wt,wt.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?Ch(t,i,o):(mt(wt,wt.current&1),t=rr(t,i,o),t!==null?t.sibling:null);mt(wt,wt.current&1);break;case 19:if(u=(o&i.childLanes)!==0,(t.flags&128)!==0){if(u)return Nh(t,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),mt(wt,wt.current),u)break;return null;case 22:case 23:return i.lanes=0,xh(t,i,o)}return rr(t,i,o)}var Eh,lu,Th,Rh;Eh=function(t,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},lu=function(){},Th=function(t,i,o,u){var f=t.memoizedProps;if(f!==u){t=i.stateNode,ia(Wn.current);var v=null;switch(o){case"input":f=dt(t,f),u=dt(t,u),v=[];break;case"select":f=U({},f,{value:void 0}),u=U({},u,{value:void 0}),v=[];break;case"textarea":f=Pe(t,f),u=Pe(t,u),v=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=lo)}ke(o,u);var j;o=null;for(G in f)if(!u.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var T=f[G];for(j in T)T.hasOwnProperty(j)&&(o||(o={}),o[j]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(l.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in u){var D=u[G];if(T=f?.[G],u.hasOwnProperty(G)&&D!==T&&(D!=null||T!=null))if(G==="style")if(T){for(j in T)!T.hasOwnProperty(j)||D&&D.hasOwnProperty(j)||(o||(o={}),o[j]="");for(j in D)D.hasOwnProperty(j)&&T[j]!==D[j]&&(o||(o={}),o[j]=D[j])}else o||(v||(v=[]),v.push(G,o)),o=D;else G==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,T=T?T.__html:void 0,D!=null&&T!==D&&(v=v||[]).push(G,D)):G==="children"?typeof D!="string"&&typeof D!="number"||(v=v||[]).push(G,""+D):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(l.hasOwnProperty(G)?(D!=null&&G==="onScroll"&&ht("scroll",t),v||T===D||(v=[])):(v=v||[]).push(G,D))}o&&(v=v||[]).push("style",o);var G=v;(i.updateQueue=G)&&(i.flags|=4)}},Rh=function(t,i,o,u){o!==u&&(i.flags|=4)};function es(t,i){if(!yt)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Xt(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function ty(t,i,o){var u=i.pendingProps;switch(Mc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(i),null;case 1:return an(i.type)&&uo(),Xt(i),null;case 3:return u=i.stateNode,Ua(),ft(rn),ft(Kt),$c(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(go(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,An!==null&&(xu(An),An=null))),lu(t,i),Xt(i),null;case 5:Wc(i);var f=ia(qi.current);if(o=i.type,t!==null&&i.stateNode!=null)Th(t,i,o,u,f),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Xt(i),null}if(t=ia(Wn.current),go(i)){u=i.stateNode,o=i.type;var v=i.memoizedProps;switch(u[Hn]=i,u[Vi]=v,t=(i.mode&1)!==0,o){case"dialog":ht("cancel",u),ht("close",u);break;case"iframe":case"object":case"embed":ht("load",u);break;case"video":case"audio":for(f=0;f<Wi.length;f++)ht(Wi[f],u);break;case"source":ht("error",u);break;case"img":case"image":case"link":ht("error",u),ht("load",u);break;case"details":ht("toggle",u);break;case"input":Be(u,v),ht("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!v.multiple},ht("invalid",u);break;case"textarea":je(u,v),ht("invalid",u)}ke(o,v),f=null;for(var j in v)if(v.hasOwnProperty(j)){var T=v[j];j==="children"?typeof T=="string"?u.textContent!==T&&(v.suppressHydrationWarning!==!0&&oo(u.textContent,T,t),f=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&oo(u.textContent,T,t),f=["children",""+T]):l.hasOwnProperty(j)&&T!=null&&j==="onScroll"&&ht("scroll",u)}switch(o){case"input":be(u),nn(u,v,!0);break;case"textarea":be(u),Xe(u);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(u.onclick=lo)}u=f,i.updateQueue=u,u!==null&&(i.flags|=4)}else{j=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ne(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=j.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=j.createElement(o,{is:u.is}):(t=j.createElement(o),o==="select"&&(j=t,u.multiple?j.multiple=!0:u.size&&(j.size=u.size))):t=j.createElementNS(t,o),t[Hn]=i,t[Vi]=u,Eh(t,i,!1,!1),i.stateNode=t;e:{switch(j=Le(o,u),o){case"dialog":ht("cancel",t),ht("close",t),f=u;break;case"iframe":case"object":case"embed":ht("load",t),f=u;break;case"video":case"audio":for(f=0;f<Wi.length;f++)ht(Wi[f],t);f=u;break;case"source":ht("error",t),f=u;break;case"img":case"image":case"link":ht("error",t),ht("load",t),f=u;break;case"details":ht("toggle",t),f=u;break;case"input":Be(t,u),f=dt(t,u),ht("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=U({},u,{value:void 0}),ht("invalid",t);break;case"textarea":je(t,u),f=Pe(t,u),ht("invalid",t);break;default:f=u}ke(o,f),T=f;for(v in T)if(T.hasOwnProperty(v)){var D=T[v];v==="style"?J(t,D):v==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Ht(t,D)):v==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&Pn(t,D):typeof D=="number"&&Pn(t,""+D):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(l.hasOwnProperty(v)?D!=null&&v==="onScroll"&&ht("scroll",t):D!=null&&P(t,v,D,j))}switch(o){case"input":be(t),nn(t,u,!1);break;case"textarea":be(t),Xe(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ce(u.value));break;case"select":t.multiple=!!u.multiple,v=u.value,v!=null?me(t,!!u.multiple,v,!1):u.defaultValue!=null&&me(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=lo)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Xt(i),null;case 6:if(t&&i.stateNode!=null)Rh(t,i,t.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(o=ia(qi.current),ia(Wn.current),go(i)){if(u=i.stateNode,o=i.memoizedProps,u[Hn]=i,(v=u.nodeValue!==o)&&(t=gn,t!==null))switch(t.tag){case 3:oo(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oo(u.nodeValue,o,(t.mode&1)!==0)}v&&(i.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Hn]=i,i.stateNode=u}return Xt(i),null;case 13:if(ft(wt),u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&vn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Dm(),Wa(),i.flags|=98560,v=!1;else if(v=go(i),u!==null&&u.dehydrated!==null){if(t===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Hn]=i}else Wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xt(i),v=!1}else An!==null&&(xu(An),An=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(wt.current&1)!==0?Ot===0&&(Ot=3):Su())),i.updateQueue!==null&&(i.flags|=4),Xt(i),null);case 4:return Ua(),lu(t,i),t===null&&Bi(i.stateNode.containerInfo),Xt(i),null;case 10:return Lc(i.type._context),Xt(i),null;case 17:return an(i.type)&&uo(),Xt(i),null;case 19:if(ft(wt),v=i.memoizedState,v===null)return Xt(i),null;if(u=(i.flags&128)!==0,j=v.rendering,j===null)if(u)es(v,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(j=So(t),j!==null){for(i.flags|=128,es(v,!1),u=j.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=o,o=i.child;o!==null;)v=o,t=u,v.flags&=14680066,j=v.alternate,j===null?(v.childLanes=0,v.lanes=t,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=j.childLanes,v.lanes=j.lanes,v.child=j.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=j.memoizedProps,v.memoizedState=j.memoizedState,v.updateQueue=j.updateQueue,v.type=j.type,t=j.dependencies,v.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return mt(wt,wt.current&1|2),i.child}t=t.sibling}v.tail!==null&&xt()>qa&&(i.flags|=128,u=!0,es(v,!1),i.lanes=4194304)}else{if(!u)if(t=So(j),t!==null){if(i.flags|=128,u=!0,o=t.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),es(v,!0),v.tail===null&&v.tailMode==="hidden"&&!j.alternate&&!yt)return Xt(i),null}else 2*xt()-v.renderingStartTime>qa&&o!==1073741824&&(i.flags|=128,u=!0,es(v,!1),i.lanes=4194304);v.isBackwards?(j.sibling=i.child,i.child=j):(o=v.last,o!==null?o.sibling=j:i.child=j,v.last=j)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=xt(),i.sibling=null,o=wt.current,mt(wt,u?o&1|2:o&1),i):(Xt(i),null);case 22:case 23:return ju(),u=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(i.flags|=8192),u&&(i.mode&1)!==0?(yn&1073741824)!==0&&(Xt(i),i.subtreeFlags&6&&(i.flags|=8192)):Xt(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function ny(t,i){switch(Mc(i),i.tag){case 1:return an(i.type)&&uo(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ua(),ft(rn),ft(Kt),$c(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Wc(i),null;case 13:if(ft(wt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ft(wt),null;case 4:return Ua(),null;case 10:return Lc(i.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var Po=!1,Qt=!1,ry=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ya(t,i){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ct(t,i,u)}else o.current=null}function cu(t,i,o){try{o()}catch(u){Ct(t,i,u)}}var Mh=!1;function ay(t,i){if(jc=Xs,t=lm(),hc(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var j=0,T=-1,D=-1,G=0,ue=0,de=t,le=null;t:for(;;){for(var Te;de!==o||f!==0&&de.nodeType!==3||(T=j+f),de!==v||u!==0&&de.nodeType!==3||(D=j+u),de.nodeType===3&&(j+=de.nodeValue.length),(Te=de.firstChild)!==null;)le=de,de=Te;for(;;){if(de===t)break t;if(le===o&&++G===f&&(T=j),le===v&&++ue===u&&(D=j),(Te=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=Te}o=T===-1||D===-1?null:{start:T,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sc={focusedElem:t,selectionRange:o},Xs=!1,De=i;De!==null;)if(i=De,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,De=t;else for(;De!==null;){i=De;try{var Ie=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var _e=Ie.memoizedProps,Et=Ie.memoizedState,F=i.stateNode,O=F.getSnapshotBeforeUpdate(i.elementType===i.type?_e:In(i.type,_e),Et);F.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){Ct(i,i.return,fe)}if(t=i.sibling,t!==null){t.return=i.return,De=t;break}De=i.return}return Ie=Mh,Mh=!1,Ie}function ts(t,i,o){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var v=f.destroy;f.destroy=void 0,v!==void 0&&cu(i,o,v)}f=f.next}while(f!==u)}}function Do(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==i)}}function uu(t){var i=t.ref;if(i!==null){var o=t.stateNode;t.tag,t=o,typeof i=="function"?i(t):i.current=t}}function Ph(t){var i=t.alternate;i!==null&&(t.alternate=null,Ph(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Hn],delete i[Vi],delete i[Nc],delete i[H2],delete i[W2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dh(t){return t.tag===5||t.tag===3||t.tag===4}function Ah(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(t,i):o.insertBefore(t,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(t,o)):(i=o,i.appendChild(t)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=lo));else if(u!==4&&(t=t.child,t!==null))for(du(t,i,o),t=t.sibling;t!==null;)du(t,i,o),t=t.sibling}function mu(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(mu(t,i,o),t=t.sibling;t!==null;)mu(t,i,o),t=t.sibling}var Wt=null,On=!1;function Tr(t,i,o){for(o=o.child;o!==null;)Ih(t,i,o),o=o.sibling}function Ih(t,i,o){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(pe,o)}catch{}switch(o.tag){case 5:Qt||Ya(o,i);case 6:var u=Wt,f=On;Wt=null,Tr(t,i,o),Wt=u,On=f,Wt!==null&&(On?(t=Wt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Wt.removeChild(o.stateNode));break;case 18:Wt!==null&&(On?(t=Wt,o=o.stateNode,t.nodeType===8?kc(t.parentNode,o):t.nodeType===1&&kc(t,o),Ai(t)):kc(Wt,o.stateNode));break;case 4:u=Wt,f=On,Wt=o.stateNode.containerInfo,On=!0,Tr(t,i,o),Wt=u,On=f;break;case 0:case 11:case 14:case 15:if(!Qt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var v=f,j=v.destroy;v=v.tag,j!==void 0&&((v&2)!==0||(v&4)!==0)&&cu(o,i,j),f=f.next}while(f!==u)}Tr(t,i,o);break;case 1:if(!Qt&&(Ya(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){Ct(o,i,T)}Tr(t,i,o);break;case 21:Tr(t,i,o);break;case 22:o.mode&1?(Qt=(u=Qt)||o.memoizedState!==null,Tr(t,i,o),Qt=u):Tr(t,i,o);break;default:Tr(t,i,o)}}function Oh(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new ry),i.forEach(function(u){var f=hy.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function Ln(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var v=t,j=i,T=j;e:for(;T!==null;){switch(T.tag){case 5:Wt=T.stateNode,On=!1;break e;case 3:Wt=T.stateNode.containerInfo,On=!0;break e;case 4:Wt=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(Wt===null)throw Error(r(160));Ih(v,j,f),Wt=null,On=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(G){Ct(f,i,G)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Lh(i,t),i=i.sibling}function Lh(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(i,t),$n(t),u&4){try{ts(3,t,t.return),Do(3,t)}catch(_e){Ct(t,t.return,_e)}try{ts(5,t,t.return)}catch(_e){Ct(t,t.return,_e)}}break;case 1:Ln(i,t),$n(t),u&512&&o!==null&&Ya(o,o.return);break;case 5:if(Ln(i,t),$n(t),u&512&&o!==null&&Ya(o,o.return),t.flags&32){var f=t.stateNode;try{Pn(f,"")}catch(_e){Ct(t,t.return,_e)}}if(u&4&&(f=t.stateNode,f!=null)){var v=t.memoizedProps,j=o!==null?o.memoizedProps:v,T=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&At(f,v),Le(T,j);var G=Le(T,v);for(j=0;j<D.length;j+=2){var ue=D[j],de=D[j+1];ue==="style"?J(f,de):ue==="dangerouslySetInnerHTML"?Ht(f,de):ue==="children"?Pn(f,de):P(f,ue,de,G)}switch(T){case"input":gt(f,v);break;case"textarea":ze(f,v);break;case"select":var le=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!v.multiple;var Te=v.value;Te!=null?me(f,!!v.multiple,Te,!1):le!==!!v.multiple&&(v.defaultValue!=null?me(f,!!v.multiple,v.defaultValue,!0):me(f,!!v.multiple,v.multiple?[]:"",!1))}f[Vi]=v}catch(_e){Ct(t,t.return,_e)}}break;case 6:if(Ln(i,t),$n(t),u&4){if(t.stateNode===null)throw Error(r(162));f=t.stateNode,v=t.memoizedProps;try{f.nodeValue=v}catch(_e){Ct(t,t.return,_e)}}break;case 3:if(Ln(i,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ai(i.containerInfo)}catch(_e){Ct(t,t.return,_e)}break;case 4:Ln(i,t),$n(t);break;case 13:Ln(i,t),$n(t),f=t.child,f.flags&8192&&(v=f.memoizedState!==null,f.stateNode.isHidden=v,!v||f.alternate!==null&&f.alternate.memoizedState!==null||(pu=xt())),u&4&&Oh(t);break;case 22:if(ue=o!==null&&o.memoizedState!==null,t.mode&1?(Qt=(G=Qt)||ue,Ln(i,t),Qt=G):Ln(i,t),$n(t),u&8192){if(G=t.memoizedState!==null,(t.stateNode.isHidden=G)&&!ue&&(t.mode&1)!==0)for(De=t,ue=t.child;ue!==null;){for(de=De=ue;De!==null;){switch(le=De,Te=le.child,le.tag){case 0:case 11:case 14:case 15:ts(4,le,le.return);break;case 1:Ya(le,le.return);var Ie=le.stateNode;if(typeof Ie.componentWillUnmount=="function"){u=le,o=le.return;try{i=u,Ie.props=i.memoizedProps,Ie.state=i.memoizedState,Ie.componentWillUnmount()}catch(_e){Ct(u,o,_e)}}break;case 5:Ya(le,le.return);break;case 22:if(le.memoizedState!==null){zh(de);continue}}Te!==null?(Te.return=le,De=Te):zh(de)}ue=ue.sibling}e:for(ue=null,de=t;;){if(de.tag===5){if(ue===null){ue=de;try{f=de.stateNode,G?(v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=de.stateNode,D=de.memoizedProps.style,j=D!=null&&D.hasOwnProperty("display")?D.display:null,T.style.display=z("display",j))}catch(_e){Ct(t,t.return,_e)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=G?"":de.memoizedProps}catch(_e){Ct(t,t.return,_e)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===t)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===t)break e;for(;de.sibling===null;){if(de.return===null||de.return===t)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Ln(i,t),$n(t),u&4&&Oh(t);break;case 21:break;default:Ln(i,t),$n(t)}}function $n(t){var i=t.flags;if(i&2){try{e:{for(var o=t.return;o!==null;){if(Dh(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Pn(f,""),u.flags&=-33);var v=Ah(t);mu(t,v,f);break;case 3:case 4:var j=u.stateNode.containerInfo,T=Ah(t);du(t,T,j);break;default:throw Error(r(161))}}catch(D){Ct(t,t.return,D)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function iy(t,i,o){De=t,_h(t)}function _h(t,i,o){for(var u=(t.mode&1)!==0;De!==null;){var f=De,v=f.child;if(f.tag===22&&u){var j=f.memoizedState!==null||Po;if(!j){var T=f.alternate,D=T!==null&&T.memoizedState!==null||Qt;T=Po;var G=Qt;if(Po=j,(Qt=D)&&!G)for(De=f;De!==null;)j=De,D=j.child,j.tag===22&&j.memoizedState!==null?Hh(f):D!==null?(D.return=j,De=D):Hh(f);for(;v!==null;)De=v,_h(v),v=v.sibling;De=f,Po=T,Qt=G}Fh(t)}else(f.subtreeFlags&8772)!==0&&v!==null?(v.return=f,De=v):Fh(t)}}function Fh(t){for(;De!==null;){var i=De;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Qt||Do(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!Qt)if(o===null)u.componentDidMount();else{var f=i.elementType===i.type?o.memoizedProps:In(i.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&zm(i,v,u);break;case 3:var j=i.updateQueue;if(j!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}zm(i,j,o)}break;case 5:var T=i.stateNode;if(o===null&&i.flags&4){o=T;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var G=i.alternate;if(G!==null){var ue=G.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&Ai(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qt||i.flags&512&&uu(i)}catch(le){Ct(i,i.return,le)}}if(i===t){De=null;break}if(o=i.sibling,o!==null){o.return=i.return,De=o;break}De=i.return}}function zh(t){for(;De!==null;){var i=De;if(i===t){De=null;break}var o=i.sibling;if(o!==null){o.return=i.return,De=o;break}De=i.return}}function Hh(t){for(;De!==null;){var i=De;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Do(4,i)}catch(D){Ct(i,o,D)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var f=i.return;try{u.componentDidMount()}catch(D){Ct(i,f,D)}}var v=i.return;try{uu(i)}catch(D){Ct(i,v,D)}break;case 5:var j=i.return;try{uu(i)}catch(D){Ct(i,j,D)}}}catch(D){Ct(i,i.return,D)}if(i===t){De=null;break}var T=i.sibling;if(T!==null){T.return=i.return,De=T;break}De=i.return}}var sy=Math.ceil,Ao=_.ReactCurrentDispatcher,hu=_.ReactCurrentOwner,Nn=_.ReactCurrentBatchConfig,st=0,Ft=null,Tt=null,Bt=0,yn=0,Ka=br(0),Ot=0,ns=null,oa=0,Io=0,fu=0,rs=null,on=null,pu=0,qa=1/0,ar=null,Oo=!1,gu=null,Rr=null,Lo=!1,Mr=null,_o=0,as=0,vu=null,Fo=-1,zo=0;function en(){return(st&6)!==0?xt():Fo!==-1?Fo:Fo=xt()}function Pr(t){return(t.mode&1)===0?1:(st&2)!==0&&Bt!==0?Bt&-Bt:$2.transition!==null?(zo===0&&(zo=A0()),zo):(t=ct,t!==0||(t=window.event,t=t===void 0?16:B0(t.type)),t)}function _n(t,i,o,u){if(50<as)throw as=0,vu=null,Error(r(185));Ti(t,o,u),((st&2)===0||t!==Ft)&&(t===Ft&&((st&2)===0&&(Io|=o),Ot===4&&Dr(t,Bt)),ln(t,u),o===1&&st===0&&(i.mode&1)===0&&(qa=xt()+500,ho&&kr()))}function ln(t,i){var o=t.callbackNode;$v(t,i);var u=Ys(t,t===Ft?Bt:0);if(u===0)o!==null&&Us(o),t.callbackNode=null,t.callbackPriority=0;else if(i=u&-u,t.callbackPriority!==i){if(o!=null&&Us(o),i===1)t.tag===0?B2(Bh.bind(null,t)):Em(Bh.bind(null,t)),F2(function(){(st&6)===0&&kr()}),o=null;else{switch(I0(u)){case 1:o=Jr;break;case 4:o=Gs;break;case 16:o=Ta;break;case 536870912:o=Q;break;default:o=Ta}o=Xh(o,Wh.bind(null,t))}t.callbackPriority=i,t.callbackNode=o}}function Wh(t,i){if(Fo=-1,zo=0,(st&6)!==0)throw Error(r(327));var o=t.callbackNode;if(Xa()&&t.callbackNode!==o)return null;var u=Ys(t,t===Ft?Bt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||i)i=Ho(t,u);else{i=u;var f=st;st|=2;var v=Vh();(Ft!==t||Bt!==i)&&(ar=null,qa=xt()+500,ca(t,i));do try{cy();break}catch(T){$h(t,T)}while(!0);Oc(),Ao.current=v,st=f,Tt!==null?i=0:(Ft=null,Bt=0,i=Ot)}if(i!==0){if(i===2&&(f=Ql(t),f!==0&&(u=f,i=yu(t,f))),i===1)throw o=ns,ca(t,0),Dr(t,u),ln(t,xt()),o;if(i===6)Dr(t,u);else{if(f=t.current.alternate,(u&30)===0&&!oy(f)&&(i=Ho(t,u),i===2&&(v=Ql(t),v!==0&&(u=v,i=yu(t,v))),i===1))throw o=ns,ca(t,0),Dr(t,u),ln(t,xt()),o;switch(t.finishedWork=f,t.finishedLanes=u,i){case 0:case 1:throw Error(r(345));case 2:ua(t,on,ar);break;case 3:if(Dr(t,u),(u&130023424)===u&&(i=pu+500-xt(),10<i)){if(Ys(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){en(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Cc(ua.bind(null,t,on,ar),i);break}ua(t,on,ar);break;case 4:if(Dr(t,u),(u&4194240)===u)break;for(i=t.eventTimes,f=-1;0<u;){var j=31-qe(u);v=1<<j,j=i[j],j>f&&(f=j),u&=~v}if(u=f,u=xt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*sy(u/1960))-u,10<u){t.timeoutHandle=Cc(ua.bind(null,t,on,ar),u);break}ua(t,on,ar);break;case 5:ua(t,on,ar);break;default:throw Error(r(329))}}}return ln(t,xt()),t.callbackNode===o?Wh.bind(null,t):null}function yu(t,i){var o=rs;return t.current.memoizedState.isDehydrated&&(ca(t,i).flags|=256),t=Ho(t,i),t!==2&&(i=on,on=o,i!==null&&xu(i)),t}function xu(t){on===null?on=t:on.push.apply(on,t)}function oy(t){for(var i=t;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],v=f.getSnapshot;f=f.value;try{if(!Dn(v(),f))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dr(t,i){for(i&=~fu,i&=~Io,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var o=31-qe(i),u=1<<o;t[o]=-1,i&=~u}}function Bh(t){if((st&6)!==0)throw Error(r(327));Xa();var i=Ys(t,0);if((i&1)===0)return ln(t,xt()),null;var o=Ho(t,i);if(t.tag!==0&&o===2){var u=Ql(t);u!==0&&(i=u,o=yu(t,u))}if(o===1)throw o=ns,ca(t,0),Dr(t,i),ln(t,xt()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,ua(t,on,ar),ln(t,xt()),null}function wu(t,i){var o=st;st|=1;try{return t(i)}finally{st=o,st===0&&(qa=xt()+500,ho&&kr())}}function la(t){Mr!==null&&Mr.tag===0&&(st&6)===0&&Xa();var i=st;st|=1;var o=Nn.transition,u=ct;try{if(Nn.transition=null,ct=1,t)return t()}finally{ct=u,Nn.transition=o,st=i,(st&6)===0&&kr()}}function ju(){yn=Ka.current,ft(Ka)}function ca(t,i){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,_2(o)),Tt!==null)for(o=Tt.return;o!==null;){var u=o;switch(Mc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&uo();break;case 3:Ua(),ft(rn),ft(Kt),$c();break;case 5:Wc(u);break;case 4:Ua();break;case 13:ft(wt);break;case 19:ft(wt);break;case 10:Lc(u.type._context);break;case 22:case 23:ju()}o=o.return}if(Ft=t,Tt=t=Ar(t.current,null),Bt=yn=i,Ot=0,ns=null,fu=Io=oa=0,on=rs=null,aa!==null){for(i=0;i<aa.length;i++)if(o=aa[i],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,v=o.pending;if(v!==null){var j=v.next;v.next=f,u.next=j}o.pending=u}aa=null}return t}function $h(t,i){do{var o=Tt;try{if(Oc(),bo.current=Eo,Co){for(var u=jt.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Co=!1}if(sa=0,_t=It=jt=null,Xi=!1,Qi=0,hu.current=null,o===null||o.return===null){Ot=1,ns=i,Tt=null;break}e:{var v=t,j=o.return,T=o,D=i;if(i=Bt,T.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=D,ue=T,de=ue.tag;if((ue.mode&1)===0&&(de===0||de===11||de===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Te=fh(j);if(Te!==null){Te.flags&=-257,ph(Te,j,T,v,i),Te.mode&1&&hh(v,G,i),i=Te,D=G;var Ie=i.updateQueue;if(Ie===null){var _e=new Set;_e.add(D),i.updateQueue=_e}else Ie.add(D);break e}else{if((i&1)===0){hh(v,G,i),Su();break e}D=Error(r(426))}}else if(yt&&T.mode&1){var Et=fh(j);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),ph(Et,j,T,v,i),Ac(Ga(D,T));break e}}v=D=Ga(D,T),Ot!==4&&(Ot=2),rs===null?rs=[v]:rs.push(v),v=j;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var F=dh(v,D,i);Fm(v,F);break e;case 1:T=D;var O=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Rr===null||!Rr.has(W)))){v.flags|=65536,i&=-i,v.lanes|=i;var fe=mh(v,T,i);Fm(v,fe);break e}}v=v.return}while(v!==null)}Gh(o)}catch(Fe){i=Fe,Tt===o&&o!==null&&(Tt=o=o.return);continue}break}while(!0)}function Vh(){var t=Ao.current;return Ao.current=Eo,t===null?Eo:t}function Su(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ft===null||(oa&268435455)===0&&(Io&268435455)===0||Dr(Ft,Bt)}function Ho(t,i){var o=st;st|=2;var u=Vh();(Ft!==t||Bt!==i)&&(ar=null,ca(t,i));do try{ly();break}catch(f){$h(t,f)}while(!0);if(Oc(),st=o,Ao.current=u,Tt!==null)throw Error(r(261));return Ft=null,Bt=0,Ot}function ly(){for(;Tt!==null;)Uh(Tt)}function cy(){for(;Tt!==null&&!ql();)Uh(Tt)}function Uh(t){var i=qh(t.alternate,t,yn);t.memoizedProps=t.pendingProps,i===null?Gh(t):Tt=i,hu.current=null}function Gh(t){var i=t;do{var o=i.alternate;if(t=i.return,(i.flags&32768)===0){if(o=ty(o,i,yn),o!==null){Tt=o;return}}else{if(o=ny(o,i),o!==null){o.flags&=32767,Tt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Tt=null;return}}if(i=i.sibling,i!==null){Tt=i;return}Tt=i=t}while(i!==null);Ot===0&&(Ot=5)}function ua(t,i,o){var u=ct,f=Nn.transition;try{Nn.transition=null,ct=1,uy(t,i,o,u)}finally{Nn.transition=f,ct=u}return null}function uy(t,i,o,u){do Xa();while(Mr!==null);if((st&6)!==0)throw Error(r(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var v=o.lanes|o.childLanes;if(Vv(t,v),t===Ft&&(Tt=Ft=null,Bt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Lo||(Lo=!0,Xh(Ta,function(){return Xa(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=Nn.transition,Nn.transition=null;var j=ct;ct=1;var T=st;st|=4,hu.current=null,ay(t,o),Lh(o,t),M2(Sc),Xs=!!jc,Sc=jc=null,t.current=o,iy(o),Xl(),st=T,ct=j,Nn.transition=v}else t.current=o;if(Lo&&(Lo=!1,Mr=t,_o=f),v=t.pendingLanes,v===0&&(Rr=null),rt(o.stateNode),ln(t,xt()),i!==null)for(u=t.onRecoverableError,o=0;o<i.length;o++)f=i[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(Oo)throw Oo=!1,t=gu,gu=null,t;return(_o&1)!==0&&t.tag!==0&&Xa(),v=t.pendingLanes,(v&1)!==0?t===vu?as++:(as=0,vu=t):as=0,kr(),null}function Xa(){if(Mr!==null){var t=I0(_o),i=Nn.transition,o=ct;try{if(Nn.transition=null,ct=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,_o=0,(st&6)!==0)throw Error(r(331));var f=st;for(st|=4,De=t.current;De!==null;){var v=De,j=v.child;if((De.flags&16)!==0){var T=v.deletions;if(T!==null){for(var D=0;D<T.length;D++){var G=T[D];for(De=G;De!==null;){var ue=De;switch(ue.tag){case 0:case 11:case 15:ts(8,ue,v)}var de=ue.child;if(de!==null)de.return=ue,De=de;else for(;De!==null;){ue=De;var le=ue.sibling,Te=ue.return;if(Ph(ue),ue===G){De=null;break}if(le!==null){le.return=Te,De=le;break}De=Te}}}var Ie=v.alternate;if(Ie!==null){var _e=Ie.child;if(_e!==null){Ie.child=null;do{var Et=_e.sibling;_e.sibling=null,_e=Et}while(_e!==null)}}De=v}}if((v.subtreeFlags&2064)!==0&&j!==null)j.return=v,De=j;else e:for(;De!==null;){if(v=De,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ts(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,De=F;break e}De=v.return}}var O=t.current;for(De=O;De!==null;){j=De;var W=j.child;if((j.subtreeFlags&2064)!==0&&W!==null)W.return=j,De=W;else e:for(j=O;De!==null;){if(T=De,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Do(9,T)}}catch(Fe){Ct(T,T.return,Fe)}if(T===j){De=null;break e}var fe=T.sibling;if(fe!==null){fe.return=T.return,De=fe;break e}De=T.return}}if(st=f,kr(),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(pe,t)}catch{}u=!0}return u}finally{ct=o,Nn.transition=i}}return!1}function Yh(t,i,o){i=Ga(o,i),i=dh(t,i,1),t=Er(t,i,1),i=en(),t!==null&&(Ti(t,1,i),ln(t,i))}function Ct(t,i,o){if(t.tag===3)Yh(t,t,o);else for(;i!==null;){if(i.tag===3){Yh(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rr===null||!Rr.has(u))){t=Ga(o,t),t=mh(i,t,1),i=Er(i,t,1),t=en(),i!==null&&(Ti(i,1,t),ln(i,t));break}}i=i.return}}function dy(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),i=en(),t.pingedLanes|=t.suspendedLanes&o,Ft===t&&(Bt&o)===o&&(Ot===4||Ot===3&&(Bt&130023424)===Bt&&500>xt()-pu?ca(t,0):fu|=o),ln(t,i)}function Kh(t,i){i===0&&((t.mode&1)===0?i=1:(i=Nt,Nt<<=1,(Nt&130023424)===0&&(Nt=4194304)));var o=en();t=tr(t,i),t!==null&&(Ti(t,i,o),ln(t,o))}function my(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Kh(t,o)}function hy(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(i),Kh(t,o)}var qh;qh=function(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps||rn.current)sn=!0;else{if((t.lanes&o)===0&&(i.flags&128)===0)return sn=!1,ey(t,i,o);sn=(t.flags&131072)!==0}else sn=!1,yt&&(i.flags&1048576)!==0&&Tm(i,po,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;Mo(t,i),t=i.pendingProps;var f=Fa(i,Kt.current);Va(i,o),f=Gc(null,i,u,t,f,o);var v=Yc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,an(u)?(v=!0,mo(i)):v=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,zc(i),f.updater=To,i.stateNode=f,f._reactInternals=i,Jc(i,u,t,o),i=ru(null,i,u,!0,v,o)):(i.tag=0,yt&&v&&Rc(i),Jt(null,i,f,o),i=i.child),i;case 16:u=i.elementType;e:{switch(Mo(t,i),t=i.pendingProps,f=u._init,u=f(u._payload),i.type=u,f=i.tag=py(u),t=In(u,t),f){case 0:i=nu(null,i,u,t,o);break e;case 1:i=jh(null,i,u,t,o);break e;case 11:i=gh(null,i,u,t,o);break e;case 14:i=vh(null,i,u,In(u.type,t),o);break e}throw Error(r(306,u,""))}return i;case 0:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:In(u,f),nu(t,i,u,f,o);case 1:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:In(u,f),jh(t,i,u,f,o);case 3:e:{if(Sh(i),t===null)throw Error(r(387));u=i.pendingProps,v=i.memoizedState,f=v.element,_m(t,i),jo(i,u,null,o);var j=i.memoizedState;if(u=j.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){f=Ga(Error(r(423)),i),i=bh(t,i,u,o,f);break e}else if(u!==f){f=Ga(Error(r(424)),i),i=bh(t,i,u,o,f);break e}else for(vn=Sr(i.stateNode.containerInfo.firstChild),gn=i,yt=!0,An=null,o=Om(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Wa(),u===f){i=rr(t,i,o);break e}Jt(t,i,u,o)}i=i.child}return i;case 5:return Hm(i),t===null&&Dc(i),u=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,j=f.children,bc(u,f)?j=null:v!==null&&bc(u,v)&&(i.flags|=32),wh(t,i),Jt(t,i,j,o),i.child;case 6:return t===null&&Dc(i),null;case 13:return Ch(t,i,o);case 4:return Hc(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ba(i,null,u,o):Jt(t,i,u,o),i.child;case 11:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:In(u,f),gh(t,i,u,f,o);case 7:return Jt(t,i,i.pendingProps,o),i.child;case 8:return Jt(t,i,i.pendingProps.children,o),i.child;case 12:return Jt(t,i,i.pendingProps.children,o),i.child;case 10:e:{if(u=i.type._context,f=i.pendingProps,v=i.memoizedProps,j=f.value,mt(yo,u._currentValue),u._currentValue=j,v!==null)if(Dn(v.value,j)){if(v.children===f.children&&!rn.current){i=rr(t,i,o);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var T=v.dependencies;if(T!==null){j=v.child;for(var D=T.firstContext;D!==null;){if(D.context===u){if(v.tag===1){D=nr(-1,o&-o),D.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var ue=G.pending;ue===null?D.next=D:(D.next=ue.next,ue.next=D),G.pending=D}}v.lanes|=o,D=v.alternate,D!==null&&(D.lanes|=o),_c(v.return,o,i),T.lanes|=o;break}D=D.next}}else if(v.tag===10)j=v.type===i.type?null:v.child;else if(v.tag===18){if(j=v.return,j===null)throw Error(r(341));j.lanes|=o,T=j.alternate,T!==null&&(T.lanes|=o),_c(j,o,i),j=v.sibling}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===i){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}Jt(t,i,f.children,o),i=i.child}return i;case 9:return f=i.type,u=i.pendingProps.children,Va(i,o),f=Cn(f),u=u(f),i.flags|=1,Jt(t,i,u,o),i.child;case 14:return u=i.type,f=In(u,i.pendingProps),f=In(u.type,f),vh(t,i,u,f,o);case 15:return yh(t,i,i.type,i.pendingProps,o);case 17:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:In(u,f),Mo(t,i),i.tag=1,an(u)?(t=!0,mo(i)):t=!1,Va(i,o),ch(i,u,f),Jc(i,u,f,o),ru(null,i,u,!0,t,o);case 19:return Nh(t,i,o);case 22:return xh(t,i,o)}throw Error(r(156,i.tag))};function Xh(t,i){return Vs(t,i)}function fy(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,o,u){return new fy(t,i,o,u)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function py(t){if(typeof t=="function")return bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ie)return 11;if(t===te)return 14}return 2}function Ar(t,i){var o=t.alternate;return o===null?(o=En(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Wo(t,i,o,u,f,v){var j=2;if(u=t,typeof t=="function")bu(t)&&(j=1);else if(typeof t=="string")j=5;else e:switch(t){case $:return da(o.children,f,v,i);case I:j=8,f|=8;break;case X:return t=En(12,o,i,f|2),t.elementType=X,t.lanes=v,t;case se:return t=En(13,o,i,f),t.elementType=se,t.lanes=v,t;case ee:return t=En(19,o,i,f),t.elementType=ee,t.lanes=v,t;case ge:return Bo(o,f,v,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:j=10;break e;case H:j=9;break e;case ie:j=11;break e;case te:j=14;break e;case ce:j=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return i=En(j,o,i,f),i.elementType=t,i.type=u,i.lanes=v,i}function da(t,i,o,u){return t=En(7,t,u,i),t.lanes=o,t}function Bo(t,i,o,u){return t=En(22,t,u,i),t.elementType=ge,t.lanes=o,t.stateNode={isHidden:!1},t}function Cu(t,i,o){return t=En(6,t,null,i),t.lanes=o,t}function ku(t,i,o){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function gy(t,i,o,u,f){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Nu(t,i,o,u,f,v,j,T,D){return t=new gy(t,i,o,T,D),i===1?(i=1,v===!0&&(i|=8)):i=0,v=En(3,null,null,i),t.current=v,v.stateNode=t,v.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},zc(v),t}function vy(t,i,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:u==null?null:""+u,children:t,containerInfo:i,implementation:o}}function Qh(t){if(!t)return Cr;t=t._reactInternals;e:{if(Xn(t)!==t||t.tag!==1)throw Error(r(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(an(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(an(o))return km(t,o,i)}return i}function Zh(t,i,o,u,f,v,j,T,D){return t=Nu(o,u,!0,t,f,v,j,T,D),t.context=Qh(null),o=t.current,u=en(),f=Pr(o),v=nr(u,f),v.callback=i??null,Er(o,v,f),t.current.lanes=f,Ti(t,f,u),ln(t,u),t}function $o(t,i,o,u){var f=i.current,v=en(),j=Pr(f);return o=Qh(o),i.context===null?i.context=o:i.pendingContext=o,i=nr(v,j),i.payload={element:t},u=u===void 0?null:u,u!==null&&(i.callback=u),t=Er(f,i,j),t!==null&&(_n(t,f,j,v),wo(t,f,j)),j}function Vo(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function Jh(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Eu(t,i){Jh(t,i),(t=t.alternate)&&Jh(t,i)}function yy(){return null}var ef=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tu(t){this._internalRoot=t}Uo.prototype.render=Tu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));$o(t,i,null,null)},Uo.prototype.unmount=Tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;la(function(){$o(null,t,null,null)}),i[Qn]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var i=_0();t={blockedOn:null,target:t,priority:i};for(var o=0;o<xr.length&&i!==0&&i<xr[o].priority;o++);xr.splice(o,0,t),o===0&&H0(t)}};function Ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Go(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tf(){}function xy(t,i,o,u,f){if(f){if(typeof u=="function"){var v=u;u=function(){var G=Vo(j);v.call(G)}}var j=Zh(i,u,t,0,null,!1,!1,"",tf);return t._reactRootContainer=j,t[Qn]=j.current,Bi(t.nodeType===8?t.parentNode:t),la(),j}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var T=u;u=function(){var G=Vo(D);T.call(G)}}var D=Nu(t,0,!1,null,null,!1,!1,"",tf);return t._reactRootContainer=D,t[Qn]=D.current,Bi(t.nodeType===8?t.parentNode:t),la(function(){$o(i,D,o,u)}),D}function Yo(t,i,o,u,f){var v=o._reactRootContainer;if(v){var j=v;if(typeof f=="function"){var T=f;f=function(){var D=Vo(j);T.call(D)}}$o(i,j,t,f)}else j=xy(o,i,t,f,u);return Vo(j)}O0=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var o=Zt(i.pendingLanes);o!==0&&(Jl(i,o|1),ln(i,xt()),(st&6)===0&&(qa=xt()+500,kr()))}break;case 13:la(function(){var u=tr(t,1);if(u!==null){var f=en();_n(u,t,1,f)}}),Eu(t,1)}},ec=function(t){if(t.tag===13){var i=tr(t,134217728);if(i!==null){var o=en();_n(i,t,134217728,o)}Eu(t,134217728)}},L0=function(t){if(t.tag===13){var i=Pr(t),o=tr(t,i);if(o!==null){var u=en();_n(o,t,i,u)}Eu(t,i)}},_0=function(){return ct},F0=function(t,i){var o=ct;try{return ct=t,i()}finally{ct=o}},qr=function(t,i,o){switch(i){case"input":if(gt(t,o),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var f=co(u);if(!f)throw Error(r(90));Ze(u),gt(u,f)}}}break;case"textarea":ze(t,o);break;case"select":i=o.value,i!=null&&me(t,!!o.multiple,i,!1)}},Fs=wu,Ci=la;var wy={usingClientEntryPoint:!1,Events:[Ui,La,co,Ls,_s,wu]},is={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jy={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bs(t),t===null?null:t.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{pe=Ko.inject(jy),ve=Ko}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wy,cn.createPortal=function(t,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(i))throw Error(r(200));return vy(t,i,null,o)},cn.createRoot=function(t,i){if(!Ru(t))throw Error(r(299));var o=!1,u="",f=ef;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Nu(t,1,!1,null,null,o,!1,u,f),t[Qn]=i.current,Bi(t.nodeType===8?t.parentNode:t),new Tu(i)},cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Bs(i),t=t===null?null:t.stateNode,t},cn.flushSync=function(t){return la(t)},cn.hydrate=function(t,i,o){if(!Go(i))throw Error(r(200));return Yo(null,t,i,!0,o)},cn.hydrateRoot=function(t,i,o){if(!Ru(t))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,f=!1,v="",j=ef;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),i=Zh(i,null,t,1,o??null,f,!1,v,j),t[Qn]=i.current,Bi(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,f]:i.mutableSourceEagerHydrationData.push(o,f);return new Uo(i)},cn.render=function(t,i,o){if(!Go(i))throw Error(r(200));return Yo(null,t,i,!1,o)},cn.unmountComponentAtNode=function(t){if(!Go(t))throw Error(r(40));return t._reactRootContainer?(la(function(){Yo(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1},cn.unstable_batchedUpdates=wu,cn.unstable_renderSubtreeIntoContainer=function(t,i,o,u){if(!Go(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Yo(t,i,o,!1,u)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var uf;function Qp(){if(uf)return Du.exports;uf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Du.exports=Ty(),Du.exports}var df;function Ry(){if(df)return qo;df=1;var n=Qp();return qo.createRoot=n.createRoot,qo.hydrateRoot=n.hydrateRoot,qo}var My=Ry();const Py=pi(My);var Ou={exports:{}};var mf;function Dy(){return mf||(mf=1,(function(n){(function(){var e={}.hasOwnProperty;function r(){for(var c="",d=0;d<arguments.length;d++){var m=arguments[d];m&&(c=l(c,s(m)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return r.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var m in c)e.call(c,m)&&c[m]&&(d=l(d,m));return d}function l(c,d){return d?c?c+" "+d:c+d:c}n.exports?(r.default=r,n.exports=r):window.classNames=r})()})(Ou)),Ou.exports}var Ay=Dy();const Ee=pi(Ay);function pd(){return pd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)({}).hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},pd.apply(null,arguments)}function Zp(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)!==-1)continue;r[s]=n[s]}return r}function hf(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function Iy(n){var e=Oy(n,"string");return typeof e=="symbol"?e:String(e)}function Oy(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Jp(n,e,r){var s=y.useRef(n!==void 0),l=y.useState(e),c=l[0],d=l[1],m=n!==void 0,h=s.current;return s.current=m,!m&&h&&c!==e&&d(e),[m?n:c,y.useCallback(function(p){for(var g=arguments.length,x=new Array(g>1?g-1:0),w=1;w<g;w++)x[w-1]=arguments[w];r&&r.apply(void 0,[p].concat(x)),d(p)},[r])]}function Ns(n,e){return Object.keys(e).reduce(function(r,s){var l,c=r,d=c[hf(s)],m=c[s],h=Zp(c,[hf(s),s].map(Iy)),p=e[s],g=Jp(m,d,n[p]),x=g[0],w=g[1];return pd({},h,(l={},l[s]=x,l[p]=w,l))},n)}function gd(n,e){return gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},gd(n,e)}function Ly(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,gd(n,e)}const _y=["xxl","xl","lg","md","sm","xs"],Fy="xs",Es=y.createContext({prefixes:{},breakpoints:_y,minBreakpoint:Fy}),{Consumer:C7,Provider:k7}=Es;function Ae(n,e){const{prefixes:r}=y.useContext(Es);return n||r[e]||e}function e1(){const{breakpoints:n}=y.useContext(Es);return n}function t1(){const{minBreakpoint:n}=y.useContext(Es);return n}function Tl(){const{dir:n}=y.useContext(Es);return n==="rtl"}function gi(n){return n&&n.ownerDocument||document}function zy(n){var e=gi(n);return e&&e.defaultView||window}function Hy(n,e){return zy(n).getComputedStyle(n,e)}var Wy=/([A-Z])/g;function By(n){return n.replace(Wy,"-$1").toLowerCase()}var $y=/^ms-/;function Xo(n){return By(n).replace($y,"-ms-")}var Vy=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Uy(n){return!!(n&&Vy.test(n))}function lr(n,e){var r="",s="";if(typeof e=="string")return n.style.getPropertyValue(Xo(e))||Hy(n).getPropertyValue(Xo(e));Object.keys(e).forEach(function(l){var c=e[l];!c&&c!==0?n.style.removeProperty(Xo(l)):Uy(l)?s+=l+"("+c+") ":r+=Xo(l)+": "+c+";"}),s&&(r+="transform: "+s+";"),n.style.cssText+=";"+r}var Lu={exports:{}},_u,ff;function Gy(){if(ff)return _u;ff=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _u=n,_u}var Fu,pf;function Yy(){if(pf)return Fu;pf=1;var n=Gy();function e(){}function r(){}return r.resetWarningCache=e,Fu=function(){function s(d,m,h,p,g,x){if(x!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function l(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:e};return c.PropTypes=c,c},Fu}var gf;function Ky(){return gf||(gf=1,Lu.exports=Yy()()),Lu.exports}var qy=Ky();const Ut=pi(qy);var gs=Qp();const pa=pi(gs),vf={disabled:!1},n1=ut.createContext(null);var Xy=function(e){return e.scrollTop},hs="unmounted",zr="exited",ir="entering",Wr="entered",dl="exiting",hr=(function(n){Ly(e,n);function e(s,l){var c;c=n.call(this,s,l)||this;var d=l,m=d&&!d.isMounting?s.enter:s.appear,h;return c.appearStatus=null,s.in?m?(h=zr,c.appearStatus=ir):h=Wr:s.unmountOnExit||s.mountOnEnter?h=hs:h=zr,c.state={status:h},c.nextCallback=null,c}e.getDerivedStateFromProps=function(l,c){var d=l.in;return d&&c.status===hs?{status:zr}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(l){var c=null;if(l!==this.props){var d=this.state.status;this.props.in?d!==ir&&d!==Wr&&(c=ir):(d===ir||d===Wr)&&(c=dl)}this.updateStatus(!1,c)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var l=this.props.timeout,c,d,m;return c=d=m=l,l!=null&&typeof l!="number"&&(c=l.exit,d=l.enter,m=l.appear!==void 0?l.appear:d),{exit:c,enter:d,appear:m}},r.updateStatus=function(l,c){if(l===void 0&&(l=!1),c!==null)if(this.cancelNextCallback(),c===ir){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:pa.findDOMNode(this);d&&Xy(d)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zr&&this.setState({status:hs})},r.performEnter=function(l){var c=this,d=this.props.enter,m=this.context?this.context.isMounting:l,h=this.props.nodeRef?[m]:[pa.findDOMNode(this),m],p=h[0],g=h[1],x=this.getTimeouts(),w=m?x.appear:x.enter;if(!l&&!d||vf.disabled){this.safeSetState({status:Wr},function(){c.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:ir},function(){c.props.onEntering(p,g),c.onTransitionEnd(w,function(){c.safeSetState({status:Wr},function(){c.props.onEntered(p,g)})})})},r.performExit=function(){var l=this,c=this.props.exit,d=this.getTimeouts(),m=this.props.nodeRef?void 0:pa.findDOMNode(this);if(!c||vf.disabled){this.safeSetState({status:zr},function(){l.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:dl},function(){l.props.onExiting(m),l.onTransitionEnd(d.exit,function(){l.safeSetState({status:zr},function(){l.props.onExited(m)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(l,c){c=this.setNextCallback(c),this.setState(l,c)},r.setNextCallback=function(l){var c=this,d=!0;return this.nextCallback=function(m){d&&(d=!1,c.nextCallback=null,l(m))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},r.onTransitionEnd=function(l,c){this.setNextCallback(c);var d=this.props.nodeRef?this.props.nodeRef.current:pa.findDOMNode(this),m=l==null&&!this.props.addEndListener;if(!d||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],p=h[0],g=h[1];this.props.addEndListener(p,g)}l!=null&&setTimeout(this.nextCallback,l)},r.render=function(){var l=this.state.status;if(l===hs)return null;var c=this.props,d=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var m=Zp(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ut.createElement(n1.Provider,{value:null},typeof d=="function"?d(l,m):ut.cloneElement(ut.Children.only(d),m))},e})(ut.Component);hr.contextType=n1;hr.propTypes={};function Qa(){}hr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qa,onEntering:Qa,onEntered:Qa,onExit:Qa,onExiting:Qa,onExited:Qa};hr.UNMOUNTED=hs;hr.EXITED=zr;hr.ENTERING=ir;hr.ENTERED=Wr;hr.EXITING=dl;function r1(n){return n.code==="Escape"||n.keyCode===27}function Qy(){const n=y.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function vi(n){if(!n||typeof n=="function")return null;const{major:e}=Qy();return e>=19?n.props.ref:n.ref}const yi=!!(typeof window<"u"&&window.document&&window.document.createElement);var vd=!1,yd=!1;try{var zu={get passive(){return vd=!0},get once(){return yd=vd=!0}};yi&&(window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,!0))}catch{}function Kd(n,e,r,s){if(s&&typeof s!="boolean"&&!yd){var l=s.once,c=s.capture,d=r;!yd&&l&&(d=r.__once||function m(h){this.removeEventListener(e,m,c),r.call(this,h)},r.__once=d),n.addEventListener(e,d,vd?s:c)}n.addEventListener(e,r,s)}function xd(n,e,r,s){var l=s&&typeof s!="boolean"?s.capture:s;n.removeEventListener(e,r,l),r.__once&&n.removeEventListener(e,r.__once,l)}function or(n,e,r,s){return Kd(n,e,r,s),function(){xd(n,e,r,s)}}function Zy(n,e,r,s){if(s===void 0&&(s=!0),n){var l=document.createEvent("HTMLEvents");l.initEvent(e,r,s),n.dispatchEvent(l)}}function Jy(n){var e=lr(n,"transitionDuration")||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function ex(n,e,r){r===void 0&&(r=5);var s=!1,l=setTimeout(function(){s||Zy(n,"transitionend",!0)},e+r),c=or(n,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(l),c()}}function a1(n,e,r,s){r==null&&(r=Jy(n)||0);var l=ex(n,r,s),c=or(n,"transitionend",e);return function(){l(),c()}}function yf(n,e){const r=lr(n,e)||"",s=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*s}function i1(n,e){const r=yf(n,"transitionDuration"),s=yf(n,"transitionDelay"),l=a1(n,c=>{c.target===n&&(l(),e(c))},r+s)}function os(...n){return n.filter(e=>e!=null).reduce((e,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?r:function(...l){e.apply(this,l),r.apply(this,l)}},null)}function s1(n){n.offsetHeight}const xf=n=>!n||typeof n=="function"?n:e=>{n.current=e};function tx(n,e){const r=xf(n),s=xf(e);return l=>{r&&r(l),s&&s(l)}}function xi(n,e){return y.useMemo(()=>tx(n,e),[n,e])}function ml(n){return n&&"setState"in n?pa.findDOMNode(n):n??null}const qd=ut.forwardRef(({onEnter:n,onEntering:e,onEntered:r,onExit:s,onExiting:l,onExited:c,addEndListener:d,children:m,childRef:h,...p},g)=>{const x=y.useRef(null),w=xi(x,h),S=A=>{w(ml(A))},b=A=>$=>{A&&x.current&&A(x.current,$)},N=y.useCallback(b(n),[n]),k=y.useCallback(b(e),[e]),C=y.useCallback(b(r),[r]),E=y.useCallback(b(s),[s]),P=y.useCallback(b(l),[l]),_=y.useCallback(b(c),[c]),L=y.useCallback(b(d),[d]);return a.jsx(hr,{ref:g,...p,onEnter:N,onEntered:C,onEntering:k,onExit:E,onExited:_,onExiting:P,addEndListener:L,nodeRef:x,children:typeof m=="function"?(A,$)=>m(A,{...$,ref:S}):ut.cloneElement(m,{ref:S})})});qd.displayName="TransitionWrapper";const nx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function rx(n,e){const r=`offset${n[0].toUpperCase()}${n.slice(1)}`,s=e[r],l=nx[n];return s+parseInt(lr(e,l[0]),10)+parseInt(lr(e,l[1]),10)}const ax={[zr]:"collapse",[dl]:"collapsing",[ir]:"collapsing",[Wr]:"collapse show"},js=ut.forwardRef(({onEnter:n,onEntering:e,onEntered:r,onExit:s,onExiting:l,className:c,children:d,dimension:m="height",in:h=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:x=!1,appear:w=!1,getDimensionValue:S=rx,...b},N)=>{const k=typeof m=="function"?m():m,C=y.useMemo(()=>os(A=>{A.style[k]="0"},n),[k,n]),E=y.useMemo(()=>os(A=>{const $=`scroll${k[0].toUpperCase()}${k.slice(1)}`;A.style[k]=`${A[$]}px`},e),[k,e]),P=y.useMemo(()=>os(A=>{A.style[k]=null},r),[k,r]),_=y.useMemo(()=>os(A=>{A.style[k]=`${S(k,A)}px`,s1(A)},s),[s,S,k]),L=y.useMemo(()=>os(A=>{A.style[k]=null},l),[k,l]);return a.jsx(qd,{ref:N,addEndListener:i1,...b,"aria-expanded":b.role?h:null,onEnter:C,onEntering:E,onEntered:P,onExit:_,onExiting:L,childRef:vi(d),in:h,timeout:p,mountOnEnter:g,unmountOnExit:x,appear:w,children:(A,$)=>ut.cloneElement(d,{...$,className:Ee(c,d.props.className,ax[A],k==="width"&&"collapse-horizontal")})})});js.displayName="Collapse";function o1(n,e){return Array.isArray(n)?n.includes(e):n===e}const Ts=y.createContext({});Ts.displayName="AccordionContext";const Xd=y.forwardRef(({as:n="div",bsPrefix:e,className:r,children:s,eventKey:l,...c},d)=>{const{activeEventKey:m}=y.useContext(Ts);return e=Ae(e,"accordion-collapse"),a.jsx(js,{ref:d,in:o1(m,l),...c,className:Ee(r,e),children:a.jsx(n,{children:y.Children.only(s)})})});Xd.displayName="AccordionCollapse";const Rl=y.createContext({eventKey:""});Rl.displayName="AccordionItemContext";const l1=y.forwardRef(({as:n="div",bsPrefix:e,className:r,onEnter:s,onEntering:l,onEntered:c,onExit:d,onExiting:m,onExited:h,...p},g)=>{e=Ae(e,"accordion-body");const{eventKey:x}=y.useContext(Rl);return a.jsx(Xd,{eventKey:x,onEnter:s,onEntering:l,onEntered:c,onExit:d,onExiting:m,onExited:h,children:a.jsx(n,{ref:g,...p,className:Ee(r,e)})})});l1.displayName="AccordionBody";function ix(n,e){const{activeEventKey:r,onSelect:s,alwaysOpen:l}=y.useContext(Ts);return c=>{let d=n===r?null:n;l&&(Array.isArray(r)?r.includes(n)?d=r.filter(m=>m!==n):d=[...r,n]:d=[n]),s?.(d,c),e?.(c)}}const Qd=y.forwardRef(({as:n="button",bsPrefix:e,className:r,onClick:s,...l},c)=>{e=Ae(e,"accordion-button");const{eventKey:d}=y.useContext(Rl),m=ix(d,s),{activeEventKey:h}=y.useContext(Ts);return n==="button"&&(l.type="button"),a.jsx(n,{ref:c,onClick:m,...l,"aria-expanded":Array.isArray(h)?h.includes(d):d===h,className:Ee(r,e,!o1(h,d)&&"collapsed")})});Qd.displayName="AccordionButton";const c1=y.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:r,className:s,children:l,onClick:c,...d},m)=>(r=Ae(r,"accordion-header"),a.jsx(n,{ref:m,...d,className:Ee(s,r),children:a.jsx(Qd,{onClick:c,"aria-controls":e,children:l})})));c1.displayName="AccordionHeader";const u1=y.forwardRef(({as:n="div",bsPrefix:e,className:r,eventKey:s,...l},c)=>{e=Ae(e,"accordion-item");const d=y.useMemo(()=>({eventKey:s}),[s]);return a.jsx(Rl.Provider,{value:d,children:a.jsx(n,{ref:c,...l,className:Ee(r,e)})})});u1.displayName="AccordionItem";const d1=y.forwardRef((n,e)=>{const{as:r="div",activeKey:s,bsPrefix:l,className:c,onSelect:d,flush:m,alwaysOpen:h,...p}=Ns(n,{activeKey:"onSelect"}),g=Ae(l,"accordion"),x=y.useMemo(()=>({activeEventKey:s,onSelect:d,alwaysOpen:h}),[s,d,h]);return a.jsx(Ts.Provider,{value:x,children:a.jsx(r,{ref:e,...p,className:Ee(c,g,m&&`${g}-flush`)})})});d1.displayName="Accordion";const Or=Object.assign(d1,{Button:Qd,Collapse:Xd,Item:u1,Header:c1,Body:l1});function sx(n){const e=y.useRef(n);return y.useEffect(()=>{e.current=n},[n]),e}function xa(n){const e=sx(n);return y.useCallback(function(...r){return e.current&&e.current(...r)},[e])}const Ml=(n=>y.forwardRef((e,r)=>a.jsx("div",{...e,ref:r,className:Ee(e.className,n)}))),m1=Ml("h4");m1.displayName="DivStyledAsH4";const h1=y.forwardRef(({className:n,bsPrefix:e,as:r=m1,...s},l)=>(e=Ae(e,"alert-heading"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));h1.displayName="AlertHeading";function wd(){return y.useState(null)}function ox(n){const e=y.useRef(n);return y.useEffect(()=>{e.current=n},[n]),e}function Yt(n){const e=ox(n);return y.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function lx(n,e,r,s=!1){const l=Yt(r);y.useEffect(()=>{const c=typeof n=="function"?n():n;return c.addEventListener(e,l,s),()=>c.removeEventListener(e,l,s)},[n])}function f1(){const n=y.useRef(!0),e=y.useRef(()=>n.current);return y.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function p1(n){const e=y.useRef(null);return y.useEffect(()=>{e.current=n}),e.current}const cx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ux=typeof document<"u",wf=ux||cx?y.useLayoutEffect:y.useEffect,dx=["as","disabled"];function mx(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}function hx(n){return!n||n.trim()==="#"}function Zd({tagName:n,disabled:e,href:r,target:s,rel:l,role:c,onClick:d,tabIndex:m=0,type:h}){n||(r!=null||s!=null||l!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},p];const g=w=>{if((e||n==="a"&&hx(r))&&w.preventDefault(),e){w.stopPropagation();return}d?.(w)},x=w=>{w.key===" "&&(w.preventDefault(),g(w))};return n==="a"&&(r||(r="#"),e&&(r=void 0)),[{role:c??"button",disabled:void 0,tabIndex:e?void 0:m,href:r,target:n==="a"?s:void 0,"aria-disabled":e||void 0,rel:n==="a"?l:void 0,onClick:g,onKeyDown:x},p]}const Jd=y.forwardRef((n,e)=>{let{as:r,disabled:s}=n,l=mx(n,dx);const[c,{tagName:d}]=Zd(Object.assign({tagName:r,disabled:s},l));return a.jsx(d,Object.assign({},l,c,{ref:e}))});Jd.displayName="Button";const fx=["onKeyDown"];function px(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}function gx(n){return!n||n.trim()==="#"}const Pl=y.forwardRef((n,e)=>{let{onKeyDown:r}=n,s=px(n,fx);const[l]=Zd(Object.assign({tagName:"a"},s)),c=Yt(d=>{l.onKeyDown(d),r?.(d)});return gx(s.href)||s.role==="button"?a.jsx("a",Object.assign({ref:e},s,l,{onKeyDown:c})):a.jsx("a",Object.assign({ref:e},s,{onKeyDown:r}))});Pl.displayName="Anchor";const g1=y.forwardRef(({className:n,bsPrefix:e,as:r=Pl,...s},l)=>(e=Ae(e,"alert-link"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));g1.displayName="AlertLink";const vx={[ir]:"show",[Wr]:"show"},cr=y.forwardRef(({className:n,children:e,transitionClasses:r={},onEnter:s,...l},c)=>{const d={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},m=y.useCallback((h,p)=>{s1(h),s?.(h,p)},[s]);return a.jsx(qd,{ref:c,addEndListener:i1,...d,onEnter:m,childRef:vi(e),children:(h,p)=>y.cloneElement(e,{...p,className:Ee("fade",n,e.props.className,vx[h],r[h])})})});cr.displayName="Fade";const yx={"aria-label":Ut.string,onClick:Ut.func,variant:Ut.oneOf(["white"])},Dl=y.forwardRef(({className:n,variant:e,"aria-label":r="Close",...s},l)=>a.jsx("button",{ref:l,type:"button",className:Ee("btn-close",e&&`btn-close-${e}`,n),"aria-label":r,...s}));Dl.displayName="CloseButton";Dl.propTypes=yx;const v1=y.forwardRef((n,e)=>{const{bsPrefix:r,show:s=!0,closeLabel:l="Close alert",closeVariant:c,className:d,children:m,variant:h="primary",onClose:p,dismissible:g,transition:x=cr,...w}=Ns(n,{show:"onClose"}),S=Ae(r,"alert"),b=xa(C=>{p&&p(!1,C)}),N=x===!0?cr:x,k=a.jsxs("div",{role:"alert",...N?void 0:w,ref:e,className:Ee(d,S,h&&`${S}-${h}`,g&&`${S}-dismissible`),children:[g&&a.jsx(Dl,{onClick:b,"aria-label":l,variant:c}),m]});return N?a.jsx(N,{unmountOnExit:!0,...w,ref:void 0,in:s,children:k}):s?k:null});v1.displayName="Alert";const Rt=Object.assign(v1,{Link:g1,Heading:h1}),Ke=y.forwardRef(({bsPrefix:n,bg:e="primary",pill:r=!1,text:s,className:l,as:c="span",...d},m)=>{const h=Ae(n,"badge");return a.jsx(c,{ref:m,...d,className:Ee(l,h,r&&"rounded-pill",s&&`text-${s}`,e&&`bg-${e}`)})});Ke.displayName="Badge";const Se=y.forwardRef(({as:n,bsPrefix:e,variant:r="primary",size:s,active:l=!1,disabled:c=!1,className:d,...m},h)=>{const p=Ae(e,"btn"),[g,{tagName:x}]=Zd({tagName:n,disabled:c,...m}),w=x;return a.jsx(w,{...g,...m,ref:h,disabled:c,className:Ee(d,p,l&&"active",r&&`${p}-${r}`,s&&`${p}-${s}`,m.href&&c&&"disabled")})});Se.displayName="Button";const y1=y.forwardRef(({bsPrefix:n,size:e,vertical:r=!1,className:s,role:l="group",as:c="div",...d},m)=>{const h=Ae(n,"btn-group");let p=h;return r&&(p=`${h}-vertical`),a.jsx(c,{...d,ref:m,role:l,className:Ee(s,p,e&&`${h}-${e}`)})});y1.displayName="ButtonGroup";const e0=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"card-body"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));e0.displayName="CardBody";const x1=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"card-footer"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));x1.displayName="CardFooter";const t0=y.createContext(null);t0.displayName="CardHeaderContext";const w1=y.forwardRef(({bsPrefix:n,className:e,as:r="div",...s},l)=>{const c=Ae(n,"card-header"),d=y.useMemo(()=>({cardHeaderBsPrefix:c}),[c]);return a.jsx(t0.Provider,{value:d,children:a.jsx(r,{ref:l,...s,className:Ee(e,c)})})});w1.displayName="CardHeader";const j1=y.forwardRef(({bsPrefix:n,className:e,variant:r,as:s="img",...l},c)=>{const d=Ae(n,"card-img");return a.jsx(s,{ref:c,className:Ee(r?`${d}-${r}`:d,e),...l})});j1.displayName="CardImg";const S1=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"card-img-overlay"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));S1.displayName="CardImgOverlay";const b1=y.forwardRef(({className:n,bsPrefix:e,as:r="a",...s},l)=>(e=Ae(e,"card-link"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));b1.displayName="CardLink";const xx=Ml("h6"),C1=y.forwardRef(({className:n,bsPrefix:e,as:r=xx,...s},l)=>(e=Ae(e,"card-subtitle"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));C1.displayName="CardSubtitle";const k1=y.forwardRef(({className:n,bsPrefix:e,as:r="p",...s},l)=>(e=Ae(e,"card-text"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));k1.displayName="CardText";const wx=Ml("h5"),N1=y.forwardRef(({className:n,bsPrefix:e,as:r=wx,...s},l)=>(e=Ae(e,"card-title"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));N1.displayName="CardTitle";const E1=y.forwardRef(({bsPrefix:n,className:e,bg:r,text:s,border:l,body:c=!1,children:d,as:m="div",...h},p)=>{const g=Ae(n,"card");return a.jsx(m,{ref:p,...h,className:Ee(e,g,r&&`bg-${r}`,s&&`text-${s}`,l&&`border-${l}`),children:c?a.jsx(e0,{children:d}):d})});E1.displayName="Card";const He=Object.assign(E1,{Img:j1,Title:N1,Subtitle:C1,Body:e0,Link:b1,Text:k1,Header:w1,Footer:x1,ImgOverlay:S1});function jx(){const n=y.useRef(!0),e=y.useRef(()=>n.current);return y.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Sx(n){const e=y.useRef(n);return e.current=n,e}function T1(n){const e=Sx(n);y.useEffect(()=>()=>e.current(),[])}const jd=2**31-1;function R1(n,e,r){const s=r-Date.now();n.current=s<=jd?setTimeout(e,s):setTimeout(()=>R1(n,e,r),jd)}function bx(){const n=jx(),e=y.useRef();return T1(()=>clearTimeout(e.current)),y.useMemo(()=>{const r=()=>clearTimeout(e.current);function s(l,c=0){n()&&(r(),c<=jd?e.current=setTimeout(l,c):R1(e,l,Date.now()+c))}return{set:s,clear:r,handleRef:e}},[])}function Cx(n,e){let r=0;return y.Children.map(n,s=>y.isValidElement(s)?e(s,r++):s)}function kx(n,e){return y.Children.toArray(n).some(r=>y.isValidElement(r)&&r.type===e)}function Nx({as:n,bsPrefix:e,className:r,...s}){e=Ae(e,"col");const l=e1(),c=t1(),d=[],m=[];return l.forEach(h=>{const p=s[h];delete s[h];let g,x,w;typeof p=="object"&&p!=null?{span:g,offset:x,order:w}=p:g=p;const S=h!==c?`-${h}`:"";g&&d.push(g===!0?`${e}${S}`:`${e}${S}-${g}`),w!=null&&m.push(`order${S}-${w}`),x!=null&&m.push(`offset${S}-${x}`)}),[{...s,className:Ee(r,...d,...m)},{as:n,bsPrefix:e,spans:d}]}const kt=y.forwardRef((n,e)=>{const[{className:r,...s},{as:l="div",bsPrefix:c,spans:d}]=Nx(n);return a.jsx(l,{...s,ref:e,className:Ee(r,!d.length&&c)})});kt.displayName="Col";const Ss=y.forwardRef(({bsPrefix:n,fluid:e=!1,as:r="div",className:s,...l},c)=>{const d=Ae(n,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return a.jsx(r,{ref:c,...l,className:Ee(s,e?`${d}${m}`:d)})});Ss.displayName="Container";var Ex=Function.prototype.bind.call(Function.prototype.call,[].slice);function sr(n,e){return Ex(n.querySelectorAll(e))}function M1(n,e,r){const s=y.useRef(n!==void 0),[l,c]=y.useState(e),d=n!==void 0,m=s.current;return s.current=d,!d&&m&&l!==e&&c(e),[d?n:l,y.useCallback((...h)=>{const[p,...g]=h;let x=r?.(p,...g);return c(p),x},[r])]}function P1(){const[,n]=y.useReducer(e=>e+1,0);return n}const Al=y.createContext(null);var jf=Object.prototype.hasOwnProperty;function Sf(n,e,r){for(r of n.keys())if(vs(r,e))return r}function vs(n,e){var r,s,l;if(n===e)return!0;if(n&&e&&(r=n.constructor)===e.constructor){if(r===Date)return n.getTime()===e.getTime();if(r===RegExp)return n.toString()===e.toString();if(r===Array){if((s=n.length)===e.length)for(;s--&&vs(n[s],e[s]););return s===-1}if(r===Set){if(n.size!==e.size)return!1;for(s of n)if(l=s,l&&typeof l=="object"&&(l=Sf(e,l),!l)||!e.has(l))return!1;return!0}if(r===Map){if(n.size!==e.size)return!1;for(s of n)if(l=s[0],l&&typeof l=="object"&&(l=Sf(e,l),!l)||!vs(s[1],e.get(l)))return!1;return!0}if(r===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(r===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!r||typeof n=="object"){s=0;for(r in n)if(jf.call(n,r)&&++s&&!jf.call(e,r)||!(r in e)||!vs(n[r],e[r]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}function Tx(n){const e=f1();return[n[0],y.useCallback(r=>{if(e())return n[1](r)},[e,n[1]])]}var mn="top",Rn="bottom",Mn="right",hn="left",n0="auto",Rs=[mn,Rn,Mn,hn],li="start",bs="end",Rx="clippingParents",D1="viewport",ls="popper",Mx="reference",bf=Rs.reduce(function(n,e){return n.concat([e+"-"+li,e+"-"+bs])},[]),A1=[].concat(Rs,[n0]).reduce(function(n,e){return n.concat([e,e+"-"+li,e+"-"+bs])},[]),Px="beforeRead",Dx="read",Ax="afterRead",Ix="beforeMain",Ox="main",Lx="afterMain",_x="beforeWrite",Fx="write",zx="afterWrite",Hx=[Px,Dx,Ax,Ix,Ox,Lx,_x,Fx,zx];function Gn(n){return n.split("-")[0]}function wn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function wa(n){var e=wn(n).Element;return n instanceof e||n instanceof Element}function Yn(n){var e=wn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function r0(n){if(typeof ShadowRoot>"u")return!1;var e=wn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var va=Math.max,hl=Math.min,ci=Math.round;function Sd(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function I1(){return!/^((?!chrome|android).)*safari/i.test(Sd())}function ui(n,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var s=n.getBoundingClientRect(),l=1,c=1;e&&Yn(n)&&(l=n.offsetWidth>0&&ci(s.width)/n.offsetWidth||1,c=n.offsetHeight>0&&ci(s.height)/n.offsetHeight||1);var d=wa(n)?wn(n):window,m=d.visualViewport,h=!I1()&&r,p=(s.left+(h&&m?m.offsetLeft:0))/l,g=(s.top+(h&&m?m.offsetTop:0))/c,x=s.width/l,w=s.height/c;return{width:x,height:w,top:g,right:p+x,bottom:g+w,left:p,x:p,y:g}}function a0(n){var e=ui(n),r=n.offsetWidth,s=n.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:n.offsetLeft,y:n.offsetTop,width:r,height:s}}function O1(n,e){var r=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(r&&r0(r)){var s=e;do{if(s&&n.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ur(n){return n?(n.nodeName||"").toLowerCase():null}function ur(n){return wn(n).getComputedStyle(n)}function Wx(n){return["table","td","th"].indexOf(Ur(n))>=0}function Kr(n){return((wa(n)?n.ownerDocument:n.document)||window.document).documentElement}function Il(n){return Ur(n)==="html"?n:n.assignedSlot||n.parentNode||(r0(n)?n.host:null)||Kr(n)}function Cf(n){return!Yn(n)||ur(n).position==="fixed"?null:n.offsetParent}function Bx(n){var e=/firefox/i.test(Sd()),r=/Trident/i.test(Sd());if(r&&Yn(n)){var s=ur(n);if(s.position==="fixed")return null}var l=Il(n);for(r0(l)&&(l=l.host);Yn(l)&&["html","body"].indexOf(Ur(l))<0;){var c=ur(l);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||e&&c.willChange==="filter"||e&&c.filter&&c.filter!=="none")return l;l=l.parentNode}return null}function Ms(n){for(var e=wn(n),r=Cf(n);r&&Wx(r)&&ur(r).position==="static";)r=Cf(r);return r&&(Ur(r)==="html"||Ur(r)==="body"&&ur(r).position==="static")?e:r||Bx(n)||e}function i0(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ys(n,e,r){return va(n,hl(e,r))}function $x(n,e,r){var s=ys(n,e,r);return s>r?r:s}function L1(){return{top:0,right:0,bottom:0,left:0}}function _1(n){return Object.assign({},L1(),n)}function F1(n,e){return e.reduce(function(r,s){return r[s]=n,r},{})}var Vx=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,_1(typeof e!="number"?e:F1(e,Rs))};function Ux(n){var e,r=n.state,s=n.name,l=n.options,c=r.elements.arrow,d=r.modifiersData.popperOffsets,m=Gn(r.placement),h=i0(m),p=[hn,Mn].indexOf(m)>=0,g=p?"height":"width";if(!(!c||!d)){var x=Vx(l.padding,r),w=a0(c),S=h==="y"?mn:hn,b=h==="y"?Rn:Mn,N=r.rects.reference[g]+r.rects.reference[h]-d[h]-r.rects.popper[g],k=d[h]-r.rects.reference[h],C=Ms(c),E=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0,P=N/2-k/2,_=x[S],L=E-w[g]-x[b],A=E/2-w[g]/2+P,$=ys(_,A,L),I=h;r.modifiersData[s]=(e={},e[I]=$,e.centerOffset=$-A,e)}}function Gx(n){var e=n.state,r=n.options,s=r.element,l=s===void 0?"[data-popper-arrow]":s;l!=null&&(typeof l=="string"&&(l=e.elements.popper.querySelector(l),!l)||O1(e.elements.popper,l)&&(e.elements.arrow=l))}const Yx={name:"arrow",enabled:!0,phase:"main",fn:Ux,effect:Gx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function di(n){return n.split("-")[1]}var Kx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qx(n,e){var r=n.x,s=n.y,l=e.devicePixelRatio||1;return{x:ci(r*l)/l||0,y:ci(s*l)/l||0}}function kf(n){var e,r=n.popper,s=n.popperRect,l=n.placement,c=n.variation,d=n.offsets,m=n.position,h=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,x=n.isFixed,w=d.x,S=w===void 0?0:w,b=d.y,N=b===void 0?0:b,k=typeof g=="function"?g({x:S,y:N}):{x:S,y:N};S=k.x,N=k.y;var C=d.hasOwnProperty("x"),E=d.hasOwnProperty("y"),P=hn,_=mn,L=window;if(p){var A=Ms(r),$="clientHeight",I="clientWidth";if(A===wn(r)&&(A=Kr(r),ur(A).position!=="static"&&m==="absolute"&&($="scrollHeight",I="scrollWidth")),A=A,l===mn||(l===hn||l===Mn)&&c===bs){_=Rn;var X=x&&A===L&&L.visualViewport?L.visualViewport.height:A[$];N-=X-s.height,N*=h?1:-1}if(l===hn||(l===mn||l===Rn)&&c===bs){P=Mn;var re=x&&A===L&&L.visualViewport?L.visualViewport.width:A[I];S-=re-s.width,S*=h?1:-1}}var H=Object.assign({position:m},p&&Kx),ie=g===!0?qx({x:S,y:N},wn(r)):{x:S,y:N};if(S=ie.x,N=ie.y,h){var se;return Object.assign({},H,(se={},se[_]=E?"0":"",se[P]=C?"0":"",se.transform=(L.devicePixelRatio||1)<=1?"translate("+S+"px, "+N+"px)":"translate3d("+S+"px, "+N+"px, 0)",se))}return Object.assign({},H,(e={},e[_]=E?N+"px":"",e[P]=C?S+"px":"",e.transform="",e))}function Xx(n){var e=n.state,r=n.options,s=r.gpuAcceleration,l=s===void 0?!0:s,c=r.adaptive,d=c===void 0?!0:c,m=r.roundOffsets,h=m===void 0?!0:m,p={placement:Gn(e.placement),variation:di(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:l,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,kf(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:d,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,kf(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Qx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xx,data:{}};var Qo={passive:!0};function Zx(n){var e=n.state,r=n.instance,s=n.options,l=s.scroll,c=l===void 0?!0:l,d=s.resize,m=d===void 0?!0:d,h=wn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return c&&p.forEach(function(g){g.addEventListener("scroll",r.update,Qo)}),m&&h.addEventListener("resize",r.update,Qo),function(){c&&p.forEach(function(g){g.removeEventListener("scroll",r.update,Qo)}),m&&h.removeEventListener("resize",r.update,Qo)}}const Jx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Zx,data:{}};var e5={left:"right",right:"left",bottom:"top",top:"bottom"};function sl(n){return n.replace(/left|right|bottom|top/g,function(e){return e5[e]})}var t5={start:"end",end:"start"};function Nf(n){return n.replace(/start|end/g,function(e){return t5[e]})}function s0(n){var e=wn(n),r=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:r,scrollTop:s}}function o0(n){return ui(Kr(n)).left+s0(n).scrollLeft}function n5(n,e){var r=wn(n),s=Kr(n),l=r.visualViewport,c=s.clientWidth,d=s.clientHeight,m=0,h=0;if(l){c=l.width,d=l.height;var p=I1();(p||!p&&e==="fixed")&&(m=l.offsetLeft,h=l.offsetTop)}return{width:c,height:d,x:m+o0(n),y:h}}function r5(n){var e,r=Kr(n),s=s0(n),l=(e=n.ownerDocument)==null?void 0:e.body,c=va(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=va(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),m=-s.scrollLeft+o0(n),h=-s.scrollTop;return ur(l||r).direction==="rtl"&&(m+=va(r.clientWidth,l?l.clientWidth:0)-c),{width:c,height:d,x:m,y:h}}function l0(n){var e=ur(n),r=e.overflow,s=e.overflowX,l=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+l+s)}function z1(n){return["html","body","#document"].indexOf(Ur(n))>=0?n.ownerDocument.body:Yn(n)&&l0(n)?n:z1(Il(n))}function xs(n,e){var r;e===void 0&&(e=[]);var s=z1(n),l=s===((r=n.ownerDocument)==null?void 0:r.body),c=wn(s),d=l?[c].concat(c.visualViewport||[],l0(s)?s:[]):s,m=e.concat(d);return l?m:m.concat(xs(Il(d)))}function bd(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function a5(n,e){var r=ui(n,!1,e==="fixed");return r.top=r.top+n.clientTop,r.left=r.left+n.clientLeft,r.bottom=r.top+n.clientHeight,r.right=r.left+n.clientWidth,r.width=n.clientWidth,r.height=n.clientHeight,r.x=r.left,r.y=r.top,r}function Ef(n,e,r){return e===D1?bd(n5(n,r)):wa(e)?a5(e,r):bd(r5(Kr(n)))}function i5(n){var e=xs(Il(n)),r=["absolute","fixed"].indexOf(ur(n).position)>=0,s=r&&Yn(n)?Ms(n):n;return wa(s)?e.filter(function(l){return wa(l)&&O1(l,s)&&Ur(l)!=="body"}):[]}function s5(n,e,r,s){var l=e==="clippingParents"?i5(n):[].concat(e),c=[].concat(l,[r]),d=c[0],m=c.reduce(function(h,p){var g=Ef(n,p,s);return h.top=va(g.top,h.top),h.right=hl(g.right,h.right),h.bottom=hl(g.bottom,h.bottom),h.left=va(g.left,h.left),h},Ef(n,d,s));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function H1(n){var e=n.reference,r=n.element,s=n.placement,l=s?Gn(s):null,c=s?di(s):null,d=e.x+e.width/2-r.width/2,m=e.y+e.height/2-r.height/2,h;switch(l){case mn:h={x:d,y:e.y-r.height};break;case Rn:h={x:d,y:e.y+e.height};break;case Mn:h={x:e.x+e.width,y:m};break;case hn:h={x:e.x-r.width,y:m};break;default:h={x:e.x,y:e.y}}var p=l?i0(l):null;if(p!=null){var g=p==="y"?"height":"width";switch(c){case li:h[p]=h[p]-(e[g]/2-r[g]/2);break;case bs:h[p]=h[p]+(e[g]/2-r[g]/2);break}}return h}function Cs(n,e){e===void 0&&(e={});var r=e,s=r.placement,l=s===void 0?n.placement:s,c=r.strategy,d=c===void 0?n.strategy:c,m=r.boundary,h=m===void 0?Rx:m,p=r.rootBoundary,g=p===void 0?D1:p,x=r.elementContext,w=x===void 0?ls:x,S=r.altBoundary,b=S===void 0?!1:S,N=r.padding,k=N===void 0?0:N,C=_1(typeof k!="number"?k:F1(k,Rs)),E=w===ls?Mx:ls,P=n.rects.popper,_=n.elements[b?E:w],L=s5(wa(_)?_:_.contextElement||Kr(n.elements.popper),h,g,d),A=ui(n.elements.reference),$=H1({reference:A,element:P,placement:l}),I=bd(Object.assign({},P,$)),X=w===ls?I:A,re={top:L.top-X.top+C.top,bottom:X.bottom-L.bottom+C.bottom,left:L.left-X.left+C.left,right:X.right-L.right+C.right},H=n.modifiersData.offset;if(w===ls&&H){var ie=H[l];Object.keys(re).forEach(function(se){var ee=[Mn,Rn].indexOf(se)>=0?1:-1,te=[mn,Rn].indexOf(se)>=0?"y":"x";re[se]+=ie[te]*ee})}return re}function o5(n,e){e===void 0&&(e={});var r=e,s=r.placement,l=r.boundary,c=r.rootBoundary,d=r.padding,m=r.flipVariations,h=r.allowedAutoPlacements,p=h===void 0?A1:h,g=di(s),x=g?m?bf:bf.filter(function(b){return di(b)===g}):Rs,w=x.filter(function(b){return p.indexOf(b)>=0});w.length===0&&(w=x);var S=w.reduce(function(b,N){return b[N]=Cs(n,{placement:N,boundary:l,rootBoundary:c,padding:d})[Gn(N)],b},{});return Object.keys(S).sort(function(b,N){return S[b]-S[N]})}function l5(n){if(Gn(n)===n0)return[];var e=sl(n);return[Nf(n),e,Nf(e)]}function c5(n){var e=n.state,r=n.options,s=n.name;if(!e.modifiersData[s]._skip){for(var l=r.mainAxis,c=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!0:d,h=r.fallbackPlacements,p=r.padding,g=r.boundary,x=r.rootBoundary,w=r.altBoundary,S=r.flipVariations,b=S===void 0?!0:S,N=r.allowedAutoPlacements,k=e.options.placement,C=Gn(k),E=C===k,P=h||(E||!b?[sl(k)]:l5(k)),_=[k].concat(P).reduce(function(K,he){return K.concat(Gn(he)===n0?o5(e,{placement:he,boundary:g,rootBoundary:x,padding:p,flipVariations:b,allowedAutoPlacements:N}):he)},[]),L=e.rects.reference,A=e.rects.popper,$=new Map,I=!0,X=_[0],re=0;re<_.length;re++){var H=_[re],ie=Gn(H),se=di(H)===li,ee=[mn,Rn].indexOf(ie)>=0,te=ee?"width":"height",ce=Cs(e,{placement:H,boundary:g,rootBoundary:x,altBoundary:w,padding:p}),ge=ee?se?Mn:hn:se?Rn:mn;L[te]>A[te]&&(ge=sl(ge));var V=sl(ge),Z=[];if(c&&Z.push(ce[ie]<=0),m&&Z.push(ce[ge]<=0,ce[V]<=0),Z.every(function(K){return K})){X=H,I=!1;break}$.set(H,Z)}if(I)for(var U=b?3:1,R=function(he){var ne=_.find(function(we){var Ce=$.get(we);if(Ce)return Ce.slice(0,he).every(function(Oe){return Oe})});if(ne)return X=ne,"break"},B=U;B>0;B--){var oe=R(B);if(oe==="break")break}e.placement!==X&&(e.modifiersData[s]._skip=!0,e.placement=X,e.reset=!0)}}const u5={name:"flip",enabled:!0,phase:"main",fn:c5,requiresIfExists:["offset"],data:{_skip:!1}};function Tf(n,e,r){return r===void 0&&(r={x:0,y:0}),{top:n.top-e.height-r.y,right:n.right-e.width+r.x,bottom:n.bottom-e.height+r.y,left:n.left-e.width-r.x}}function Rf(n){return[mn,Mn,Rn,hn].some(function(e){return n[e]>=0})}function d5(n){var e=n.state,r=n.name,s=e.rects.reference,l=e.rects.popper,c=e.modifiersData.preventOverflow,d=Cs(e,{elementContext:"reference"}),m=Cs(e,{altBoundary:!0}),h=Tf(d,s),p=Tf(m,l,c),g=Rf(h),x=Rf(p);e.modifiersData[r]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:x},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":x})}const m5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:d5};function h5(n,e,r){var s=Gn(n),l=[hn,mn].indexOf(s)>=0?-1:1,c=typeof r=="function"?r(Object.assign({},e,{placement:n})):r,d=c[0],m=c[1];return d=d||0,m=(m||0)*l,[hn,Mn].indexOf(s)>=0?{x:m,y:d}:{x:d,y:m}}function f5(n){var e=n.state,r=n.options,s=n.name,l=r.offset,c=l===void 0?[0,0]:l,d=A1.reduce(function(g,x){return g[x]=h5(x,e.rects,c),g},{}),m=d[e.placement],h=m.x,p=m.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[s]=d}const p5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:f5};function g5(n){var e=n.state,r=n.name;e.modifiersData[r]=H1({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const v5={name:"popperOffsets",enabled:!0,phase:"read",fn:g5,data:{}};function y5(n){return n==="x"?"y":"x"}function x5(n){var e=n.state,r=n.options,s=n.name,l=r.mainAxis,c=l===void 0?!0:l,d=r.altAxis,m=d===void 0?!1:d,h=r.boundary,p=r.rootBoundary,g=r.altBoundary,x=r.padding,w=r.tether,S=w===void 0?!0:w,b=r.tetherOffset,N=b===void 0?0:b,k=Cs(e,{boundary:h,rootBoundary:p,padding:x,altBoundary:g}),C=Gn(e.placement),E=di(e.placement),P=!E,_=i0(C),L=y5(_),A=e.modifiersData.popperOffsets,$=e.rects.reference,I=e.rects.popper,X=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,re=typeof X=="number"?{mainAxis:X,altAxis:X}:Object.assign({mainAxis:0,altAxis:0},X),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ie={x:0,y:0};if(A){if(c){var se,ee=_==="y"?mn:hn,te=_==="y"?Rn:Mn,ce=_==="y"?"height":"width",ge=A[_],V=ge+k[ee],Z=ge-k[te],U=S?-I[ce]/2:0,R=E===li?$[ce]:I[ce],B=E===li?-I[ce]:-$[ce],oe=e.elements.arrow,K=S&&oe?a0(oe):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:L1(),ne=he[ee],we=he[te],Ce=ys(0,$[ce],K[ce]),Oe=P?$[ce]/2-U-Ce-ne-re.mainAxis:R-Ce-ne-re.mainAxis,ye=P?-$[ce]/2+U+Ce+we+re.mainAxis:B+Ce+we+re.mainAxis,be=e.elements.arrow&&Ms(e.elements.arrow),Ze=be?_==="y"?be.clientTop||0:be.clientLeft||0:0,Ue=(se=H?.[_])!=null?se:0,dt=ge+Oe-Ue-Ze,Be=ge+ye-Ue,At=ys(S?hl(V,dt):V,ge,S?va(Z,Be):Z);A[_]=At,ie[_]=At-ge}if(m){var gt,nn=_==="x"?mn:hn,Lt=_==="x"?Rn:Mn,vt=A[L],me=L==="y"?"height":"width",Pe=vt+k[nn],je=vt-k[Lt],ze=[mn,hn].indexOf(C)!==-1,Xe=(gt=H?.[L])!=null?gt:0,Ne=ze?Pe:vt-$[me]-I[me]-Xe+re.altAxis,Je=ze?vt+$[me]+I[me]-Xe-re.altAxis:je,nt=S&&ze?$x(Ne,vt,Je):ys(S?Ne:Pe,vt,S?Je:je);A[L]=nt,ie[L]=nt-vt}e.modifiersData[s]=ie}}const w5={name:"preventOverflow",enabled:!0,phase:"main",fn:x5,requiresIfExists:["offset"]};function j5(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function S5(n){return n===wn(n)||!Yn(n)?s0(n):j5(n)}function b5(n){var e=n.getBoundingClientRect(),r=ci(e.width)/n.offsetWidth||1,s=ci(e.height)/n.offsetHeight||1;return r!==1||s!==1}function C5(n,e,r){r===void 0&&(r=!1);var s=Yn(e),l=Yn(e)&&b5(e),c=Kr(e),d=ui(n,l,r),m={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(s||!s&&!r)&&((Ur(e)!=="body"||l0(c))&&(m=S5(e)),Yn(e)?(h=ui(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):c&&(h.x=o0(c))),{x:d.left+m.scrollLeft-h.x,y:d.top+m.scrollTop-h.y,width:d.width,height:d.height}}function k5(n){var e=new Map,r=new Set,s=[];n.forEach(function(c){e.set(c.name,c)});function l(c){r.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(m){if(!r.has(m)){var h=e.get(m);h&&l(h)}}),s.push(c)}return n.forEach(function(c){r.has(c.name)||l(c)}),s}function N5(n){var e=k5(n);return Hx.reduce(function(r,s){return r.concat(e.filter(function(l){return l.phase===s}))},[])}function E5(n){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(n())})})),e}}function T5(n){var e=n.reduce(function(r,s){var l=r[s.name];return r[s.name]=l?Object.assign({},l,s,{options:Object.assign({},l.options,s.options),data:Object.assign({},l.data,s.data)}):s,r},{});return Object.keys(e).map(function(r){return e[r]})}var Mf={placement:"bottom",modifiers:[],strategy:"absolute"};function Pf(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function R5(n){n===void 0&&(n={});var e=n,r=e.defaultModifiers,s=r===void 0?[]:r,l=e.defaultOptions,c=l===void 0?Mf:l;return function(m,h,p){p===void 0&&(p=c);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mf,c),modifiersData:{},elements:{reference:m,popper:h},attributes:{},styles:{}},x=[],w=!1,S={state:g,setOptions:function(C){var E=typeof C=="function"?C(g.options):C;N(),g.options=Object.assign({},c,g.options,E),g.scrollParents={reference:wa(m)?xs(m):m.contextElement?xs(m.contextElement):[],popper:xs(h)};var P=N5(T5([].concat(s,g.options.modifiers)));return g.orderedModifiers=P.filter(function(_){return _.enabled}),b(),S.update()},forceUpdate:function(){if(!w){var C=g.elements,E=C.reference,P=C.popper;if(Pf(E,P)){g.rects={reference:C5(E,Ms(P),g.options.strategy==="fixed"),popper:a0(P)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(re){return g.modifiersData[re.name]=Object.assign({},re.data)});for(var _=0;_<g.orderedModifiers.length;_++){if(g.reset===!0){g.reset=!1,_=-1;continue}var L=g.orderedModifiers[_],A=L.fn,$=L.options,I=$===void 0?{}:$,X=L.name;typeof A=="function"&&(g=A({state:g,options:I,name:X,instance:S})||g)}}}},update:E5(function(){return new Promise(function(k){S.forceUpdate(),k(g)})}),destroy:function(){N(),w=!0}};if(!Pf(m,h))return S;S.setOptions(p).then(function(k){!w&&p.onFirstUpdate&&p.onFirstUpdate(k)});function b(){g.orderedModifiers.forEach(function(k){var C=k.name,E=k.options,P=E===void 0?{}:E,_=k.effect;if(typeof _=="function"){var L=_({state:g,name:C,instance:S,options:P}),A=function(){};x.push(L||A)}})}function N(){x.forEach(function(k){return k()}),x=[]}return S}}const M5=R5({defaultModifiers:[m5,v5,Qx,Jx,p5,u5,w5,Yx]}),P5=["enabled","placement","strategy","modifiers"];function D5(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}const A5={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},I5={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:r}=n.elements;if("removeAttribute"in e){const s=(e.getAttribute("aria-describedby")||"").split(",").filter(l=>l.trim()!==r.id);s.length?e.setAttribute("aria-describedby",s.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:r,reference:s}=n.elements,l=(e=r.getAttribute("role"))==null?void 0:e.toLowerCase();if(r.id&&l==="tooltip"&&"setAttribute"in s){const c=s.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(r.id)!==-1)return;s.setAttribute("aria-describedby",c?`${c},${r.id}`:r.id)}}},O5=[];function W1(n,e,r={}){let{enabled:s=!0,placement:l="bottom",strategy:c="absolute",modifiers:d=O5}=r,m=D5(r,P5);const h=y.useRef(d),p=y.useRef(),g=y.useCallback(()=>{var k;(k=p.current)==null||k.update()},[]),x=y.useCallback(()=>{var k;(k=p.current)==null||k.forceUpdate()},[]),[w,S]=Tx(y.useState({placement:l,update:g,forceUpdate:x,attributes:{},styles:{popper:{},arrow:{}}})),b=y.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:k})=>{const C={},E={};Object.keys(k.elements).forEach(P=>{C[P]=k.styles[P],E[P]=k.attributes[P]}),S({state:k,styles:C,attributes:E,update:g,forceUpdate:x,placement:k.placement})}}),[g,x,S]),N=y.useMemo(()=>(vs(h.current,d)||(h.current=d),h.current),[d]);return y.useEffect(()=>{!p.current||!s||p.current.setOptions({placement:l,strategy:c,modifiers:[...N,b,A5]})},[c,l,b,s,N]),y.useEffect(()=>{if(!(!s||n==null||e==null))return p.current=M5(n,e,Object.assign({},m,{placement:l,strategy:c,modifiers:[...N,I5,b]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(k=>Object.assign({},k,{attributes:{},styles:{popper:{}}})))}},[s,n,e]),w}function ks(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Hu,Df;function L5(){if(Df)return Hu;Df=1;var n=function(){};return Hu=n,Hu}var _5=L5();const F5=pi(_5),Af=()=>{};function z5(n){return n.button===0}function H5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const ol=n=>n&&("current"in n?n.current:n),If={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function B1(n,e=Af,{disabled:r,clickTrigger:s="click"}={}){const l=y.useRef(!1),c=y.useRef(!1),d=y.useCallback(p=>{const g=ol(n);F5(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),l.current=!g||H5(p)||!z5(p)||!!ks(g,p.target)||c.current,c.current=!1},[n]),m=Yt(p=>{const g=ol(n);g&&ks(g,p.target)?c.current=!0:c.current=!1}),h=Yt(p=>{l.current||e(p)});y.useEffect(()=>{var p,g;if(r||n==null)return;const x=gi(ol(n)),w=x.defaultView||window;let S=(p=w.event)!=null?p:(g=w.parent)==null?void 0:g.event,b=null;If[s]&&(b=or(x,If[s],m,!0));const N=or(x,s,d,!0),k=or(x,s,E=>{if(E===S){S=void 0;return}h(E)});let C=[];return"ontouchstart"in x.documentElement&&(C=[].slice.call(x.body.children).map(E=>or(E,"mousemove",Af))),()=>{b?.(),N(),k(),C.forEach(E=>E())}},[n,r,s,d,m,h])}function W5(n){const e={};return Array.isArray(n)?(n?.forEach(r=>{e[r.name]=r}),e):n||e}function B5(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function $1({enabled:n,enableEvents:e,placement:r,flip:s,offset:l,fixed:c,containerPadding:d,arrowElement:m,popperConfig:h={}}){var p,g,x,w,S;const b=W5(h.modifiers);return Object.assign({},h,{placement:r,enabled:n,strategy:c?"fixed":h.strategy,modifiers:B5(Object.assign({},b,{eventListeners:{enabled:e,options:(p=b.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},b.preventOverflow,{options:d?Object.assign({padding:d},(g=b.preventOverflow)==null?void 0:g.options):(x=b.preventOverflow)==null?void 0:x.options}),offset:{options:Object.assign({offset:l},(w=b.offset)==null?void 0:w.options)},arrow:Object.assign({},b.arrow,{enabled:!!m,options:Object.assign({},(S=b.arrow)==null?void 0:S.options,{element:m})}),flip:Object.assign({enabled:!!s},b.flip)}))})}const $5=["children","usePopper"];function V5(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}const U5=()=>{};function V1(n={}){const e=y.useContext(Al),[r,s]=wd(),l=y.useRef(!1),{flip:c,offset:d,rootCloseEvent:m,fixed:h=!1,placement:p,popperConfig:g={},enableEventListeners:x=!0,usePopper:w=!!e}=n,S=e?.show==null?!!n.show:e.show;S&&!l.current&&(l.current=!0);const b=A=>{e?.toggle(!1,A)},{placement:N,setMenu:k,menuElement:C,toggleElement:E}=e||{},P=W1(E,C,$1({placement:p||N||"bottom-start",enabled:w,enableEvents:x??S,offset:d,flip:c,fixed:h,arrowElement:r,popperConfig:g})),_=Object.assign({ref:k||U5,"aria-labelledby":E?.id},P.attributes.popper,{style:P.styles.popper}),L={show:S,placement:N,hasShown:l.current,toggle:e?.toggle,popper:w?P:null,arrowProps:w?Object.assign({ref:s},P.attributes.arrow,{style:P.styles.arrow}):{}};return B1(C,b,{clickTrigger:m,disabled:!S}),[_,L]}function U1(n){let{children:e,usePopper:r=!0}=n,s=V5(n,$5);const[l,c]=V1(Object.assign({},s,{usePopper:r}));return a.jsx(a.Fragment,{children:e(l,c)})}U1.displayName="DropdownMenu";const G1={prefix:String(Math.round(Math.random()*1e10)),current:0},Y1=ut.createContext(G1),G5=ut.createContext(!1);let Wu=new WeakMap;function Y5(n=!1){let e=y.useContext(Y1),r=y.useRef(null);if(r.current===null&&!n){var s,l;let c=(l=ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||l===void 0||(s=l.ReactCurrentOwner)===null||s===void 0?void 0:s.current;if(c){let d=Wu.get(c);d==null?Wu.set(c,{id:e.current,state:c.memoizedState}):c.memoizedState!==d.state&&(e.current=d.id,Wu.delete(c))}r.current=++e.current}return r.current}function K5(n){let e=y.useContext(Y1),r=Y5(!!n),s=`react-aria${e.prefix}`;return n||`${s}-${r}`}function q5(n){let e=ut.useId(),[r]=y.useState(J5()),s=r?"react-aria":`react-aria${G1.prefix}`;return n||`${s}-${e}`}const K1=typeof ut.useId=="function"?q5:K5;function X5(){return!1}function Q5(){return!0}function Z5(n){return()=>{}}function J5(){return typeof ut.useSyncExternalStore=="function"?ut.useSyncExternalStore(Z5,X5,Q5):y.useContext(G5)}const q1=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Of=()=>{};function X1(){const n=K1(),{show:e=!1,toggle:r=Of,setToggle:s,menuElement:l}=y.useContext(Al)||{},c=y.useCallback(m=>{r(!e,m)},[e,r]),d={id:n,ref:s||Of,onClick:c,"aria-expanded":!!e};return l&&q1(l)&&(d["aria-haspopup"]=!0),[d,{show:e,toggle:r}]}function Q1({children:n}){const[e,r]=X1();return a.jsx(a.Fragment,{children:n(e,r)})}Q1.displayName="DropdownToggle";const dr=y.createContext(null),Gr=(n,e=null)=>n!=null?String(n):e||null,Ol=y.createContext(null);Ol.displayName="NavContext";const ew="data-rr-ui-",tw="rrUi";function wi(n){return`${ew}${n}`}function nw(n){return`${tw}${n}`}const rw=["eventKey","disabled","onClick","active","as"];function aw(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}function Z1({key:n,href:e,active:r,disabled:s,onClick:l}){const c=y.useContext(dr),d=y.useContext(Ol),{activeKey:m}=d||{},h=Gr(n,e),p=r==null&&n!=null?Gr(m)===h:r;return[{onClick:Yt(x=>{s||(l?.(x),c&&!x.isPropagationStopped()&&c(h,x))}),"aria-disabled":s||void 0,"aria-selected":p,[wi("dropdown-item")]:""},{isActive:p}]}const J1=y.forwardRef((n,e)=>{let{eventKey:r,disabled:s,onClick:l,active:c,as:d=Jd}=n,m=aw(n,rw);const[h]=Z1({key:r,href:m.href,disabled:s,onClick:l,active:c});return a.jsx(d,Object.assign({},m,{ref:e},h))});J1.displayName="DropdownItem";const eg=y.createContext(yi?window:void 0);eg.Provider;function Ll(){return y.useContext(eg)}function Lf(){const n=P1(),e=y.useRef(null),r=y.useCallback(s=>{e.current=s,n()},[n]);return[e,r]}function Ps({defaultShow:n,show:e,onSelect:r,onToggle:s,itemSelector:l=`* [${wi("dropdown-item")}]`,focusFirstItemOnShow:c,placement:d="bottom-start",children:m}){const h=Ll(),[p,g]=M1(e,n,s),[x,w]=Lf(),S=x.current,[b,N]=Lf(),k=b.current,C=p1(p),E=y.useRef(null),P=y.useRef(!1),_=y.useContext(dr),L=y.useCallback((H,ie,se=ie?.type)=>{g(H,{originalEvent:ie,source:se})},[g]),A=Yt((H,ie)=>{r?.(H,ie),L(!1,ie,"select"),ie.isPropagationStopped()||_?.(H,ie)}),$=y.useMemo(()=>({toggle:L,placement:d,show:p,menuElement:S,toggleElement:k,setMenu:w,setToggle:N}),[L,d,p,S,k,w,N]);S&&C&&!p&&(P.current=S.contains(S.ownerDocument.activeElement));const I=Yt(()=>{k&&k.focus&&k.focus()}),X=Yt(()=>{const H=E.current;let ie=c;if(ie==null&&(ie=x.current&&q1(x.current)?"keyboard":!1),ie===!1||ie==="keyboard"&&!/^key.+$/.test(H))return;const se=sr(x.current,l)[0];se&&se.focus&&se.focus()});y.useEffect(()=>{p?X():P.current&&(P.current=!1,I())},[p,P,I,X]),y.useEffect(()=>{E.current=null});const re=(H,ie)=>{if(!x.current)return null;const se=sr(x.current,l);let ee=se.indexOf(H)+ie;return ee=Math.max(0,Math.min(ee,se.length)),se[ee]};return lx(y.useCallback(()=>h.document,[h]),"keydown",H=>{var ie,se;const{key:ee}=H,te=H.target,ce=(ie=x.current)==null?void 0:ie.contains(te),ge=(se=b.current)==null?void 0:se.contains(te);if(/input|textarea/i.test(te.tagName)&&(ee===" "||ee!=="Escape"&&ce||ee==="Escape"&&te.type==="search")||!ce&&!ge||ee==="Tab"&&(!x.current||!p))return;E.current=H.type;const Z={originalEvent:H,source:H.type};switch(ee){case"ArrowUp":{const U=re(te,-1);U&&U.focus&&U.focus(),H.preventDefault();return}case"ArrowDown":if(H.preventDefault(),!p)g(!0,Z);else{const U=re(te,1);U&&U.focus&&U.focus()}return;case"Tab":Kd(te.ownerDocument,"keyup",U=>{var R;(U.key==="Tab"&&!U.target||!((R=x.current)!=null&&R.contains(U.target)))&&g(!1,Z)},{once:!0});break;case"Escape":ee==="Escape"&&(H.preventDefault(),H.stopPropagation()),g(!1,Z);break}}),a.jsx(dr.Provider,{value:A,children:a.jsx(Al.Provider,{value:$,children:m})})}Ps.displayName="Dropdown";Ps.Menu=U1;Ps.Toggle=Q1;Ps.Item=J1;const c0=y.createContext({});c0.displayName="DropdownContext";const tg=y.forwardRef(({className:n,bsPrefix:e,as:r="hr",role:s="separator",...l},c)=>(e=Ae(e,"dropdown-divider"),a.jsx(r,{ref:c,className:Ee(n,e),role:s,...l})));tg.displayName="DropdownDivider";const ng=y.forwardRef(({className:n,bsPrefix:e,as:r="div",role:s="heading",...l},c)=>(e=Ae(e,"dropdown-header"),a.jsx(r,{ref:c,className:Ee(n,e),role:s,...l})));ng.displayName="DropdownHeader";const rg=y.forwardRef(({bsPrefix:n,className:e,eventKey:r,disabled:s=!1,onClick:l,active:c,as:d=Pl,...m},h)=>{const p=Ae(n,"dropdown-item"),[g,x]=Z1({key:r,href:m.href,disabled:s,onClick:l,active:c});return a.jsx(d,{...m,...g,ref:h,className:Ee(e,p,x.isActive&&"active",s&&"disabled")})});rg.displayName="DropdownItem";const ag=y.forwardRef(({className:n,bsPrefix:e,as:r="span",...s},l)=>(e=Ae(e,"dropdown-item-text"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));ag.displayName="DropdownItemText";const iw=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",sw=typeof document<"u",ig=sw||iw?y.useLayoutEffect:y.useEffect,u0=y.createContext(null);u0.displayName="InputGroupContext";const d0=y.createContext(null);d0.displayName="NavbarContext";function sg(n,e){return n}function og(n,e,r){const s=r?"top-end":"top-start",l=r?"top-start":"top-end",c=r?"bottom-end":"bottom-start",d=r?"bottom-start":"bottom-end",m=r?"right-start":"left-start",h=r?"right-end":"left-end",p=r?"left-start":"right-start",g=r?"left-end":"right-end";let x=n?d:c;return e==="up"?x=n?l:s:e==="end"?x=n?g:p:e==="start"?x=n?h:m:e==="down-centered"?x="bottom":e==="up-centered"&&(x="top"),x}const lg=y.forwardRef(({bsPrefix:n,className:e,align:r,rootCloseEvent:s,flip:l=!0,show:c,renderOnMount:d,as:m="div",popperConfig:h,variant:p,...g},x)=>{let w=!1;const S=y.useContext(d0),b=Ae(n,"dropdown-menu"),{align:N,drop:k,isRTL:C}=y.useContext(c0);r=r||N;const E=y.useContext(u0),P=[];if(r)if(typeof r=="object"){const H=Object.keys(r);if(H.length){const ie=H[0],se=r[ie];w=se==="start",P.push(`${b}-${ie}-${se}`)}}else r==="end"&&(w=!0);const _=og(w,k,C),[L,{hasShown:A,popper:$,show:I,toggle:X}]=V1({flip:l,rootCloseEvent:s,show:c,usePopper:!S&&P.length===0,offset:[0,2],popperConfig:h,placement:_});if(L.ref=xi(sg(x),L.ref),ig(()=>{I&&$?.update()},[I]),!A&&!d&&!E)return null;typeof m!="string"&&(L.show=I,L.close=()=>X?.(!1),L.align=r);let re=g.style;return $!=null&&$.placement&&(re={...g.style,...L.style},g["x-placement"]=$.placement),a.jsx(m,{...g,...L,style:re,...(P.length||S)&&{"data-bs-popper":"static"},className:Ee(e,b,I&&"show",w&&`${b}-end`,p&&`${b}-${p}`,...P)})});lg.displayName="DropdownMenu";const cg=y.forwardRef(({bsPrefix:n,split:e,className:r,childBsPrefix:s,as:l=Se,...c},d)=>{const m=Ae(n,"dropdown-toggle"),h=y.useContext(Al);s!==void 0&&(c.bsPrefix=s);const[p]=X1();return p.ref=xi(p.ref,sg(d)),a.jsx(l,{className:Ee(r,m,e&&`${m}-split`,h?.show&&"show"),...p,...c})});cg.displayName="DropdownToggle";const ug=y.forwardRef((n,e)=>{const{bsPrefix:r,drop:s="down",show:l,className:c,align:d="start",onSelect:m,onToggle:h,focusFirstItemOnShow:p,as:g="div",navbar:x,autoClose:w=!0,...S}=Ns(n,{show:"onToggle"}),b=y.useContext(u0),N=Ae(r,"dropdown"),k=Tl(),C=$=>w===!1?$==="click":w==="inside"?$!=="rootClose":w==="outside"?$!=="select":!0,E=xa(($,I)=>{var X;!((X=I.originalEvent)==null||(X=X.target)==null)&&X.classList.contains("dropdown-toggle")&&I.source==="mousedown"||(I.originalEvent.currentTarget===document&&(I.source!=="keydown"||I.originalEvent.key==="Escape")&&(I.source="rootClose"),C(I.source)&&h?.($,I))}),_=og(d==="end",s,k),L=y.useMemo(()=>({align:d,drop:s,isRTL:k}),[d,s,k]),A={down:N,"down-centered":`${N}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return a.jsx(c0.Provider,{value:L,children:a.jsx(Ps,{placement:_,show:l,onSelect:m,onToggle:E,focusFirstItemOnShow:p,itemSelector:`.${N}-item:not(.disabled):not(:disabled)`,children:b?S.children:a.jsx(g,{...S,ref:e,className:Ee(c,l&&"show",A[s])})})})});ug.displayName="Dropdown";const un=Object.assign(ug,{Toggle:cg,Menu:lg,Item:rg,ItemText:ag,Divider:tg,Header:ng}),ow={type:Ut.string,tooltip:Ut.bool,as:Ut.elementType},_l=y.forwardRef(({as:n="div",className:e,type:r="valid",tooltip:s=!1,...l},c)=>a.jsx(n,{...l,ref:c,className:Ee(e,`${r}-${s?"tooltip":"feedback"}`)}));_l.displayName="Feedback";_l.propTypes=ow;const mr=y.createContext({}),m0=y.forwardRef(({id:n,bsPrefix:e,className:r,type:s="checkbox",isValid:l=!1,isInvalid:c=!1,as:d="input",...m},h)=>{const{controlId:p}=y.useContext(mr);return e=Ae(e,"form-check-input"),a.jsx(d,{...m,ref:h,type:s,id:n||p,className:Ee(r,e,l&&"is-valid",c&&"is-invalid")})});m0.displayName="FormCheckInput";const fl=y.forwardRef(({bsPrefix:n,className:e,htmlFor:r,...s},l)=>{const{controlId:c}=y.useContext(mr);return n=Ae(n,"form-check-label"),a.jsx("label",{...s,ref:l,htmlFor:r||c,className:Ee(e,n)})});fl.displayName="FormCheckLabel";const dg=y.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:r,inline:s=!1,reverse:l=!1,disabled:c=!1,isValid:d=!1,isInvalid:m=!1,feedbackTooltip:h=!1,feedback:p,feedbackType:g,className:x,style:w,title:S="",type:b="checkbox",label:N,children:k,as:C="input",...E},P)=>{e=Ae(e,"form-check"),r=Ae(r,"form-switch");const{controlId:_}=y.useContext(mr),L=y.useMemo(()=>({controlId:n||_}),[_,n]),A=!k&&N!=null&&N!==!1||kx(k,fl),$=a.jsx(m0,{...E,type:b==="switch"?"checkbox":b,ref:P,isValid:d,isInvalid:m,disabled:c,as:C});return a.jsx(mr.Provider,{value:L,children:a.jsx("div",{style:w,className:Ee(x,A&&e,s&&`${e}-inline`,l&&`${e}-reverse`,b==="switch"&&r),children:k||a.jsxs(a.Fragment,{children:[$,A&&a.jsx(fl,{title:S,children:N}),p&&a.jsx(_l,{type:g,tooltip:h,children:p})]})})})});dg.displayName="FormCheck";const pl=Object.assign(dg,{Input:m0,Label:fl}),mg=y.forwardRef(({bsPrefix:n,type:e,size:r,htmlSize:s,id:l,className:c,isValid:d=!1,isInvalid:m=!1,plaintext:h,readOnly:p,as:g="input",...x},w)=>{const{controlId:S}=y.useContext(mr);return n=Ae(n,"form-control"),a.jsx(g,{...x,type:e,size:s,ref:w,readOnly:p,id:l||S,className:Ee(c,h?`${n}-plaintext`:n,r&&`${n}-${r}`,e==="color"&&`${n}-color`,d&&"is-valid",m&&"is-invalid")})});mg.displayName="FormControl";const lw=Object.assign(mg,{Feedback:_l}),hg=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"form-floating"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));hg.displayName="FormFloating";const h0=y.forwardRef(({controlId:n,as:e="div",...r},s)=>{const l=y.useMemo(()=>({controlId:n}),[n]);return a.jsx(mr.Provider,{value:l,children:a.jsx(e,{...r,ref:s})})});h0.displayName="FormGroup";const fg=y.forwardRef(({as:n="label",bsPrefix:e,column:r=!1,visuallyHidden:s=!1,className:l,htmlFor:c,...d},m)=>{const{controlId:h}=y.useContext(mr);e=Ae(e,"form-label");let p="col-form-label";typeof r=="string"&&(p=`${p} ${p}-${r}`);const g=Ee(l,e,s&&"visually-hidden",r&&p);return c=c||h,r?a.jsx(kt,{ref:m,as:"label",className:g,htmlFor:c,...d}):a.jsx(n,{ref:m,className:g,htmlFor:c,...d})});fg.displayName="FormLabel";const pg=y.forwardRef(({bsPrefix:n,className:e,id:r,...s},l)=>{const{controlId:c}=y.useContext(mr);return n=Ae(n,"form-range"),a.jsx("input",{...s,type:"range",ref:l,className:Ee(e,n),id:r||c})});pg.displayName="FormRange";const gg=y.forwardRef(({bsPrefix:n,size:e,htmlSize:r,className:s,isValid:l=!1,isInvalid:c=!1,id:d,...m},h)=>{const{controlId:p}=y.useContext(mr);return n=Ae(n,"form-select"),a.jsx("select",{...m,size:r,ref:h,className:Ee(s,n,e&&`${n}-${e}`,l&&"is-valid",c&&"is-invalid"),id:d||p})});gg.displayName="FormSelect";const vg=y.forwardRef(({bsPrefix:n,className:e,as:r="small",muted:s,...l},c)=>(n=Ae(n,"form-text"),a.jsx(r,{...l,ref:c,className:Ee(e,n,s&&"text-muted")})));vg.displayName="FormText";const yg=y.forwardRef((n,e)=>a.jsx(pl,{...n,ref:e,type:"switch"}));yg.displayName="Switch";const cw=Object.assign(yg,{Input:pl.Input,Label:pl.Label}),xg=y.forwardRef(({bsPrefix:n,className:e,children:r,controlId:s,label:l,...c},d)=>(n=Ae(n,"form-floating"),a.jsxs(h0,{ref:d,className:Ee(e,n),controlId:s,...c,children:[r,a.jsx("label",{htmlFor:s,children:l})]})));xg.displayName="FloatingLabel";const uw={_ref:Ut.any,validated:Ut.bool,as:Ut.elementType},f0=y.forwardRef(({className:n,validated:e,as:r="form",...s},l)=>a.jsx(r,{...s,ref:l,className:Ee(n,e&&"was-validated")}));f0.displayName="Form";f0.propTypes=uw;const xe=Object.assign(f0,{Group:h0,Control:lw,Floating:hg,Check:pl,Switch:cw,Label:fg,Text:vg,Range:pg,Select:gg,FloatingLabel:xg}),_f=n=>!n||typeof n=="function"?n:e=>{n.current=e};function dw(n,e){const r=_f(n),s=_f(e);return l=>{r&&r(l),s&&s(l)}}function Ds(n,e){return y.useMemo(()=>dw(n,e),[n,e])}const ji=y.createContext(null),mw=["as","active","eventKey"];function hw(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}function p0({key:n,onClick:e,active:r,id:s,role:l,disabled:c}){const d=y.useContext(dr),m=y.useContext(Ol),h=y.useContext(ji);let p=r;const g={role:l};if(m){!l&&m.role==="tablist"&&(g.role="tab");const x=m.getControllerId(n??null),w=m.getControlledId(n??null);g[wi("event-key")]=n,g.id=x||s,p=r==null&&n!=null?m.activeKey===n:r,(p||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(g["aria-controls"]=w)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),c&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=Yt(x=>{c||(e?.(x),n!=null&&d&&!x.isPropagationStopped()&&d(n,x))}),[g,{isActive:p}]}const wg=y.forwardRef((n,e)=>{let{as:r=Jd,active:s,eventKey:l}=n,c=hw(n,mw);const[d,m]=p0(Object.assign({key:Gr(l,c.href),active:s},c));return d[wi("active")]=m.isActive,a.jsx(r,Object.assign({},c,d,{ref:e}))});wg.displayName="NavItem";const fw=["as","onSelect","activeKey","role","onKeyDown"];function pw(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}const Ff=()=>{},zf=wi("event-key"),jg=y.forwardRef((n,e)=>{let{as:r="div",onSelect:s,activeKey:l,role:c,onKeyDown:d}=n,m=pw(n,fw);const h=P1(),p=y.useRef(!1),g=y.useContext(dr),x=y.useContext(ji);let w,S;x&&(c=c||"tablist",l=x.activeKey,w=x.getControlledId,S=x.getControllerId);const b=y.useRef(null),N=P=>{const _=b.current;if(!_)return null;const L=sr(_,`[${zf}]:not([aria-disabled=true])`),A=_.querySelector("[aria-selected=true]");if(!A||A!==document.activeElement)return null;const $=L.indexOf(A);if($===-1)return null;let I=$+P;return I>=L.length&&(I=0),I<0&&(I=L.length-1),L[I]},k=(P,_)=>{P!=null&&(s?.(P,_),g?.(P,_))},C=P=>{if(d?.(P),!x)return;let _;switch(P.key){case"ArrowLeft":case"ArrowUp":_=N(-1);break;case"ArrowRight":case"ArrowDown":_=N(1);break;default:return}_&&(P.preventDefault(),k(_.dataset[nw("EventKey")]||null,P),p.current=!0,h())};y.useEffect(()=>{if(b.current&&p.current){const P=b.current.querySelector(`[${zf}][aria-selected=true]`);P?.focus()}p.current=!1});const E=Ds(e,b);return a.jsx(dr.Provider,{value:k,children:a.jsx(Ol.Provider,{value:{role:c,activeKey:Gr(l),getControlledId:w||Ff,getControllerId:S||Ff},children:a.jsx(r,Object.assign({},m,{onKeyDown:C,ref:E,role:c}))})})});jg.displayName="Nav";const Sg=Object.assign(jg,{Item:wg}),bg=y.forwardRef(({bsPrefix:n,active:e,disabled:r,eventKey:s,className:l,variant:c,action:d,as:m,...h},p)=>{n=Ae(n,"list-group-item");const[g,x]=p0({key:Gr(s,h.href),active:e,...h}),w=xa(b=>{if(r){b.preventDefault(),b.stopPropagation();return}g.onClick(b)});r&&h.tabIndex===void 0&&(h.tabIndex=-1,h["aria-disabled"]=!0);const S=m||(d?h.href?"a":"button":"div");return a.jsx(S,{ref:p,...h,...g,onClick:w,className:Ee(l,n,x.isActive&&"active",r&&"disabled",c&&`${n}-${c}`,d&&`${n}-action`)})});bg.displayName="ListGroupItem";const Cg=y.forwardRef((n,e)=>{const{className:r,bsPrefix:s,variant:l,horizontal:c,numbered:d,as:m="div",...h}=Ns(n,{activeKey:"onSelect"}),p=Ae(s,"list-group");let g;return c&&(g=c===!0?"horizontal":`horizontal-${c}`),a.jsx(Sg,{ref:e,...h,as:m,className:Ee(r,p,l&&`${p}-${l}`,g&&`${p}-${g}`,d&&`${p}-numbered`)})});Cg.displayName="ListGroup";const Bu=Object.assign(Cg,{Item:bg});var Zo;function Hf(n){if((!Zo&&Zo!==0||n)&&yi){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Zo=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Zo}function gw(){return y.useState(null)}function $u(n){n===void 0&&(n=gi());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function vw(n){const e=y.useRef(n);return e.current=n,e}function yw(n){const e=vw(n);y.useEffect(()=>()=>e.current(),[])}function xw(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const Wf=wi("modal-open");class g0{constructor({ownerDocument:e,handleContainerOverflow:r=!0,isRTL:s=!1}={}){this.handleContainerOverflow=r,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return xw(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const r={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",l=this.getElement();e.style={overflow:l.style.overflow,[s]:l.style[s]},e.scrollBarWidth&&(r[s]=`${parseInt(lr(l,s)||"0",10)+e.scrollBarWidth}px`),l.setAttribute(Wf,""),lr(l,r)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const r=this.getElement();r.removeAttribute(Wf),Object.assign(r.style,e.style)}add(e){let r=this.modals.indexOf(e);return r!==-1||(r=this.modals.length,this.modals.push(e),this.setModalAttributes(e),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(e){const r=this.modals.indexOf(e);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Vu=(n,e)=>yi?n==null?(e||gi()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Cd(n,e){const r=Ll(),[s,l]=y.useState(()=>Vu(n,r?.document));if(!s){const c=Vu(n);c&&l(c)}return y.useEffect(()=>{},[e,s]),y.useEffect(()=>{const c=Vu(n);c!==s&&l(c)},[n,s]),s}function v0({children:n,in:e,onExited:r,mountOnEnter:s,unmountOnExit:l}){const c=y.useRef(null),d=y.useRef(e),m=Yt(r);y.useEffect(()=>{e?d.current=!0:m(c.current)},[e,m]);const h=Ds(c,vi(n)),p=y.cloneElement(n,{ref:h});return e?p:l||!d.current&&s?null:p}const ww=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function jw(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}function Sw(n){let{onEnter:e,onEntering:r,onEntered:s,onExit:l,onExiting:c,onExited:d,addEndListener:m,children:h}=n,p=jw(n,ww);const g=y.useRef(null),x=Ds(g,vi(h)),w=_=>L=>{_&&g.current&&_(g.current,L)},S=y.useCallback(w(e),[e]),b=y.useCallback(w(r),[r]),N=y.useCallback(w(s),[s]),k=y.useCallback(w(l),[l]),C=y.useCallback(w(c),[c]),E=y.useCallback(w(d),[d]),P=y.useCallback(w(m),[m]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:S},r&&{onEntering:b},s&&{onEntered:N},l&&{onExit:k},c&&{onExiting:C},d&&{onExited:E},m&&{addEndListener:P},{children:typeof h=="function"?(_,L)=>h(_,Object.assign({},L,{ref:x})):y.cloneElement(h,{ref:x})})}const bw=["component"];function Cw(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}const kw=y.forwardRef((n,e)=>{let{component:r}=n,s=Cw(n,bw);const l=Sw(s);return a.jsx(r,Object.assign({ref:e},l))});function Nw({in:n,onTransition:e}){const r=y.useRef(null),s=y.useRef(!0),l=Yt(e);return wf(()=>{if(!r.current)return;let c=!1;return l({in:n,element:r.current,initial:s.current,isStale:()=>c}),()=>{c=!0}},[n,l]),wf(()=>(s.current=!1,()=>{s.current=!0}),[]),r}function Ew({children:n,in:e,onExited:r,onEntered:s,transition:l}){const[c,d]=y.useState(!e);e&&c&&d(!1);const m=Nw({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?s?.(p.element,p.initial):(d(!0),r?.(p.element)))};Promise.resolve(l(p)).then(g,x=>{throw p.in||d(!0),x})}}),h=Ds(m,vi(n));return c&&!e?null:y.cloneElement(n,{ref:h})}function kd(n,e,r){return n?a.jsx(kw,Object.assign({},r,{component:n})):e?a.jsx(Ew,Object.assign({},r,{transition:e})):a.jsx(v0,Object.assign({},r))}const Tw=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Rw(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}let Uu;function Mw(n){return Uu||(Uu=new g0({ownerDocument:n?.document})),Uu}function Pw(n){const e=Ll(),r=n||Mw(e),s=y.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>r.add(s.current),remove:()=>r.remove(s.current),isTopModal:()=>r.isTopModal(s.current),setDialogRef:y.useCallback(l=>{s.current.dialog=l},[]),setBackdropRef:y.useCallback(l=>{s.current.backdrop=l},[])})}const kg=y.forwardRef((n,e)=>{let{show:r=!1,role:s="dialog",className:l,style:c,children:d,backdrop:m=!0,keyboard:h=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:x,runTransition:w,backdropTransition:S,runBackdropTransition:b,autoFocus:N=!0,enforceFocus:k=!0,restoreFocus:C=!0,restoreFocusOptions:E,renderDialog:P,renderBackdrop:_=Be=>a.jsx("div",Object.assign({},Be)),manager:L,container:A,onShow:$,onHide:I=()=>{},onExit:X,onExited:re,onExiting:H,onEnter:ie,onEntering:se,onEntered:ee}=n,te=Rw(n,Tw);const ce=Ll(),ge=Cd(A),V=Pw(L),Z=f1(),U=p1(r),[R,B]=y.useState(!r),oe=y.useRef(null);y.useImperativeHandle(e,()=>V,[V]),yi&&!U&&r&&(oe.current=$u(ce?.document)),r&&R&&B(!1);const K=Yt(()=>{if(V.add(),ye.current=or(document,"keydown",Ce),Oe.current=or(document,"focus",()=>setTimeout(ne),!0),$&&$(),N){var Be,At;const gt=$u((Be=(At=V.dialog)==null?void 0:At.ownerDocument)!=null?Be:ce?.document);V.dialog&&gt&&!ks(V.dialog,gt)&&(oe.current=gt,V.dialog.focus())}}),he=Yt(()=>{if(V.remove(),ye.current==null||ye.current(),Oe.current==null||Oe.current(),C){var Be;(Be=oe.current)==null||Be.focus==null||Be.focus(E),oe.current=null}});y.useEffect(()=>{!r||!ge||K()},[r,ge,K]),y.useEffect(()=>{R&&he()},[R,he]),yw(()=>{he()});const ne=Yt(()=>{if(!k||!Z()||!V.isTopModal())return;const Be=$u(ce?.document);V.dialog&&Be&&!ks(V.dialog,Be)&&V.dialog.focus()}),we=Yt(Be=>{Be.target===Be.currentTarget&&(p?.(Be),m===!0&&I())}),Ce=Yt(Be=>{h&&r1(Be)&&V.isTopModal()&&(g?.(Be),Be.defaultPrevented||I())}),Oe=y.useRef(),ye=y.useRef(),be=(...Be)=>{B(!0),re?.(...Be)};if(!ge)return null;const Ze=Object.assign({role:s,ref:V.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},te,{style:c,className:l,tabIndex:-1});let Ue=P?P(Ze):a.jsx("div",Object.assign({},Ze,{children:y.cloneElement(d,{role:"document"})}));Ue=kd(x,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:X,onExiting:H,onExited:be,onEnter:ie,onEntering:se,onEntered:ee,children:Ue});let dt=null;return m&&(dt=_({ref:V.setBackdropRef,onClick:we}),dt=kd(S,b,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:dt})),a.jsx(a.Fragment,{children:pa.createPortal(a.jsxs(a.Fragment,{children:[dt,Ue]}),ge)})});kg.displayName="Modal";const Dw=Object.assign(kg,{Manager:g0});function Nd(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function Aw(n,e){n.classList?n.classList.add(e):Nd(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Bf(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Iw(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Bf(n.className,e):n.setAttribute("class",Bf(n.className&&n.className.baseVal||"",e))}const Za={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Ow extends g0{adjustAndStore(e,r,s){const l=r.style[e];r.dataset[e]=l,lr(r,{[e]:`${parseFloat(lr(r,e))+s}px`})}restore(e,r){const s=r.dataset[e];s!==void 0&&(delete r.dataset[e],lr(r,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const r=this.getElement();if(Aw(r,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";sr(r,Za.FIXED_CONTENT).forEach(c=>this.adjustAndStore(s,c,e.scrollBarWidth)),sr(r,Za.STICKY_CONTENT).forEach(c=>this.adjustAndStore(l,c,-e.scrollBarWidth)),sr(r,Za.NAVBAR_TOGGLER).forEach(c=>this.adjustAndStore(l,c,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const r=this.getElement();Iw(r,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";sr(r,Za.FIXED_CONTENT).forEach(c=>this.restore(s,c)),sr(r,Za.STICKY_CONTENT).forEach(c=>this.restore(l,c)),sr(r,Za.NAVBAR_TOGGLER).forEach(c=>this.restore(l,c))}}let Gu;function Lw(n){return Gu||(Gu=new Ow(n)),Gu}const Ng=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"modal-body"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));Ng.displayName="ModalBody";const Eg=y.createContext({onHide(){}}),y0=y.forwardRef(({bsPrefix:n,className:e,contentClassName:r,centered:s,size:l,fullscreen:c,children:d,scrollable:m,...h},p)=>{n=Ae(n,"modal");const g=`${n}-dialog`,x=typeof c=="string"?`${n}-fullscreen-${c}`:`${n}-fullscreen`;return a.jsx("div",{...h,ref:p,className:Ee(g,e,l&&`${n}-${l}`,s&&`${g}-centered`,m&&`${g}-scrollable`,c&&x),children:a.jsx("div",{className:Ee(`${n}-content`,r),children:d})})});y0.displayName="ModalDialog";const Tg=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"modal-footer"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));Tg.displayName="ModalFooter";const Rg=y.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:r=!1,onHide:s,children:l,...c},d)=>{const m=y.useContext(Eg),h=xa(()=>{m?.onHide(),s?.()});return a.jsxs("div",{ref:d,...c,children:[l,r&&a.jsx(Dl,{"aria-label":n,variant:e,onClick:h})]})});Rg.displayName="AbstractModalHeader";const Mg=y.forwardRef(({bsPrefix:n,className:e,closeLabel:r="Close",closeButton:s=!1,...l},c)=>(n=Ae(n,"modal-header"),a.jsx(Rg,{ref:c,...l,className:Ee(e,n),closeLabel:r,closeButton:s})));Mg.displayName="ModalHeader";const _w=Ml("h4"),Pg=y.forwardRef(({className:n,bsPrefix:e,as:r=_w,...s},l)=>(e=Ae(e,"modal-title"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));Pg.displayName="ModalTitle";function Fw(n){return a.jsx(cr,{...n,timeout:null})}function zw(n){return a.jsx(cr,{...n,timeout:null})}const Dg=y.forwardRef(({bsPrefix:n,className:e,style:r,dialogClassName:s,contentClassName:l,children:c,dialogAs:d=y0,"data-bs-theme":m,"aria-labelledby":h,"aria-describedby":p,"aria-label":g,show:x=!1,animation:w=!0,backdrop:S=!0,keyboard:b=!0,onEscapeKeyDown:N,onShow:k,onHide:C,container:E,autoFocus:P=!0,enforceFocus:_=!0,restoreFocus:L=!0,restoreFocusOptions:A,onEntered:$,onExit:I,onExiting:X,onEnter:re,onEntering:H,onExited:ie,backdropClassName:se,manager:ee,...te},ce)=>{const[ge,V]=y.useState({}),[Z,U]=y.useState(!1),R=y.useRef(!1),B=y.useRef(!1),oe=y.useRef(null),[K,he]=gw(),ne=xi(ce,he),we=xa(C),Ce=Tl();n=Ae(n,"modal");const Oe=y.useMemo(()=>({onHide:we}),[we]);function ye(){return ee||Lw({isRTL:Ce})}function be(Ne){if(!yi)return;const Je=ye().getScrollbarWidth()>0,nt=Ne.scrollHeight>gi(Ne).documentElement.clientHeight;V({paddingRight:Je&&!nt?Hf():void 0,paddingLeft:!Je&&nt?Hf():void 0})}const Ze=xa(()=>{K&&be(K.dialog)});T1(()=>{xd(window,"resize",Ze),oe.current==null||oe.current()});const Ue=()=>{R.current=!0},dt=Ne=>{R.current&&K&&Ne.target===K.dialog&&(B.current=!0),R.current=!1},Be=()=>{U(!0),oe.current=a1(K.dialog,()=>{U(!1)})},At=Ne=>{Ne.target===Ne.currentTarget&&Be()},gt=Ne=>{if(S==="static"){At(Ne);return}if(B.current||Ne.target!==Ne.currentTarget){B.current=!1;return}C?.()},nn=Ne=>{b?N?.(Ne):(Ne.preventDefault(),S==="static"&&Be())},Lt=(Ne,Je)=>{Ne&&be(Ne),re?.(Ne,Je)},vt=Ne=>{oe.current==null||oe.current(),I?.(Ne)},me=(Ne,Je)=>{H?.(Ne,Je),Kd(window,"resize",Ze)},Pe=Ne=>{Ne&&(Ne.style.display=""),ie?.(Ne),xd(window,"resize",Ze)},je=y.useCallback(Ne=>a.jsx("div",{...Ne,className:Ee(`${n}-backdrop`,se,!w&&"show")}),[w,se,n]),ze={...r,...ge};ze.display="block";const Xe=Ne=>a.jsx("div",{role:"dialog",...Ne,style:ze,className:Ee(e,n,Z&&`${n}-static`,!w&&"show"),onClick:S?gt:void 0,onMouseUp:dt,"data-bs-theme":m,"aria-label":g,"aria-labelledby":h,"aria-describedby":p,children:a.jsx(d,{...te,onMouseDown:Ue,className:s,contentClassName:l,children:c})});return a.jsx(Eg.Provider,{value:Oe,children:a.jsx(Dw,{show:x,ref:ne,backdrop:S,container:E,keyboard:!0,autoFocus:P,enforceFocus:_,restoreFocus:L,restoreFocusOptions:A,onEscapeKeyDown:nn,onShow:k,onHide:C,onEnter:Lt,onEntering:me,onEntered:$,onExit:vt,onExiting:X,onExited:Pe,manager:ye(),transition:w?Fw:void 0,backdropTransition:w?zw:void 0,renderBackdrop:je,renderDialog:Xe})})});Dg.displayName="Modal";const Re=Object.assign(Dg,{Body:Ng,Header:Mg,Title:Pg,Footer:Tg,Dialog:y0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ag=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"nav-item"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));Ag.displayName="NavItem";const Ig=y.forwardRef(({bsPrefix:n,className:e,as:r=Pl,active:s,eventKey:l,disabled:c=!1,...d},m)=>{n=Ae(n,"nav-link");const[h,p]=p0({key:Gr(l,d.href),active:s,disabled:c,...d});return a.jsx(r,{...d,...h,ref:m,disabled:c,className:Ee(e,n,c&&"disabled",p.isActive&&"active")})});Ig.displayName="NavLink";const Og=y.forwardRef((n,e)=>{const{as:r="div",bsPrefix:s,variant:l,fill:c=!1,justify:d=!1,navbar:m,navbarScroll:h,className:p,activeKey:g,...x}=Ns(n,{activeKey:"onSelect"}),w=Ae(s,"nav");let S,b,N=!1;const k=y.useContext(d0),C=y.useContext(t0);return k?(S=k.bsPrefix,N=m??!0):C&&({cardHeaderBsPrefix:b}=C),a.jsx(Sg,{as:r,ref:e,activeKey:g,className:Ee(p,{[w]:!N,[`${S}-nav`]:N,[`${S}-nav-scroll`]:N&&h,[`${b}-${l}`]:!!b,[`${w}-${l}`]:!!l,[`${w}-fill`]:c,[`${w}-justified`]:d}),...x})});Og.displayName="Nav";const ma=Object.assign(Og,{Item:Ag,Link:Ig}),Hw=()=>{};function Ww(n,e,{disabled:r,clickTrigger:s}={}){const l=e||Hw;B1(n,l,{disabled:r,clickTrigger:s});const c=Yt(d=>{r1(d)&&l(d)});y.useEffect(()=>{if(r||n==null)return;const d=gi(ol(n));let m=(d.defaultView||window).event;const h=or(d,"keyup",p=>{if(p===m){m=void 0;return}c(p)});return()=>{h()}},[n,r,c])}const Lg=y.forwardRef((n,e)=>{const{flip:r,offset:s,placement:l,containerPadding:c,popperConfig:d={},transition:m,runTransition:h}=n,[p,g]=wd(),[x,w]=wd(),S=Ds(g,e),b=Cd(n.container),N=Cd(n.target),[k,C]=y.useState(!n.show),E=W1(N,p,$1({placement:l,enableEvents:!!n.show,containerPadding:c||5,flip:r,offset:s,arrowElement:x,popperConfig:d}));n.show&&k&&C(!1);const P=(...H)=>{C(!0),n.onExited&&n.onExited(...H)},_=n.show||!k;if(Ww(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!_)return null;const{onExit:L,onExiting:A,onEnter:$,onEntering:I,onEntered:X}=n;let re=n.children(Object.assign({},E.attributes.popper,{style:E.styles.popper,ref:S}),{popper:E,placement:l,show:!!n.show,arrowProps:Object.assign({},E.attributes.arrow,{style:E.styles.arrow,ref:w})});return re=kd(m,h,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:re,onExit:L,onExiting:A,onExited:P,onEnter:$,onEntering:I,onEntered:X}),b?pa.createPortal(re,b):null});Lg.displayName="Overlay";const _g=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"popover-header"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));_g.displayName="PopoverHeader";const x0=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"popover-body"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));x0.displayName="PopoverBody";function Fg(n,e){let r=n;return n==="left"?r=e?"end":"start":n==="right"&&(r=e?"start":"end"),r}function zg(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Hg=y.forwardRef(({bsPrefix:n,placement:e="right",className:r,style:s,children:l,body:c,arrowProps:d,hasDoneInitialMeasure:m,popper:h,show:p,...g},x)=>{const w=Ae(n,"popover"),S=Tl(),[b]=e?.split("-")||[],N=Fg(b,S);let k=s;return p&&!m&&(k={...s,...zg(h?.strategy)}),a.jsxs("div",{ref:x,role:"tooltip",style:k,"x-placement":b,className:Ee(r,w,b&&`bs-popover-${N}`),...g,children:[a.jsx("div",{className:"popover-arrow",...d}),c?a.jsx(x0,{children:l}):l]})});Hg.displayName="Popover";const Bw=Object.assign(Hg,{Header:_g,Body:x0,POPPER_OFFSET:[0,8]}),Wg=y.forwardRef(({bsPrefix:n,placement:e="right",className:r,style:s,children:l,arrowProps:c,hasDoneInitialMeasure:d,popper:m,show:h,...p},g)=>{n=Ae(n,"tooltip");const x=Tl(),[w]=e?.split("-")||[],S=Fg(w,x);let b=s;return h&&!d&&(b={...s,...zg(m?.strategy)}),a.jsxs("div",{ref:g,style:b,role:"tooltip","x-placement":w,className:Ee(r,n,`bs-tooltip-${S}`),...p,children:[a.jsx("div",{className:"tooltip-arrow",...c}),a.jsx("div",{className:`${n}-inner`,children:l})]})});Wg.displayName="Tooltip";const gl=Object.assign(Wg,{TOOLTIP_OFFSET:[0,6]});function $w(n){const e=y.useRef(null),r=Ae(void 0,"popover"),s=Ae(void 0,"tooltip"),l=y.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Nd(e.current,r))return Bw.POPPER_OFFSET;if(Nd(e.current,s))return gl.TOOLTIP_OFFSET}return[0,0]}}}),[n,r,s]);return[e,[l]]}function Vw(n,e){const{ref:r}=n,{ref:s}=e;n.ref=r.__wrapped||(r.__wrapped=l=>r(ml(l))),e.ref=s.__wrapped||(s.__wrapped=l=>s(ml(l)))}const Bg=y.forwardRef(({children:n,transition:e=cr,popperConfig:r={},rootClose:s=!1,placement:l="top",show:c=!1,...d},m)=>{const h=y.useRef({}),[p,g]=y.useState(null),[x,w]=$w(d.offset),S=xi(m,x),b=e===!0?cr:e||void 0,N=xa(k=>{g(k),r==null||r.onFirstUpdate==null||r.onFirstUpdate(k)});return ig(()=>{p&&d.target&&(h.current.scheduleUpdate==null||h.current.scheduleUpdate())},[p,d.target]),y.useEffect(()=>{c||g(null)},[c]),a.jsx(Lg,{...d,ref:S,popperConfig:{...r,modifiers:w.concat(r.modifiers||[]),onFirstUpdate:N},transition:b,rootClose:s,placement:l,show:c,children:(k,{arrowProps:C,popper:E,show:P})=>{var _;Vw(k,C);const L=E?.placement,A=Object.assign(h.current,{state:E?.state,scheduleUpdate:E?.update,placement:L,outOfBoundaries:(E==null||(_=E.state)==null||(_=_.modifiersData.hide)==null?void 0:_.isReferenceHidden)||!1,strategy:r.strategy}),$=!!p;return typeof n=="function"?n({...k,placement:L,show:P,...!e&&P&&{className:"show"},popper:A,arrowProps:C,hasDoneInitialMeasure:$}):y.cloneElement(n,{...k,placement:L,arrowProps:C,popper:A,hasDoneInitialMeasure:$,className:Ee(n.props.className,!e&&P&&"show"),style:{...n.props.style,...k.style}})}})});Bg.displayName="Overlay";function Uw(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function $f(n,e,r){const[s]=e,l=s.currentTarget,c=s.relatedTarget||s.nativeEvent[r];(!c||c!==l)&&!ks(l,c)&&n(...e)}Ut.oneOf(["click","hover","focus"]);const Ed=({trigger:n=["hover","focus"],overlay:e,children:r,popperConfig:s={},show:l,defaultShow:c=!1,onToggle:d,delay:m,placement:h,flip:p=h&&h.indexOf("auto")!==-1,...g})=>{const x=y.useRef(null),w=xi(x,vi(r)),S=bx(),b=y.useRef(""),[N,k]=Jp(l,c,d),C=Uw(m),{onFocus:E,onBlur:P,onClick:_}=typeof r!="function"?y.Children.only(r).props:{},L=te=>{w(ml(te))},A=y.useCallback(()=>{if(S.clear(),b.current="show",!C.show){k(!0);return}S.set(()=>{b.current==="show"&&k(!0)},C.show)},[C.show,k,S]),$=y.useCallback(()=>{if(S.clear(),b.current="hide",!C.hide){k(!1);return}S.set(()=>{b.current==="hide"&&k(!1)},C.hide)},[C.hide,k,S]),I=y.useCallback((...te)=>{A(),E?.(...te)},[A,E]),X=y.useCallback((...te)=>{$(),P?.(...te)},[$,P]),re=y.useCallback((...te)=>{k(!N),_?.(...te)},[_,k,N]),H=y.useCallback((...te)=>{$f(A,te,"fromElement")},[A]),ie=y.useCallback((...te)=>{$f($,te,"toElement")},[$]),se=n==null?[]:[].concat(n),ee={ref:L};return se.indexOf("click")!==-1&&(ee.onClick=re),se.indexOf("focus")!==-1&&(ee.onFocus=I,ee.onBlur=X),se.indexOf("hover")!==-1&&(ee.onMouseOver=H,ee.onMouseOut=ie),a.jsxs(a.Fragment,{children:[typeof r=="function"?r(ee):y.cloneElement(r,ee),a.jsx(Bg,{...g,show:N,onHide:$,flip:p,placement:h,popperConfig:s,target:x.current,children:e})]})},Vf=1e3;function Gw(n,e,r){const s=(n-e)/(r-e)*100;return Math.round(s*Vf)/Vf}function Uf({min:n,now:e,max:r,label:s,visuallyHidden:l,striped:c,animated:d,className:m,style:h,variant:p,bsPrefix:g,...x},w){return a.jsx("div",{ref:w,...x,role:"progressbar",className:Ee(m,`${g}-bar`,{[`bg-${p}`]:p,[`${g}-bar-animated`]:d,[`${g}-bar-striped`]:d||c}),style:{width:`${Gw(e,n,r)}%`,...h},"aria-valuenow":e,"aria-valuemin":n,"aria-valuemax":r,children:l?a.jsx("span",{className:"visually-hidden",children:s}):s})}const fa=y.forwardRef(({isChild:n=!1,...e},r)=>{const s={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(s.bsPrefix=Ae(s.bsPrefix,"progress"),n)return Uf(s,r);const{min:l,now:c,max:d,label:m,visuallyHidden:h,striped:p,animated:g,bsPrefix:x,variant:w,className:S,children:b,...N}=s;return a.jsx("div",{ref:r,...N,className:Ee(S,x),children:b?Cx(b,k=>y.cloneElement(k,{isChild:!0})):Uf({min:l,now:c,max:d,label:m,visuallyHidden:h,striped:p,animated:g,bsPrefix:x,variant:w},r)})});fa.displayName="ProgressBar";const mi=y.forwardRef(({bsPrefix:n,className:e,as:r="div",...s},l)=>{const c=Ae(n,"row"),d=e1(),m=t1(),h=`${c}-cols`,p=[];return d.forEach(g=>{const x=s[g];delete s[g];let w;x!=null&&typeof x=="object"?{cols:w}=x:w=x;const S=g!==m?`-${g}`:"";w!=null&&p.push(`${h}${S}-${w}`)}),a.jsx(r,{ref:l,...s,className:Ee(e,c,...p)})});mi.displayName="Row";const Yw=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Kw=["activeKey","getControlledId","getControllerId"],qw=["as"];function Td(n,e){if(n==null)return{};var r={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}function $g(n){let{active:e,eventKey:r,mountOnEnter:s,transition:l,unmountOnExit:c,role:d="tabpanel",onEnter:m,onEntering:h,onEntered:p,onExit:g,onExiting:x,onExited:w}=n,S=Td(n,Yw);const b=y.useContext(ji);if(!b)return[Object.assign({},S,{role:d}),{eventKey:r,isActive:e,mountOnEnter:s,transition:l,unmountOnExit:c,onEnter:m,onEntering:h,onEntered:p,onExit:g,onExiting:x,onExited:w}];const{activeKey:N,getControlledId:k,getControllerId:C}=b,E=Td(b,Kw),P=Gr(r);return[Object.assign({},S,{role:d,id:k(r),"aria-labelledby":C(r)}),{eventKey:r,isActive:e==null&&P!=null?Gr(N)===P:e,transition:l||E.transition,mountOnEnter:s??E.mountOnEnter,unmountOnExit:c??E.unmountOnExit,onEnter:m,onEntering:h,onEntered:p,onExit:g,onExiting:x,onExited:w}]}const Vg=y.forwardRef((n,e)=>{let{as:r="div"}=n,s=Td(n,qw);const[l,{isActive:c,onEnter:d,onEntering:m,onEntered:h,onExit:p,onExiting:g,onExited:x,mountOnEnter:w,unmountOnExit:S,transition:b=v0}]=$g(s);return a.jsx(ji.Provider,{value:null,children:a.jsx(dr.Provider,{value:null,children:a.jsx(b,{in:c,onEnter:d,onEntering:m,onEntered:h,onExit:p,onExiting:g,onExited:x,mountOnEnter:w,unmountOnExit:S,children:a.jsx(r,Object.assign({},l,{ref:e,hidden:!c,"aria-hidden":!c}))})})})});Vg.displayName="TabPanel";const Ug=n=>{const{id:e,generateChildId:r,onSelect:s,activeKey:l,defaultActiveKey:c,transition:d,mountOnEnter:m,unmountOnExit:h,children:p}=n,[g,x]=M1(l,c,s),w=K1(e),S=y.useMemo(()=>r||((N,k)=>w?`${w}-${k}-${N}`:null),[w,r]),b=y.useMemo(()=>({onSelect:x,activeKey:g,transition:d,mountOnEnter:m||!1,unmountOnExit:h||!1,getControlledId:N=>S(N,"tabpane"),getControllerId:N=>S(N,"tab")}),[x,g,d,m,h,S]);return a.jsx(ji.Provider,{value:b,children:a.jsx(dr.Provider,{value:x||null,children:p})})};Ug.Panel=Vg;function Gg(n){return typeof n=="boolean"?n?cr:v0:n}const Yg=({transition:n,...e})=>a.jsx(Ug,{...e,transition:Gg(n)});Yg.displayName="TabContainer";const Kg=y.forwardRef(({className:n,bsPrefix:e,as:r="div",...s},l)=>(e=Ae(e,"tab-content"),a.jsx(r,{ref:l,className:Ee(n,e),...s})));Kg.displayName="TabContent";const qg=y.forwardRef(({bsPrefix:n,transition:e,...r},s)=>{const[{className:l,as:c="div",...d},{isActive:m,onEnter:h,onEntering:p,onEntered:g,onExit:x,onExiting:w,onExited:S,mountOnEnter:b,unmountOnExit:N,transition:k=cr}]=$g({...r,transition:Gg(e)}),C=Ae(n,"tab-pane");return a.jsx(ji.Provider,{value:null,children:a.jsx(dr.Provider,{value:null,children:a.jsx(k,{in:m,onEnter:h,onEntering:p,onEntered:g,onExit:x,onExiting:w,onExited:S,mountOnEnter:b,unmountOnExit:N,children:a.jsx(c,{...d,ref:s,className:Ee(l,C,m&&"active")})})})})});qg.displayName="TabPane";const Xw={eventKey:Ut.oneOfType([Ut.string,Ut.number]),title:Ut.node.isRequired,disabled:Ut.bool,tabClassName:Ut.string,tabAttrs:Ut.object},Xg=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Xg.propTypes=Xw;const cs=Object.assign(Xg,{Container:Yg,Content:Kg,Pane:qg}),Mt=y.forwardRef(({bsPrefix:n,className:e,striped:r,bordered:s,borderless:l,hover:c,size:d,variant:m,responsive:h,...p},g)=>{const x=Ae(n,"table"),w=Ee(e,x,m&&`${x}-${m}`,d&&`${x}-${d}`,r&&`${x}-${typeof r=="string"?`striped-${r}`:"striped"}`,s&&`${x}-bordered`,l&&`${x}-borderless`,c&&`${x}-hover`),S=a.jsx("table",{...p,className:w,ref:g});if(h){let b=`${x}-responsive`;return typeof h=="string"&&(b=`${b}-${h}`),a.jsx("div",{className:b,children:S})}return S});Mt.displayName="Table";const Qw=()=>{},Rd=y.forwardRef(({bsPrefix:n,name:e,className:r,checked:s,type:l,onChange:c,value:d,disabled:m,id:h,inputRef:p,...g},x)=>(n=Ae(n,"btn-check"),a.jsxs(a.Fragment,{children:[a.jsx("input",{className:n,name:e,type:l,value:d,ref:p,autoComplete:"off",checked:!!s,disabled:!!m,onChange:c||Qw,id:h}),a.jsx(Se,{...g,ref:x,className:Ee(r,m&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:h})]})));Rd.displayName="ToggleButton";var Qg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gf=ut.createContext&&ut.createContext(Qg),Zw=["attr","size","title"];function Jw(n,e){if(n==null)return{};var r=e4(n,e),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(l=0;l<c.length;l++)s=c[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(r[s]=n[s])}return r}function e4(n,e){if(n==null)return{};var r={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;r[s]=n[s]}return r}function vl(){return vl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},vl.apply(this,arguments)}function Yf(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,s)}return r}function yl(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yf(Object(r),!0).forEach(function(s){t4(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function t4(n,e,r){return e=n4(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function n4(n){var e=r4(n,"string");return typeof e=="symbol"?e:e+""}function r4(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zg(n){return n&&n.map((e,r)=>ut.createElement(e.tag,yl({key:r},e.attr),Zg(e.child)))}function We(n){return e=>ut.createElement(a4,vl({attr:yl({},n.attr)},e),Zg(n.child))}function a4(n){var e=r=>{var{attr:s,size:l,title:c}=n,d=Jw(n,Zw),m=l||r.size||"1em",h;return r.className&&(h=r.className),n.className&&(h=(h?h+" ":"")+n.className),ut.createElement("svg",vl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,d,{className:h,style:yl(yl({color:n.color||r.color},r.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&ut.createElement("title",null,c),n.children)};return Gf!==void 0?ut.createElement(Gf.Consumer,null,r=>e(r)):e(Qg)}function i4(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.001 10h2v5h-2zM11 16h2v2h-2z"},child:[]},{tag:"path",attr:{d:"M13.768 4.2C13.42 3.545 12.742 3.138 12 3.138s-1.42.407-1.768 1.063L2.894 18.064a1.986 1.986 0 0 0 .054 1.968A1.984 1.984 0 0 0 4.661 21h14.678c.708 0 1.349-.362 1.714-.968a1.989 1.989 0 0 0 .054-1.968L13.768 4.2zM4.661 19 12 5.137 19.344 19H4.661z"},child:[]}]})(n)}const Md=(n,e)=>e.some(r=>n instanceof r);let Kf,qf;function s4(){return Kf||(Kf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o4(){return qf||(qf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pd=new WeakMap,Yu=new WeakMap,Fl=new WeakMap;function l4(n){const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{r(ya(n.result)),l()},d=()=>{s(n.error),l()};n.addEventListener("success",c),n.addEventListener("error",d)});return Fl.set(e,n),e}function c4(n){if(Pd.has(n))return;const e=new Promise((r,s)=>{const l=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{r(),l()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Pd.set(n,e)}let Dd={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return Pd.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ya(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Jg(n){Dd=n(Dd)}function u4(n){return o4().includes(n)?function(...e){return n.apply(Ad(this),e),ya(this.request)}:function(...e){return ya(n.apply(Ad(this),e))}}function d4(n){return typeof n=="function"?u4(n):(n instanceof IDBTransaction&&c4(n),Md(n,s4())?new Proxy(n,Dd):n)}function ya(n){if(n instanceof IDBRequest)return l4(n);if(Yu.has(n))return Yu.get(n);const e=d4(n);return e!==n&&(Yu.set(n,e),Fl.set(e,n)),e}const Ad=n=>Fl.get(n);function m4(n,e,{blocked:r,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(n,e),m=ya(d);return s&&d.addEventListener("upgradeneeded",h=>{s(ya(d.result),h.oldVersion,h.newVersion,ya(d.transaction),h)}),r&&d.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),m.then(h=>{c&&h.addEventListener("close",()=>c()),l&&h.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const h4=["get","getKey","getAll","getAllKeys","count"],f4=["put","add","delete","clear"],Ku=new Map;function Xf(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ku.get(e))return Ku.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=f4.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||h4.includes(r)))return;const c=async function(d,...m){const h=this.transaction(d,l?"readwrite":"readonly");let p=h.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[r](...m),l&&h.done]))[0]};return Ku.set(e,c),c}Jg(n=>({...n,get:(e,r,s)=>Xf(e,r)||n.get(e,r,s),has:(e,r)=>!!Xf(e,r)||n.has(e,r)}));const p4=["continue","continuePrimaryKey","advance"],Qf={},Id=new WeakMap,ev=new WeakMap,g4={get(n,e){if(!p4.includes(e))return n[e];let r=Qf[e];return r||(r=Qf[e]=function(...s){Id.set(this,ev.get(this)[e](...s))}),r}};async function*v4(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const r=new Proxy(e,g4);for(ev.set(r,e),Fl.set(r,Ad(e));e;)yield r,e=await(Id.get(r)||e.continue()),Id.delete(r)}function Zf(n,e){return e===Symbol.asyncIterator&&Md(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Md(n,[IDBIndex,IDBObjectStore])}Jg(n=>({...n,get(e,r,s){return Zf(e,r)?v4:n.get(e,r,s)},has(e,r){return Zf(e,r)||n.has(e,r)}}));let Jo;const y4=new Uint8Array(16);function x4(){if(!Jo&&(Jo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jo(y4)}const $t=[];for(let n=0;n<256;++n)$t.push((n+256).toString(16).slice(1));function w4(n,e=0){return $t[n[e+0]]+$t[n[e+1]]+$t[n[e+2]]+$t[n[e+3]]+"-"+$t[n[e+4]]+$t[n[e+5]]+"-"+$t[n[e+6]]+$t[n[e+7]]+"-"+$t[n[e+8]]+$t[n[e+9]]+"-"+$t[n[e+10]]+$t[n[e+11]]+$t[n[e+12]]+$t[n[e+13]]+$t[n[e+14]]+$t[n[e+15]]}const j4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jf={randomUUID:j4};function tn(n,e,r){if(Jf.randomUUID&&!n)return Jf.randomUUID();n=n||{};const s=n.random||(n.rng||x4)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,w4(s)}const S4="weathermaster",b4=2,xl="data",jn={WORLDS:"worlds",CONTINENTS:"continents",ACTIVE_WORLD_ID:"active-world-id",ACTIVE_REGION_ID:"active-region-id",ACTIVE_CONTINENT_ID:"active-continent-id",PREFERENCES:"preferences",SETUP_COMPLETE:"setup-complete"};let qu=null;const tv=()=>(qu||(qu=m4(S4,b4,{upgrade(n,e,r,s){n.objectStoreNames.contains(xl)||n.createObjectStore(xl)}})),qu),Sa=async(n,e)=>{try{return await(await tv()).put(xl,e,n),!0}catch(r){return console.error("Error saving to IndexedDB:",r),!1}},Si=async(n,e=null)=>{try{const s=await(await tv()).get(xl,n);return s!==void 0?s:e}catch(r){return console.error("Error loading from IndexedDB:",r),e}},w0=async n=>Sa(jn.WORLDS,n),wl=async()=>Si(jn.WORLDS,[]),nv=async n=>Sa(jn.ACTIVE_WORLD_ID,n),C4=async()=>Si(jn.ACTIVE_WORLD_ID,null),rv=async n=>Sa(jn.ACTIVE_REGION_ID,n),k4=async()=>Si(jn.ACTIVE_REGION_ID,null),av=async n=>Sa(jn.CONTINENTS,n),iv=async()=>Si(jn.CONTINENTS,[]),N4=async n=>Sa(jn.ACTIVE_CONTINENT_ID,n),E4=async()=>Si(jn.ACTIVE_CONTINENT_ID,null),sv=async n=>Sa(jn.PREFERENCES,n),T4=async()=>Si(jn.PREFERENCES,{temperatureUnit:"F",windSpeedUnit:"mph",timeFormat:12,showFeelsLike:!0,debugMode:!1}),R4=async()=>{try{const n=await wl(),e=await iv();if(e.length>0)return{migrated:!1,worlds:n,continents:e};if(n.filter(c=>c.mapImage).length===0)return{migrated:!1,worlds:n,continents:[]};console.log("Migrating world maps to continents...");const s=[],l=n.map(c=>{if(!c.mapImage)return c;const d={id:tn(),worldId:c.id,name:"Main Continent",mapImage:c.mapImage,mapScale:c.mapScale,isCollapsed:!1};s.push(d);const m=c.regions.map(x=>x.mapPosition?{...x,continentId:d.id}:x),{mapImage:h,mapScale:p,...g}=c;return{...g,regions:m}});return await w0(l),await av(s),console.log(`Migration complete: created ${s.length} continent(s)`),{migrated:!0,worlds:l,continents:s}}catch(n){return console.error("Error migrating world maps to continents:",n),{migrated:!1,worlds:await wl(),continents:[]}}},M4=async()=>{const n="wm2-",e={WORLDS:`${n}worlds`,ACTIVE_WORLD_ID:`${n}active-world-id`,ACTIVE_REGION_ID:`${n}active-region-id`,PREFERENCES:`${n}preferences`,SETUP_COMPLETE:`${n}setup-complete`};try{const r=localStorage.getItem(e.WORLDS);if(!r||(await wl()).length>0)return!1;console.log("Migrating data from localStorage to IndexedDB...");const l=JSON.parse(r);l&&await w0(l);const c=localStorage.getItem(e.ACTIVE_WORLD_ID);c&&await nv(JSON.parse(c));const d=localStorage.getItem(e.ACTIVE_REGION_ID);d&&await rv(JSON.parse(d));const m=localStorage.getItem(e.PREFERENCES);m&&await sv(JSON.parse(m));const h=localStorage.getItem(e.SETUP_COMPLETE);return h&&await Sa(jn.SETUP_COMPLETE,JSON.parse(h)),Object.values(e).forEach(p=>localStorage.removeItem(p)),console.log("Migration complete! localStorage data cleared."),!0}catch(r){return console.error("Error migrating from localStorage:",r),!1}},ov=y.createContext(),Xu={temperatureUnit:"F",windSpeedUnit:"mph",timeFormat:12,showFeelsLike:!0,debugMode:!1,conditionPhrasing:"standard",showSnowAccumulation:!0},j0=()=>{const n=y.useContext(ov);if(!n)throw new Error("usePreferences must be used within PreferencesProvider");return n},ep=({children:n})=>{const[e,r]=y.useState(Xu),[s,l]=y.useState(!0),c=y.useRef(!1);y.useEffect(()=>{(async()=>{try{const w=await T4();r({...Xu,...w}),c.current=!0}catch(w){console.error("Error loading preferences:",w),c.current=!0}finally{l(!1)}})()},[]),y.useEffect(()=>{c.current&&sv(e)},[e]);const d=(x,w)=>{r(S=>({...S,[x]:w}))},m=()=>{r(Xu)},h=x=>{d("conditionPhrasing",x)},p=x=>{d("showSnowAccumulation",x)},g={temperatureUnit:e.temperatureUnit,windSpeedUnit:e.windSpeedUnit,timeFormat:e.timeFormat,showFeelsLike:e.showFeelsLike,debugMode:e.debugMode,conditionPhrasing:e.conditionPhrasing||"standard",showSnowAccumulation:e.showSnowAccumulation!==!1,updatePreference:d,resetPreferences:m,setConditionPhrasing:h,setShowSnowAccumulation:p};return a.jsx(ov.Provider,{value:g,children:n})},S0=["January","February","March","April","May","June","July","August","September","October","November","December"],lv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cv={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},jl=(n,e=!1)=>(e?lv:S0)[n-1]||"Unknown",hi=n=>cv[n]||31,Sl=(n,e)=>{let r=0;for(let s=1;s<n;s++)r+=hi(s);return r+=e,r},xn=(n,e)=>{let{year:r,month:s,day:l,hour:c}={...n};for(c+=e;c>=24;)c-=24,l+=1,l>hi(s)&&(l=1,s+=1,s>12&&(s=1,r+=1));for(;c<0;)c+=24,l-=1,l<1&&(s-=1,s<1&&(s=12,r-=1),l=hi(s));return{year:r,month:s,day:l,hour:c}},si=(n,e)=>n.year!==e.year?n.year<e.year?-1:1:n.month!==e.month?n.month<e.month?-1:1:n.day!==e.day?n.day<e.day?-1:1:n.hour!==e.hour?n.hour<e.hour?-1:1:0,zl=Object.freeze(Object.defineProperty({__proto__:null,DAYS_PER_MONTH:cv,MONTH_NAMES:S0,MONTH_NAMES_SHORT:lv,advanceDate:xn,compareDates:si,getDayOfYear:Sl,getDaysInMonth:hi,getMonthName:jl},Symbol.toStringTag,{value:"Module"}));function uv(n){let e=0;for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);e=(e<<5)-e+s,e=e&e}return Math.abs(e)}function Vt(n,e,r=""){const s=`${e.year}-${e.month}-${e.day}`,l=`${n}:${s}:${r}`;return uv(l)}function tp(n,e,r=4,s=""){const l=(e.year-1)*360+(e.month-1)*30+(e.day-1),c=Math.floor(l/r),d=`${n}:pattern${c}:${s}`;return uv(d)}class Pt{constructor(e){this.seed=e>>>0}next(){let e=this.seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}range(e,r){return e+this.next()*(r-e)}int(e,r){return Math.floor(this.range(e,r+1))}choice(e){return e[this.int(0,e.length-1)]}}const el=1e4,P4=9500,D4=1500,A4=24.8,I4=365.2422,Br=24,O4=11e3,L4=12e3,_4=13e3,np={polar:750,subarctic:2e3,boreal:3e3,temperate:4e3,subtropical:5e3,tropical:6100},b0={polar:[0,1500],subarctic:[1500,2500],boreal:[2500,3500],temperate:[3500,4500],subtropical:[4500,5500],tropical:[5500,6700]},$r=0,F4=360/24,z4=360/A4,ga=180,Ja=0,ei={DAYLIGHT:"daylight",CIVIL_TWILIGHT:"civil",NAUTICAL_TWILIGHT:"nautical",ASTRONOMICAL_TWILIGHT:"astronomical",NIGHT:"night"},Qu=[{name:"New Moon",icon:"",minAngle:0,maxAngle:22.5,illumination:0},{name:"Waxing Crescent",icon:"",minAngle:22.5,maxAngle:67.5,illumination:25},{name:"First Quarter",icon:"",minAngle:67.5,maxAngle:112.5,illumination:50},{name:"Waxing Gibbous",icon:"",minAngle:112.5,maxAngle:157.5,illumination:75},{name:"Full Moon",icon:"",minAngle:157.5,maxAngle:202.5,illumination:100},{name:"Waning Gibbous",icon:"",minAngle:202.5,maxAngle:247.5,illumination:75},{name:"Last Quarter",icon:"",minAngle:247.5,maxAngle:292.5,illumination:50},{name:"Waning Crescent",icon:"",minAngle:292.5,maxAngle:360,illumination:25}],dv=Math.PI,mv=dv/180,Fn={DAILY_STREAK_CHANCE:.04,LOCAL_FALL_RATIO:.14,SIZE_THRESHOLDS:{small:.7,medium:.9,large:.98},FALL_DISTANCE_MIN:.06,FALL_DISTANCE_MAX:100,CLOUD_COVER_VISIBILITY_THRESHOLD:70,GATE_SCAN_DAYS:60},H4=["Dense forest","Open plains","Rocky hills","Marsh/wetlands","River valley","Farmland","Mountain foothills","Coastal area","Desert scrubland","Frozen tundra"],hv={small:{name:"Small Fragment",valueDesc:"A modest sum",typicalWeight:"1-10 lbs",interestLevel:"Local curiosity"},medium:{name:"Significant Deposit",valueDesc:"A small fortune",typicalWeight:"10-100 lbs",interestLevel:"Regional interest"},large:{name:"Major Impact",valueDesc:"Wealth enough to change lives",typicalWeight:"100-500 lbs",interestLevel:"Multiple factions alerted"},massive:{name:"Legendary Fall",valueDesc:"Kingdom-altering wealth",typicalWeight:"500+ lbs",interestLevel:"International dispute"}},W4=["A rival party of adventurers is also searching","Local lord claims all Wanderer falls as crown property","The impact site is in dangerous monster territory","A scholarly mage offers to buy the location information","Rumors suggest the material is cursed","A religious sect believes it to be a divine sign","The fall created a small crater, now flooding","Strange magical effects reported near the impact site","A merchant caravan witnessed the fall and races to claim it","Local druids consider the site sacred ground"],B4=["N","NE","E","SE","S","SW","W","NW"],rp={DISTANCE_BANDS:{close:1,near:10},SOUND:{small:{close:"A sharp crack splits the air, startlingly loud.",near:"A distant boom echoes across the landscape.",far:"A faint rumble, like distant thunder."},medium:{close:"A thunderous crack hammers your ears, the shockwave palpable.",near:"A deep boom rolls across the land, rattling loose objects.",far:"A low rumble reaches you, unmistakably not thunder."},large:{close:"A deafening BOOM slams into you like a physical wall. Your ears ring.",near:"A massive thunderclap shakes the ground. Windows rattle for miles.",far:"A powerful boom echoes from the horizon, audible for leagues."},massive:{close:"Reality splits with a sound beyond thunder. The pressure wave staggers you.",near:"An apocalyptic boom shakes the earth. The sound alone is terrifying.",far:"A tremendous roar rolls across the land, unmistakable and ominous."}},VISUAL:{small:{close:"A bright streak ends in a flash. A plume of dust rises.",near:"A brief flash on the horizon, followed by a small dust cloud.",far:"A faint flash in the distance, easily missed."},medium:{close:"A brilliant flash illuminates the area. Debris and dust billow upward.",near:"A bright flash lights the sky, followed by a rising column of dust.",far:"A flash on the horizon, followed by a visible dust plume."},large:{close:"Blinding light sears your vision. Earth and debris rain down around you.",near:"The sky flashes white. A massive dust cloud mushrooms upward.",far:"A brilliant flash on the horizon. A dark column rises against the sky."},massive:{close:"Impossible brightnessyou look away too late. Debris rains for long seconds.",near:"The flash turns night to day. A towering plume rises, visible for miles.",far:"Even at this distance, the flash is stunning. The dust cloud dominates the horizon."}},PHYSICAL:{small:{close:"The ground trembles briefly. Nearby animals startle.",near:"A faint vibration through the ground.",far:null},medium:{close:"The ground lurches. Loose items topple. Animals panic.",near:"The ground shudders. Birds erupt from trees.",far:"A slight vibration, barely perceptible."},large:{close:"The shockwave staggers you. The ground heaves. Structures creak.",near:"A strong tremor shakes the area. Unsecured objects fall.",far:"The ground trembles noticeably. Animals grow restless."},massive:{close:"You are thrown from your feet. The earth convulses. Destruction radiates outward.",near:"A violent tremor. Structures groan. Cracks appear in stone.",far:"A significant earthquake felt clearly. Animals flee in panic."}},MECHANICS:{small:{close:null,near:null,far:null},medium:{close:"Animals within earshot are spooked; mounts may require calming (DC 10 Animal Handling).",near:null,far:null},large:{close:"DC 13 DEX save or knocked prone. DC 13 CON save or deafened for 1 minute. Mounts bolt unless controlled (DC 15).",near:"Creatures may be startled. Mounts require calming (DC 12 Animal Handling).",far:null},massive:{close:"DC 15 DEX save or knocked prone and take 2d6 bludgeoning from debris. Deafened 1d4 minutes (no save). Structures within 500ft take damage. Fires likely.",near:"DC 12 DEX save or knocked prone from tremor. Mounts bolt (DC 15 to control). Loose structures may collapse.",far:"Creatures feel the earthquake. Animals are unsettled for hours."}}};class $4{constructor(){this.eventCache=new Map}getWandererEvent(e,r,s=null){const l=`${e.id}:${r.year}:${r.month}:${r.day}`;if(this.eventCache.has(l))return this.eventCache.get(l);const c=this.calculateWandererEvent(e,r,s);return this.eventCache.set(l,c),c}findNextLocalFall(e,r,s=Fn.GATE_SCAN_DAYS){let l={...r,hour:0};for(let c=0;c<s;c++){c>0&&(l=xn(l,24));const d=this.getWandererEvent(e,l);if(d.eventType==="local_fall")return{year:l.year,month:l.month,day:l.day,hour:d.hourOfEvent}}return null}findPrevLocalFall(e,r,s=Fn.GATE_SCAN_DAYS){let l={...r,hour:0};for(let c=0;c<s;c++){c>0&&(l=xn(l,-24));const d=this.getWandererEvent(e,l);if(d.eventType==="local_fall")return{year:l.year,month:l.month,day:l.day,hour:d.hourOfEvent}}return null}crossesGate(e,r,s){if(!s)return!1;const l=si(e,s),c=si(r,s);return si(e,r)<0?l<0&&c>=0:si(e,r)>0?l>0&&c<=0:!1}calculateWandererEvent(e,r,s){const l=Vt(e.id,r,"wanderer"),c=new Pt(l);if(c.next()>Fn.DAILY_STREAK_CHANCE)return this.createNoEventResult();const m=this.determineEventHour(c),h=this.getTimeDescription(m),g=c.next()<Fn.LOCAL_FALL_RATIO,x=this.checkVisibility(m,s);return g?this.createLocalFallEvent(c,m,h,x):this.createStreakEvent(m,h,x)}determineEventHour(e){const r=[21,22,23,0,1,2,3,4];return e.next()<.7?e.choice(r):e.int(0,23)}getTimeDescription(e){return e>=5&&e<7?"Dawn":e>=7&&e<12?"Morning":e>=12&&e<14?"Midday":e>=14&&e<17?"Afternoon":e>=17&&e<20?"Evening":e>=20&&e<23?"Late evening":"Pre-dawn hours"}checkVisibility(e,r){const s={wasObservable:!0,visibilityBlocker:null};return e>=7&&e<=19?(s.wasObservable=!1,s.visibilityBlocker="Daylight obscured the event",s):r&&r.cloudCover>Fn.CLOUD_COVER_VISIBILITY_THRESHOLD?(s.wasObservable=!1,s.visibilityBlocker="Heavy cloud cover blocked the view",s):(r&&r.precipitationType&&r.precipitationType!=="none"&&(s.wasObservable=!1,s.visibilityBlocker=`${r.precipitationType} obscured the sky`),s)}createNoEventResult(){return{occurred:!1,eventType:null,hourOfEvent:null,timeDescription:null,wasObservable:!1,visibilityBlocker:null,crash:null,displaySummary:null,dmNotes:null}}createStreakEvent(e,r,s){const l=s.wasObservable?"Observers could see it streak across the sky":`Event occurred but ${s.visibilityBlocker.toLowerCase()}`;return{occurred:!0,eventType:"streak",hourOfEvent:e,timeDescription:r,wasObservable:s.wasObservable,visibilityBlocker:s.visibilityBlocker,crash:null,displaySummary:s.wasObservable?`A Wanderer streaked across the sky (${r.toLowerCase()})`:`A Wanderer passed overhead unseen (${s.visibilityBlocker.toLowerCase()})`,dmNotes:`During the ${r.toLowerCase()}, a Wanderer streaked across the heavens. ${l}.`}}createLocalFallEvent(e,r,s,l){const c=Fn.FALL_DISTANCE_MIN+e.next()*(Fn.FALL_DISTANCE_MAX-Fn.FALL_DISTANCE_MIN),d=c<1?Math.round(c*100)/100:Math.round(c),m=e.choice(B4),h=e.next();let p;h<Fn.SIZE_THRESHOLDS.small?p="small":h<Fn.SIZE_THRESHOLDS.medium?p="medium":h<Fn.SIZE_THRESHOLDS.large?p="large":p="massive";const g=hv[p],x=e.choice(H4),w=this.selectHooks(e,p),S=this.generateComplications(e,x,p),b=this.generateImpactEffects(p,d,x),N={distance:d,direction:m,size:p,impactEffects:b,details:{terrain:x,estimatedValue:g.valueDesc,typicalWeight:g.typicalWeight,interestLevel:g.interestLevel,hooks:w,complications:S}},k=d<1?`~${Math.round(d*5280)} feet`:`~${d} mile${d!==1?"s":""}`,C=d<1?`approximately ${Math.round(d*5280)} feet`:`approximately ${d} mile${d!==1?"s":""}`;return{occurred:!0,eventType:"local_fall",hourOfEvent:r,timeDescription:s,wasObservable:l.wasObservable,visibilityBlocker:l.visibilityBlocker,crash:N,displaySummary:`A Wanderer fell ${k} ${m}!`,dmNotes:`During the ${s.toLowerCase()}, a Wanderer impacted ${C} to the ${m}. Size assessment: ${g.name} (${g.typicalWeight}). The impact site appears to be in ${x.toLowerCase()}. ${g.interestLevel}.`}}selectHooks(e,r){const s=r==="massive"?3:r==="large"?2:1,l=[],c=[...W4];for(let d=0;d<s&&c.length>0;d++){const m=e.int(0,c.length-1);l.push(c.splice(m,1)[0])}return l}generateComplications(e,r,s){const l=[];return r.includes("forest")&&l.push("Dense vegetation makes the exact location hard to pinpoint"),(r.includes("Marsh")||r.includes("wetlands"))&&l.push("The boggy ground may have swallowed part of the material"),(r.includes("Mountain")||r.includes("hills"))&&l.push("Treacherous terrain makes approach dangerous"),r.includes("tundra")&&l.push("Extreme cold complicates the expedition"),(s==="massive"||s==="large")&&(l.push("The impact created a small crater that may be flooding"),e.next()<.3&&l.push("Reports of strange magical emanations from the site")),l}getDistanceBand(e){const{DISTANCE_BANDS:r}=rp;return e<r.close?"close":e<r.near?"near":"far"}generateImpactEffects(e,r,s){const l=this.getDistanceBand(r),{SOUND:c,VISUAL:d,PHYSICAL:m,MECHANICS:h}=rp,p=c[e][l],g=d[e][l],x=m[e][l],w=h[e][l],S=[];g&&S.push(g),p&&S.push(p),x&&S.push(x);const b=S.join(" ");let N="minor";return e==="massive"||e==="large"&&l==="close"?N="catastrophic":e==="large"||e==="medium"&&l==="close"?N="major":(e==="medium"||l==="close")&&(N="notable"),{band:l,severity:N,narrative:b,sound:p,visual:g,physical:x,mechanics:w,summary:this.getEffectSummary(e,l)}}getEffectSummary(e,r){return{small:{close:"Startling impact nearby",near:"Distant boom heard",far:"Faint rumble noticed"},medium:{close:"Powerful impact, ground shakes",near:"Clear boom, ground trembles",far:"Distant boom heard"},large:{close:"Devastating shockwave",near:"Major impact felt",far:"Significant event on horizon"},massive:{close:"Catastrophic impact zone",near:"Terrifying impact nearby",far:"Massive event witnessed"}}[e][r]}clearCache(){this.eventCache.clear()}getYearlyStats(e,r){const s={totalStreaks:0,totalLocalFalls:0,observableStreaks:0,sizeDistribution:{small:0,medium:0,large:0,massive:0},events:[]};for(let l=1;l<=12;l++){const c=[31,28,31,30,31,30,31,31,30,31,30,31][l-1];for(let d=1;d<=c;d++){const m={year:r,month:l,day:d,hour:12},h=this.getWandererEvent(e,m);h.occurred&&(h.eventType==="streak"?(s.totalStreaks++,h.wasObservable&&s.observableStreaks++):h.eventType==="local_fall"&&(s.totalLocalFalls++,s.sizeDistribution[h.crash.size]++,s.events.push({date:`${l}/${d}`,size:h.crash.size,distance:h.crash.distance,direction:h.crash.direction})))}}return s}}const Un=new $4,fv=y.createContext(),Kn=()=>{const n=y.useContext(fv);if(!n)throw new Error("useWorld must be used within WorldProvider");return n},V4=({children:n})=>{const[e,r]=y.useState([]),[s,l]=y.useState([]),[c,d]=y.useState(null),[m,h]=y.useState(null),[p,g]=y.useState(null),[x,w]=y.useState(!0),S=y.useRef(!1),[b,N]=y.useState({nextGate:null,prevGate:null}),[k,C]=y.useState(null),E=e.find(Y=>Y.id===c)||null,P=E?.regions.find(Y=>Y.id===m)||null,_=s.find(Y=>Y.id===p)||null,L=y.useMemo(()=>c?s.filter(Y=>Y.worldId===c):[],[s,c]),A=y.useMemo(()=>{if(!E)return{uncategorized:[],byContinent:{}};const Y={},q=[];return L.forEach(z=>{Y[z.id]=[]}),E.regions.forEach(z=>{z.continentId&&Y[z.continentId]?Y[z.continentId].push(z):q.push(z)}),{uncategorized:q,byContinent:Y}},[E,L]);y.useEffect(()=>{(async()=>{try{await M4();const q=await R4();let z,J;q.migrated?(z=q.worlds,J=q.continents):[z,J]=await Promise.all([wl(),iv()]);const[ae,ke,Le]=await Promise.all([C4(),k4(),E4()]);r(z),l(J),d(ae),h(ke),g(Le),S.current=!0}catch(q){console.error("Error initializing storage:",q),S.current=!0}finally{w(!1)}})()},[]),y.useEffect(()=>{S.current&&w0(e)},[e]),y.useEffect(()=>{S.current&&av(s)},[s]),y.useEffect(()=>{S.current&&nv(c)},[c]),y.useEffect(()=>{S.current&&rv(m)},[m]),y.useEffect(()=>{S.current&&N4(p)},[p]);const $=y.useCallback((Y,q="",z=null)=>{const J={id:tn(),name:Y,description:q,currentDate:z||{year:1,month:1,day:1,hour:12},regions:[]};return r(ae=>[...ae,J]),d(J.id),J},[]),I=y.useCallback((Y,q)=>{r(z=>z.map(J=>J.id===Y?{...J,...q}:J))},[]),X=y.useCallback(Y=>{l(q=>q.filter(z=>z.worldId!==Y)),r(q=>q.filter(z=>z.id!==Y)),c===Y&&(d(null),h(null),g(null))},[c]),re=y.useCallback(Y=>{d(Y),h(null),g(null)},[]),H=y.useCallback(Y=>{if(!c)return null;const q={id:tn(),worldId:c,name:Y,mapImage:null,mapScale:null,isCollapsed:!1};return l(z=>[...z,q]),g(q.id),q},[c]),ie=y.useCallback((Y,q)=>{l(z=>z.map(J=>J.id===Y?{...J,...q}:J))},[]),se=y.useCallback(Y=>{r(q=>q.map(z=>({...z,regions:z.regions.map(J=>J.continentId===Y?{...J,continentId:void 0,mapPosition:void 0}:J)}))),l(q=>q.filter(z=>z.id!==Y)),p===Y&&g(null)},[p]),ee=y.useCallback(Y=>{g(Y)},[]),te=y.useCallback(Y=>{l(q=>q.map(z=>z.id===Y?{...z,isCollapsed:!z.isCollapsed}:z))},[]),ce=y.useCallback((Y,q,z)=>{l(J=>J.map(ae=>ae.id===Y?{...ae,mapImage:q,mapScale:z}:ae))},[]),ge=y.useCallback((Y,q)=>{if(!Y||!q){N({nextGate:null,prevGate:null});return}const z=Un.findNextLocalFall(Y,q),J=Un.findPrevLocalFall(Y,q);N({nextGate:z,prevGate:J})},[]);y.useEffect(()=>{P&&E?.currentDate&&ge(P,E.currentDate)},[P,E?.currentDate,ge]),y.useEffect(()=>{if(P&&E?.currentDate&&b.nextGate){const Y=b.nextGate,q=Un.getWandererEvent(P,Y);if(console.log(`%c Next Wanderer: ${(J=>`${J.month}/${J.day}/${J.year} ${J.hour}:00`)(Y)}`,"color: #f4a460; font-weight: bold; font-size: 12px;"),q?.crash){const{size:J,distance:ae,direction:ke,impactEffects:Le}=q.crash;console.log(`   Size: ${J}, Distance: ${ae<1?Math.round(ae*5280)+"ft":ae+"mi"} ${ke}, Severity: ${Le?.severity}`)}}},[P,E?.currentDate,b.nextGate]);const V=y.useCallback(Y=>{c&&r(q=>q.map(z=>z.id===c?{...z,currentDate:Y}:z))},[c]),Z=y.useCallback(Y=>{if(!E)return{newDate:null,interrupted:!1,wanderer:null};C({...E.currentDate});const q=xn(E.currentDate,Y),J=Y>0?b.nextGate:b.prevGate;if(J&&Un.crossesGate(E.currentDate,q,J)){const ae={...J};V(ae);const ke=Un.getWandererEvent(P,ae);return{newDate:ae,interrupted:!0,wanderer:ke}}return V(q),{newDate:q,interrupted:!1,wanderer:null}},[E,P,b,V]),U=y.useCallback((Y,q,z,J)=>{if(!c)return;const ae={year:Y,month:q,day:z,hour:J};return V(ae),ae},[c,V]),R=y.useCallback((Y,q,z,J=12)=>{if(!E)return{newDate:null,interrupted:!1,wanderer:null};C({...E.currentDate});const ae={year:Y??E.currentDate.year,month:q,day:z,hour:J},Ye=si(E.currentDate,ae)<0?b.nextGate:b.prevGate;if(Ye&&Un.crossesGate(E.currentDate,ae,Ye)){const et={...Ye};V(et);const qr=Un.getWandererEvent(P,et);return{newDate:et,interrupted:!0,wanderer:qr}}return V(ae),{newDate:ae,interrupted:!1,wanderer:null}},[E,P,b,V]),B=y.useCallback(Y=>{if(!c)return null;const q={id:tn(),worldId:c,...Y,locations:[]};return r(z=>z.map(J=>J.id===c?{...J,regions:[...J.regions,q]}:J)),h(q.id),q},[c]),oe=y.useCallback((Y,q)=>{c&&r(z=>z.map(J=>J.id===c?{...J,regions:J.regions.map(ae=>ae.id===Y?{...ae,...q}:ae)}:J))},[c]),K=y.useCallback(Y=>{c&&(r(q=>q.map(z=>z.id===c?{...z,regions:z.regions.filter(J=>J.id!==Y)}:z)),m===Y&&h(null))},[c,m]),he=y.useCallback(Y=>{h(Y)},[]),ne=y.useCallback(Y=>{if(!c||!m)return null;const q={id:tn(),regionId:m,...Y};return r(z=>z.map(J=>J.id===c?{...J,regions:J.regions.map(ae=>ae.id===m?{...ae,locations:[...ae.locations,q]}:ae)}:J)),q},[c,m]),we=y.useCallback((Y,q)=>{!c||!m||r(z=>z.map(J=>J.id===c?{...J,regions:J.regions.map(ae=>ae.id===m?{...ae,locations:ae.locations.map(ke=>ke.id===Y?{...ke,...q}:ke)}:ae)}:J))},[c,m]),Ce=y.useCallback(Y=>{!c||!m||r(q=>q.map(z=>z.id===c?{...z,regions:z.regions.map(J=>J.id===m?{...J,locations:J.locations.filter(ae=>ae.id!==Y)}:J)}:z))},[c,m]),Oe=y.useCallback((Y,q)=>{if(!Y)return null;const z={id:tn(),name:q.name||"New Path",waypoints:q.waypoints||[],color:q.color||"#e74c3c",isVisible:!0,totalDistanceMiles:q.totalDistanceMiles||0};return l(J=>J.map(ae=>ae.id===Y?{...ae,paths:[...ae.paths||[],z]}:ae)),z},[]),ye=y.useCallback((Y,q,z)=>{!Y||!q||l(J=>J.map(ae=>ae.id===Y?{...ae,paths:(ae.paths||[]).map(ke=>ke.id===q?{...ke,...z}:ke)}:ae))},[]),be=y.useCallback((Y,q)=>{!Y||!q||l(z=>z.map(J=>J.id===Y?{...J,paths:(J.paths||[]).filter(ae=>ae.id!==q)}:J))},[]),Ze=y.useCallback((Y,q,z,J=-1)=>{if(!Y||!q)return;const ae={id:tn(),x:z.x,y:z.y,label:z.label||null};return l(ke=>ke.map(Le=>Le.id!==Y?Le:{...Le,paths:(Le.paths||[]).map(Ye=>{if(Ye.id!==q)return Ye;const et=[...Ye.waypoints];return J>=0&&J<et.length?et.splice(J,0,ae):et.push(ae),{...Ye,waypoints:et}})})),ae},[]),Ue=y.useCallback((Y,q,z,J)=>{!Y||!q||!z||l(ae=>ae.map(ke=>ke.id!==Y?ke:{...ke,paths:(ke.paths||[]).map(Le=>Le.id!==q?Le:{...Le,waypoints:Le.waypoints.map(Ye=>Ye.id===z?{...Ye,...J}:Ye)})}))},[]),dt=y.useCallback((Y,q,z)=>{!Y||!q||!z||l(J=>J.map(ae=>ae.id!==Y?ae:{...ae,paths:(ae.paths||[]).map(ke=>ke.id!==q?ke:{...ke,waypoints:ke.waypoints.filter(Le=>Le.id!==z)})}))},[]),Be=y.useCallback((Y,q)=>{if(!Y)return null;const z={id:tn(),name:q.name||"New Weather Region",vertices:q.vertices||[],color:q.color||"#3498db",isVisible:!0,perimeterMiles:q.perimeterMiles||0,areaSquareMiles:q.areaSquareMiles||0};return l(J=>J.map(ae=>ae.id===Y?{...ae,weatherRegions:[...ae.weatherRegions||[],z]}:ae)),z},[]),At=y.useCallback((Y,q,z)=>{!Y||!q||l(J=>J.map(ae=>ae.id===Y?{...ae,weatherRegions:(ae.weatherRegions||[]).map(ke=>ke.id===q?{...ke,...z}:ke)}:ae))},[]),gt=y.useCallback((Y,q)=>{!Y||!q||l(z=>z.map(J=>J.id===Y?{...J,weatherRegions:(J.weatherRegions||[]).filter(ae=>ae.id!==q)}:J))},[]),nn=y.useCallback((Y,q,z,J=-1)=>{if(!Y||!q)return;const ae={id:tn(),x:z.x,y:z.y};return l(ke=>ke.map(Le=>Le.id!==Y?Le:{...Le,weatherRegions:(Le.weatherRegions||[]).map(Ye=>{if(Ye.id!==q)return Ye;const et=[...Ye.vertices];return J>=0&&J<et.length?et.splice(J,0,ae):et.push(ae),{...Ye,vertices:et}})})),ae},[]),Lt=y.useCallback((Y,q,z,J)=>{!Y||!q||!z||l(ae=>ae.map(ke=>ke.id!==Y?ke:{...ke,weatherRegions:(ke.weatherRegions||[]).map(Le=>Le.id!==q?Le:{...Le,vertices:Le.vertices.map(Ye=>Ye.id===z?{...Ye,...J}:Ye)})}))},[]),vt=y.useCallback((Y,q,z)=>{!Y||!q||!z||l(J=>J.map(ae=>ae.id!==Y?ae:{...ae,weatherRegions:(ae.weatherRegions||[]).map(ke=>ke.id!==q?ke:{...ke,vertices:ke.vertices.filter(Le=>Le.id!==z)})}))},[]),me=y.useCallback((Y,q)=>{if(!Y)return null;const z={id:tn(),name:q.name||"New Political Region",vertices:q.vertices||[],color:q.color||"#e74c3c",isVisible:!0,perimeterMiles:q.perimeterMiles||0,areaSquareMiles:q.areaSquareMiles||0};return l(J=>J.map(ae=>ae.id===Y?{...ae,politicalRegions:[...ae.politicalRegions||[],z]}:ae)),z},[]),Pe=y.useCallback((Y,q,z)=>{!Y||!q||l(J=>J.map(ae=>ae.id===Y?{...ae,politicalRegions:(ae.politicalRegions||[]).map(ke=>ke.id===q?{...ke,...z}:ke)}:ae))},[]),je=y.useCallback((Y,q)=>{!Y||!q||l(z=>z.map(J=>J.id===Y?{...J,politicalRegions:(J.politicalRegions||[]).filter(ae=>ae.id!==q)}:J))},[]),ze=y.useCallback((Y,q,z,J=-1)=>{if(!Y||!q)return;const ae={id:tn(),x:z.x,y:z.y};return l(ke=>ke.map(Le=>Le.id!==Y?Le:{...Le,politicalRegions:(Le.politicalRegions||[]).map(Ye=>{if(Ye.id!==q)return Ye;const et=[...Ye.vertices];return J>=0&&J<et.length?et.splice(J,0,ae):et.push(ae),{...Ye,vertices:et}})})),ae},[]),Xe=y.useCallback((Y,q,z,J)=>{!Y||!q||!z||l(ae=>ae.map(ke=>ke.id!==Y?ke:{...ke,politicalRegions:(ke.politicalRegions||[]).map(Le=>Le.id!==q?Le:{...Le,vertices:Le.vertices.map(Ye=>Ye.id===z?{...Ye,...J}:Ye)})}))},[]),Ne=y.useCallback((Y,q,z)=>{!Y||!q||!z||l(J=>J.map(ae=>ae.id!==Y?ae:{...ae,politicalRegions:(ae.politicalRegions||[]).map(ke=>ke.id!==q?ke:{...ke,vertices:ke.vertices.filter(Le=>Le.id!==z)})}))},[]),Je=y.useCallback((Y,q,z,J)=>{if(!Y||!q)return null;const ae={id:tn(),x:z.x,y:z.y,sharedId:z.sharedId||null};return l(ke=>ke.map(Le=>Le.id!==Y?Le:{...Le,politicalRegions:(Le.politicalRegions||[]).map(Ye=>{if(Ye.id!==q)return Ye;const et=[...Ye.vertices];return et.splice(J+1,0,ae),{...Ye,vertices:et}})})),ae},[]),nt=y.useCallback((Y,q,z)=>{!Y||!q||l(J=>J.map(ae=>ae.id!==Y?ae:{...ae,politicalRegions:(ae.politicalRegions||[]).map(ke=>({...ke,vertices:ke.vertices.map(Le=>Le.sharedId===q?{...Le,...z}:Le)}))}))},[]),Ht=y.useCallback((Y,q,z,J)=>{!Y||!q||!z||l(ae=>ae.map(ke=>ke.id!==Y?ke:{...ke,politicalRegions:(ke.politicalRegions||[]).map(Le=>Le.id!==q?Le:{...Le,vertices:Le.vertices.map(Ye=>Ye.id===z?{...Ye,sharedId:J}:Ye)})}))},[]),Pn={worlds:e,continents:s,activeWorld:E,activeRegion:P,activeContinent:_,activeWorldId:c,activeRegionId:m,activeContinentId:p,isLoading:x,previousDate:k,worldContinents:L,groupedRegions:A,createWorld:$,updateWorld:I,deleteWorld:X,selectWorld:re,createContinent:H,updateContinent:ie,deleteContinent:se,selectContinent:ee,toggleContinentCollapsed:te,updateContinentMap:ce,updateWorldTime:V,advanceTime:Z,setSpecificTime:U,jumpToDate:R,scanWandererGates:ge,wandererGates:b,createRegion:B,updateRegion:oe,deleteRegion:K,selectRegion:he,createLocation:ne,updateLocation:we,deleteLocation:Ce,createPath:Oe,updatePath:ye,deletePath:be,addWaypoint:Ze,updateWaypoint:Ue,deleteWaypoint:dt,createWeatherRegion:Be,updateWeatherRegion:At,deleteWeatherRegion:gt,addWeatherRegionVertex:nn,updateWeatherRegionVertex:Lt,deleteWeatherRegionVertex:vt,createPoliticalRegion:me,updatePoliticalRegion:Pe,deletePoliticalRegion:je,addPoliticalRegionVertex:ze,updatePoliticalRegionVertex:Xe,deletePoliticalRegionVertex:Ne,insertPoliticalRegionVertex:Je,updateLinkedPoliticalVertices:nt,setPoliticalVertexSharedId:Ht};return a.jsx(fv.Provider,{value:Pn,children:n})},U4=({show:n,onHide:e,onComplete:r})=>{const{createWorld:s}=Kn(),[l,c]=y.useState(""),[d,m]=y.useState(1),[h,p]=y.useState(1),[g,x]=y.useState(1),[w,S]=y.useState(12),b=C=>{if(C.preventDefault(),!l.trim()){alert("Please enter a world name");return}const E={year:parseInt(d),month:parseInt(h),day:parseInt(g),hour:parseInt(w)};s(l.trim(),"",E),r&&r()},N=hi(h),k=g>N?N:g;return a.jsxs(Re,{show:n,onHide:e,backdrop:"static",keyboard:!1,centered:!0,children:[a.jsx(Re.Header,{children:a.jsx(Re.Title,{children:"Create Your World"})}),a.jsx(Re.Body,{children:a.jsxs(xe,{onSubmit:b,children:[a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"World Name"}),a.jsx(xe.Control,{type:"text",placeholder:"e.g., Forgotten Realms, Eberron, My Campaign",value:l,onChange:C=>c(C.target.value),autoFocus:!0}),a.jsx(xe.Text,{className:"text-muted",children:"This is your campaign world. You can create multiple worlds for different campaigns."})]}),a.jsx("hr",{}),a.jsx("h6",{children:"Starting Date & Time"}),a.jsx(xe.Text,{className:"text-muted d-block mb-3",children:"Set when your campaign begins. Uses Earth calendar with any year."}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Year"}),a.jsx(xe.Control,{type:"number",min:"1",value:d,onChange:C=>m(C.target.value)})]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-6",children:a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Month"}),a.jsx(xe.Select,{value:h,onChange:C=>{const E=parseInt(C.target.value);p(E);const P=hi(E);g>P&&x(P)},children:S0.map((C,E)=>a.jsx("option",{value:E+1,children:C},E))})]})}),a.jsx("div",{className:"col-md-6",children:a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Day"}),a.jsx(xe.Select,{value:k,onChange:C=>x(parseInt(C.target.value)),children:[...Array(N)].map((C,E)=>a.jsx("option",{value:E+1,children:E+1},E))})]})})]}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Hour"}),a.jsxs(xe.Select,{value:w,onChange:C=>S(parseInt(C.target.value)),children:[a.jsx("option",{value:0,children:"12 AM (Midnight)"}),[...Array(11)].map((C,E)=>a.jsxs("option",{value:E+1,children:[E+1," AM"]},E+1)),a.jsx("option",{value:12,children:"12 PM (Noon)"}),[...Array(11)].map((C,E)=>a.jsxs("option",{value:E+13,children:[E+1," PM"]},E+13))]})]})]})}),a.jsx(Re.Footer,{children:a.jsx(Se,{variant:"primary",onClick:b,children:"Create World"})})]})},G4={polar:{label:"Polar",range:"0-1,500 mi (disc center)"},subarctic:{label:"Subarctic",range:"1,500-2,500 mi"},boreal:{label:"Boreal",range:"2,500-3,500 mi"},temperate:{label:"Temperate",range:"3,500-4,500 mi"},subtropical:{label:"Subtropical",range:"4,500-5,500 mi"},tropical:{label:"Tropical",range:"5,500-6,700 mi (near rim)"}},fn={polar:{"tundra-plain":{name:"Tundra Plain",description:"Treeless plains with permanently frozen subsoil. Brief summer growing season with 24-hour daylight, followed by a long winter with extended darkness. Real-world examples: Utqiavik (Barrow) Alaska, Resolute Canada, Tiksi Russia.",gameplayImpact:"24-hour daylight disrupts sleep in summer. Extended darkness in winter affects psychology. Challenging winter survival. Spring/fall bring rapidly changing daylight hours.",parameters:{latitude:78,elevation:1e3,maritimeInfluence:.3,terrainRoughness:.4,specialFactors:{permanentIce:.3,groundType:"permafrost"},temperatureProfile:{annual:{mean:14,variance:40},winter:{mean:-12,variance:20},spring:{mean:15,variance:15},summer:{mean:42,variance:10},fall:{mean:10,variance:15}},humidityProfile:{annual:{mean:60,variance:15},winter:{mean:75,variance:10},spring:{mean:70,variance:15},summer:{mean:65,variance:15},fall:{mean:70,variance:15}},dewPointProfile:{annual:{mean:5,variance:15,max:45},winter:{mean:-20,variance:10,max:10},spring:{mean:5,variance:12,max:35},summer:{mean:35,variance:8,max:50},fall:{mean:5,variance:10,max:35}}},defaultBiome:"tundra"},"polar-coast":{name:"Polar Coast",description:"Coastal areas in polar regions where ocean influence moderates the extreme cold. Sea ice forms seasonally, extending the coastline in winter and retreating in summer.",gameplayImpact:"Sea ice allows winter travel but presents dangers. Coastal storms with wind-driven snow. Marine mammal hunting opportunities. Physical and psychological challenges of polar night.",parameters:{latitude:75,elevation:100,maritimeInfluence:.7,terrainRoughness:.5,specialFactors:{highWinds:.7,groundType:"permafrost"},temperatureProfile:{annual:{mean:20,variance:35},winter:{mean:-5,variance:20},spring:{mean:15,variance:15},summer:{mean:45,variance:10},fall:{mean:25,variance:15}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:80,variance:10},spring:{mean:75,variance:15},summer:{mean:70,variance:15},fall:{mean:75,variance:15}},dewPointProfile:{annual:{mean:10,variance:15,max:48},winter:{mean:-15,variance:10,max:15},spring:{mean:8,variance:12,max:38},summer:{mean:38,variance:8,max:52},fall:{mean:15,variance:10,max:40}}},defaultBiome:"tundra"},"ice-sheet":{name:"Ice Sheet",description:"Permanent ice fields with extreme cold and minimal precipitation. Weather is dominated by katabatic winds flowing off the ice sheet. Essentially a cold desert.",gameplayImpact:"Extreme survival challenges. Specialized equipment essential. Disorientating white-out conditions. UV reflection causes snow blindness. Requires expert navigation.",parameters:{latitude:85,elevation:8e3,maritimeInfluence:.1,terrainRoughness:.4,specialFactors:{permanentIce:.9,groundType:"permafrost"},temperatureProfile:{annual:{mean:-15,variance:30},winter:{mean:-40,variance:15},spring:{mean:-20,variance:15},summer:{mean:10,variance:10},fall:{mean:-10,variance:15}},humidityProfile:{annual:{mean:60,variance:10},winter:{mean:65,variance:10},spring:{mean:60,variance:10},summer:{mean:55,variance:10},fall:{mean:60,variance:10}},dewPointProfile:{annual:{mean:-25,variance:15,max:20},winter:{mean:-45,variance:10,max:-10},spring:{mean:-30,variance:12,max:10},summer:{mean:0,variance:8,max:25},fall:{mean:-20,variance:10,max:15}}},defaultBiome:"tundra"},"polar-desert":{name:"Polar Desert",description:"High latitude regions with extremely low precipitation, despite cold temperatures. Bare rock and gravel dominate the landscape, with minimal vegetation.",gameplayImpact:"Extremely limited resources. Water availability issues despite cold environment. Wind-driven snow creates drifts and bare areas. Survival challenges from aridity and cold.",parameters:{latitude:80,elevation:3e3,maritimeInfluence:.1,terrainRoughness:.6,specialFactors:{dryAir:.8,groundType:"permafrost"},temperatureProfile:{annual:{mean:-5,variance:35},winter:{mean:-30,variance:20},spring:{mean:-5,variance:15},summer:{mean:30,variance:10},fall:{mean:-5,variance:15}},humidityProfile:{annual:{mean:30,variance:10},winter:{mean:45,variance:15},spring:{mean:40,variance:15},summer:{mean:35,variance:15},fall:{mean:40,variance:15}},dewPointProfile:{annual:{mean:-10,variance:15,max:30},winter:{mean:-35,variance:10,max:0},spring:{mean:-15,variance:12,max:20},summer:{mean:15,variance:8,max:35},fall:{mean:-10,variance:10,max:25}}},defaultBiome:"tundra"},"polar-highland":{name:"Polar Highland",description:"Mountainous terrain at high latitudes, combining the challenges of high elevation with polar conditions. Extreme wind and temperature conditions dominate.",gameplayImpact:"Some of the most challenging terrain and conditions on the planet. Severe windchill factor. Rapid weather changes. Avalanche risk. Specialized mountaineering skills required.",parameters:{latitude:78,elevation:5e3,maritimeInfluence:.2,terrainRoughness:.9,specialFactors:{highWinds:.9,groundType:"rock"},temperatureProfile:{annual:{mean:-10,variance:35},winter:{mean:-35,variance:20},spring:{mean:-10,variance:15},summer:{mean:25,variance:15},fall:{mean:-5,variance:15}},humidityProfile:{annual:{mean:50,variance:20},winter:{mean:55,variance:15},spring:{mean:50,variance:20},summer:{mean:45,variance:20},fall:{mean:50,variance:20}},dewPointProfile:{annual:{mean:-5,variance:15,max:35},winter:{mean:-35,variance:10,max:5},spring:{mean:-10,variance:12,max:25},summer:{mean:18,variance:10,max:40},fall:{mean:-5,variance:10,max:30}}},defaultBiome:"tundra"},"polar-seas":{name:"Polar Seas",description:"Frigid waters near the disc center where pack ice dominates for much of the year. Brief summer thaw allows limited navigation, but ice can reform rapidly. Icebergs and growlers pose constant hazards.",gameplayImpact:"Ice navigation requires specialized vessels. Icebergs can appear suddenly in fog. Summer provides brief window for travel. Hypothermia risk if crew goes overboard is near-instant.",parameters:{latitude:80,elevation:0,maritimeInfluence:1,terrainRoughness:.3,specialFactors:{isOcean:!0,seaType:"open",currentStrength:.3,swellSource:"polar",baseSwellHeight:4,baseSwellPeriod:8,icebergs:.9,packIce:.8,groundType:"water"},temperatureProfile:{annual:{mean:28,variance:15},winter:{mean:15,variance:10},spring:{mean:28,variance:12},summer:{mean:38,variance:8},fall:{mean:30,variance:12}},humidityProfile:{annual:{mean:85,variance:10},winter:{mean:80,variance:10},spring:{mean:85,variance:10},summer:{mean:90,variance:8},fall:{mean:85,variance:10}},dewPointProfile:{annual:{mean:22,variance:12,max:38},winter:{mean:10,variance:8,max:22},spring:{mean:22,variance:10,max:35},summer:{mean:35,variance:6,max:42},fall:{mean:25,variance:10,max:38}}},defaultBiome:"ocean"},"pack-ice-waters":{name:"Pack Ice Waters",description:"Transitional zone where seasonal pack ice forms and breaks up. In summer, channels open through the ice allowing passage. Winter locks the sea in continuous ice sheet.",gameplayImpact:"Navigable only in summer months. Ice pressure can crush vessels caught in freeze-up. Leads and polynyas provide unpredictable routes. Rich hunting grounds for marine mammals.",parameters:{latitude:75,elevation:0,maritimeInfluence:1,terrainRoughness:.4,specialFactors:{isOcean:!0,seaType:"coastal",currentStrength:.4,swellSource:"polar",baseSwellHeight:3,baseSwellPeriod:7,packIce:.7,seasonalIce:!0,groundType:"water"},temperatureProfile:{annual:{mean:32,variance:18},winter:{mean:18,variance:12},spring:{mean:30,variance:14},summer:{mean:42,variance:8},fall:{mean:34,variance:14}},humidityProfile:{annual:{mean:82,variance:12},winter:{mean:78,variance:10},spring:{mean:82,variance:12},summer:{mean:88,variance:8},fall:{mean:82,variance:12}},dewPointProfile:{annual:{mean:26,variance:14,max:42},winter:{mean:12,variance:10,max:25},spring:{mean:25,variance:12,max:38},summer:{mean:38,variance:6,max:45},fall:{mean:28,variance:12,max:40}}},defaultBiome:"ocean"}},subtropical:{"monsoon-coast":{name:"Monsoon Coast",description:"Coastal regions with dramatic seasonal rainfall patterns. A distinct wet season brings torrential rains, while the dry season can be quite pleasant.",gameplayImpact:"Seasonal flooding can make travel impossible during monsoon. Roads wash out. Rivers change course. Humidity causes equipment deterioration during wet season.",parameters:{latitude:15,elevation:300,maritimeInfluence:.8,terrainRoughness:.5,specialFactors:{hasMonsoonSeason:!0,highRainfall:!0,forestDensity:.7,seasonalFlooding:.9,groundType:"clay"},temperatureProfile:{annual:{mean:80,variance:8},winter:{mean:75,variance:7},spring:{mean:82,variance:6},summer:{mean:85,variance:6},fall:{mean:78,variance:7}},humidityProfile:{annual:{mean:75,variance:20},winter:{mean:65,variance:15},spring:{mean:75,variance:15},summer:{mean:85,variance:10},fall:{mean:75,variance:15}},dewPointProfile:{annual:{mean:72,variance:6,max:82},winter:{mean:65,variance:8,max:75},spring:{mean:72,variance:6,max:80},summer:{mean:76,variance:4,max:82},fall:{mean:72,variance:6,max:78}}},defaultBiome:"tropical-seasonal"},"tropical-savanna":{name:"Tropical Savanna",description:"Open grasslands with scattered trees. Distinct wet and dry seasons, with most rainfall concentrated in 4-5 months of the year.",gameplayImpact:"Grass fires possible in dry season. Seasonal changes in water availability. Wildlife concentrates near water sources in dry season. Tall grass limits visibility.",parameters:{latitude:18,elevation:1200,maritimeInfluence:.3,terrainRoughness:.4,specialFactors:{hasDrySeason:!0,hasMonsoonSeason:!0,grasslandDensity:.8,forestDensity:.3,groundType:"soil"},temperatureProfile:{annual:{mean:78,variance:12},winter:{mean:72,variance:10},spring:{mean:80,variance:8},summer:{mean:84,variance:8},fall:{mean:76,variance:10}},humidityProfile:{annual:{mean:60,variance:25},winter:{mean:40,variance:15},spring:{mean:60,variance:20},summer:{mean:75,variance:15},fall:{mean:65,variance:20}},dewPointProfile:{annual:{mean:58,variance:10,max:75},winter:{mean:45,variance:10,max:58},spring:{mean:58,variance:10,max:72},summer:{mean:68,variance:6,max:78},fall:{mean:60,variance:8,max:72}}},defaultBiome:"temperate-grassland"},"tropical-desert":{name:"Tropical Desert",description:"Hot, arid regions with extreme daily temperature variations. Can be scorching during the day but cool at night. Rainfall is rare and often occurs as brief, intense storms. Real-world examples: Phoenix Arizona, Riyadh Saudi Arabia, Alice Springs Australia.",gameplayImpact:"Heat exhaustion risk during day. Hypothermia risk at night. Water scarcity. Flash floods in wadis. Dust storms reduce visibility. Sun exposure concerns.",parameters:{latitude:23,elevation:2e3,maritimeInfluence:.1,terrainRoughness:.7,specialFactors:{hasDrySeason:!0,highDiurnalVariation:!0,dustStorms:.7,groundType:"sand"},temperatureProfile:{annual:{mean:74,variance:35},winter:{mean:56,variance:12},spring:{mean:75,variance:20},summer:{mean:95,variance:18},fall:{mean:78,variance:20}},humidityProfile:{annual:{mean:20,variance:15},winter:{mean:25,variance:15},spring:{mean:20,variance:15},summer:{mean:15,variance:10},fall:{mean:20,variance:15}},dewPointProfile:{annual:{mean:32,variance:12,max:55},winter:{mean:30,variance:10,max:48},spring:{mean:28,variance:12,max:52},summer:{mean:35,variance:12,max:58},fall:{mean:32,variance:10,max:52}}},defaultBiome:"desert"},"tropical-highland":{name:"Tropical Highland",description:'Mountain environments in tropical latitudes, often featuring cloud forests and pleasant temperatures year-round. Often called "cities of eternal spring." Real-world examples: Quito Ecuador, Addis Ababa Ethiopia, Bogot Colombia.',gameplayImpact:"Steep terrain affects travel. Morning fog affects visibility. Afternoon rain/thunderstorms predictable. UV intensity high despite comfortable temperatures.",parameters:{latitude:20,elevation:6e3,maritimeInfluence:.3,terrainRoughness:.8,specialFactors:{hasFog:!0,volcanicActivity:.2,groundType:"rock"},temperatureProfile:{annual:{mean:58,variance:10},winter:{mean:58,variance:8},spring:{mean:58,variance:8},summer:{mean:59,variance:8},fall:{mean:58,variance:8}},humidityProfile:{annual:{mean:70,variance:15},winter:{mean:65,variance:15},spring:{mean:75,variance:15},summer:{mean:75,variance:15},fall:{mean:65,variance:15}},dewPointProfile:{annual:{mean:48,variance:8,max:62},winter:{mean:45,variance:8,max:58},spring:{mean:50,variance:8,max:62},summer:{mean:50,variance:8,max:62},fall:{mean:46,variance:8,max:58}}},defaultBiome:"temperate-rainforest"},"tropical-deciduous-forest":{name:"Tropical Deciduous Forest",description:"Forests that shed leaves during the dry season. Pronounced seasonality for a tropical climate, with comfortable winters and hot, humid summers.",gameplayImpact:"Seasonal variation in visibility through forest. Leaf litter in dry season can increase fire risk. Wet season brings lusher vegetation and more challenging travel.",parameters:{latitude:25,elevation:1e3,maritimeInfluence:.4,terrainRoughness:.6,specialFactors:{hasDrySeason:!0,deciduousForest:!0,forestDensity:.8,groundType:"soil"},temperatureProfile:{annual:{mean:75,variance:15},winter:{mean:65,variance:10},spring:{mean:75,variance:10},summer:{mean:85,variance:10},fall:{mean:75,variance:10}},humidityProfile:{annual:{mean:65,variance:20},winter:{mean:50,variance:15},spring:{mean:65,variance:15},summer:{mean:80,variance:15},fall:{mean:65,variance:15}},dewPointProfile:{annual:{mean:62,variance:10,max:78},winter:{mean:50,variance:10,max:62},spring:{mean:62,variance:10,max:75},summer:{mean:72,variance:6,max:80},fall:{mean:62,variance:8,max:75}}},defaultBiome:"temperate-deciduous"},"tropical-maritime":{name:"Tropical Maritime",description:"Coastal regions dominated by ocean influence, with steady trade winds and moderated temperatures. Seasonal hurricane risk during late summer and fall.",gameplayImpact:"Predictable daily sea breezes. Excellent sailing conditions most of the year. Storm surge risk during hurricane season. Afternoon thunderstorms common but brief.",parameters:{latitude:22,elevation:100,maritimeInfluence:.9,terrainRoughness:.4,specialFactors:{coastalWinds:.8,hurricaneRisk:.7,tradeWinds:!0,highRainfall:!0,groundType:"sand"},temperatureProfile:{annual:{mean:80,variance:7},winter:{mean:76,variance:6},spring:{mean:79,variance:5},summer:{mean:84,variance:5},fall:{mean:81,variance:6}},humidityProfile:{annual:{mean:75,variance:10},winter:{mean:70,variance:10},spring:{mean:75,variance:10},summer:{mean:80,variance:10},fall:{mean:75,variance:10}},dewPointProfile:{annual:{mean:70,variance:6,max:80},winter:{mean:66,variance:6,max:75},spring:{mean:70,variance:5,max:78},summer:{mean:74,variance:4,max:82},fall:{mean:72,variance:5,max:80}}},defaultBiome:"tropical-seasonal"},"mangrove-coast":{name:"Mangrove Coast",description:"Low-lying coastal wetlands dominated by salt-tolerant trees. Tidal influences combine with high rainfall to create unique semi-aquatic environments.",gameplayImpact:"Challenging terrain requiring boats or specialized travel. Tidal fluctuations affect passability. Hurricane vulnerability with storm surge risks. Insect activity high.",parameters:{latitude:15,elevation:10,maritimeInfluence:.95,terrainRoughness:.3,specialFactors:{tidalInfluence:.9,standingWater:.8,hurricaneRisk:.7,groundType:"clay"},temperatureProfile:{annual:{mean:82,variance:6},winter:{mean:79,variance:6},spring:{mean:82,variance:5},summer:{mean:85,variance:5},fall:{mean:82,variance:6}},humidityProfile:{annual:{mean:85,variance:8},winter:{mean:80,variance:8},spring:{mean:85,variance:8},summer:{mean:88,variance:8},fall:{mean:87,variance:8}},dewPointProfile:{annual:{mean:74,variance:5,max:84},winter:{mean:70,variance:5,max:78},spring:{mean:74,variance:5,max:82},summer:{mean:78,variance:4,max:85},fall:{mean:76,variance:5,max:84}}},defaultBiome:"tropical-seasonal"},"mediterranean-coast":{name:"Mediterranean Coast",description:'Distinctive climate with dry, warm summers and mild, rainy winters. Classic "endless summer" feeling with pleasant temperatures most of the year. Real-world examples: Los Angeles, Barcelona, Athens, Perth Australia.',gameplayImpact:"Summer drought increases wildfire risk. Winter rainfall can cause flash floods. Grape/olive growing climate. Light winter freezes possible but rare.",parameters:{latitude:35,elevation:300,maritimeInfluence:.7,terrainRoughness:.6,specialFactors:{hasDrySeason:!0,coastalWinds:.6,wildfire:.5,groundType:"soil"},temperatureProfile:{annual:{mean:65,variance:15},winter:{mean:58,variance:10},spring:{mean:62,variance:10},summer:{mean:75,variance:10},fall:{mean:70,variance:10}},humidityProfile:{annual:{mean:60,variance:20},winter:{mean:70,variance:15},spring:{mean:65,variance:15},summer:{mean:50,variance:10},fall:{mean:55,variance:15}},dewPointProfile:{annual:{mean:48,variance:10,max:65},winter:{mean:48,variance:8,max:58},spring:{mean:50,variance:8,max:62},summer:{mean:52,variance:8,max:68},fall:{mean:48,variance:8,max:62}}},defaultBiome:"temperate-deciduous"},"trade-wind-belt":{name:"Trade Wind Belt",description:"Warm waters dominated by steady northeast or southeast trade winds. Reliable sailing conditions most of the year, though hurricane season brings serious risks in late summer and fall.",gameplayImpact:"Trade winds provide consistent sailing. Hurricane season (summer/fall) requires careful planning. Squalls can develop quickly in afternoon. Generally excellent visibility.",parameters:{latitude:25,elevation:0,maritimeInfluence:1,terrainRoughness:.2,specialFactors:{isOcean:!0,seaType:"open",currentStrength:.4,swellSource:"trade",baseSwellHeight:4,baseSwellPeriod:10,tradeWinds:!0,hurricaneRisk:.6,groundType:"water"},temperatureProfile:{annual:{mean:76,variance:8},winter:{mean:72,variance:6},spring:{mean:76,variance:6},summer:{mean:82,variance:5},fall:{mean:78,variance:6}},humidityProfile:{annual:{mean:75,variance:10},winter:{mean:72,variance:10},spring:{mean:74,variance:10},summer:{mean:78,variance:8},fall:{mean:76,variance:10}},dewPointProfile:{annual:{mean:68,variance:6,max:78},winter:{mean:64,variance:6,max:74},spring:{mean:68,variance:6,max:76},summer:{mean:72,variance:4,max:80},fall:{mean:70,variance:6,max:78}}},defaultBiome:"ocean"},"gulf-waters":{name:"Gulf Waters",description:"Semi-enclosed warm waters with limited fetch reducing wave heights. Strong tidal currents near entrances. Water temperatures can become very warm in summer, fueling storm development.",gameplayImpact:"Calmer than open ocean but currents can be treacherous. Summer heat can be oppressive at sea. Storm surge extremely dangerous in enclosed waters. Good for coastal trading.",parameters:{latitude:28,elevation:0,maritimeInfluence:.95,terrainRoughness:.3,specialFactors:{isOcean:!0,seaType:"gulf",currentStrength:.5,swellSource:"local",baseSwellHeight:2,baseSwellPeriod:6,hurricaneRisk:.7,stormSurge:.8,groundType:"water"},temperatureProfile:{annual:{mean:78,variance:10},winter:{mean:70,variance:8},spring:{mean:78,variance:8},summer:{mean:86,variance:5},fall:{mean:80,variance:8}},humidityProfile:{annual:{mean:78,variance:10},winter:{mean:74,variance:10},spring:{mean:76,variance:10},summer:{mean:82,variance:8},fall:{mean:78,variance:10}},dewPointProfile:{annual:{mean:70,variance:6,max:80},winter:{mean:64,variance:6,max:74},spring:{mean:70,variance:6,max:78},summer:{mean:76,variance:4,max:82},fall:{mean:72,variance:6,max:80}}},defaultBiome:"ocean"}},boreal:{"boreal-forest":{name:"Boreal Forest",description:"Dense coniferous forests (taiga) with long, cold winters and short, mild summers. Snow persists from November through March. Real-world examples: Duluth Minnesota, Thunder Bay Ontario, southern Manitoba.",gameplayImpact:"Deep snow accumulation in winter requires snowshoes or skis. Short growing season limits agriculture. Dense forest provides shelter but limits visibility. Mosquitoes and blackflies in summer.",isNew:!0,parameters:{latitude:48,elevation:1200,maritimeInfluence:.2,terrainRoughness:.4,specialFactors:{forestDensity:.85,groundType:"soil"},temperatureProfile:{annual:{mean:38,variance:40},winter:{mean:10,variance:15},spring:{mean:38,variance:18},summer:{mean:68,variance:12},fall:{mean:40,variance:18}},humidityProfile:{annual:{mean:70,variance:15},winter:{mean:75,variance:10},spring:{mean:65,variance:15},summer:{mean:65,variance:20},fall:{mean:75,variance:15}},dewPointProfile:{annual:{mean:28,variance:15,max:62},winter:{mean:0,variance:10,max:20},spring:{mean:28,variance:12,max:50},summer:{mean:55,variance:8,max:68},fall:{mean:30,variance:12,max:52}}},defaultBiome:"boreal-forest"},"cold-continental-prairie":{name:"Cold Continental Prairie",description:"Open grasslands with extreme seasonal temperature swings. Bitter winters with persistent snow cover and wind-driven drifting. Hot summers with thunderstorm risk. Real-world examples: Fargo North Dakota, Regina Saskatchewan, Bismarck North Dakota.",gameplayImpact:"Blizzards with whiteout conditions in winter. No shelter from wind on open prairie. Severe thunderstorms and tornado risk in spring/summer. Grass fires in dry autumn.",isNew:!0,parameters:{latitude:47,elevation:1400,maritimeInfluence:.1,terrainRoughness:.2,specialFactors:{grasslandDensity:.9,highDiurnalVariation:!0,thunderstorms:.6,tornadoRisk:.3,highWinds:.6,groundType:"soil"},temperatureProfile:{annual:{mean:40,variance:50},winter:{mean:8,variance:18},spring:{mean:42,variance:20},summer:{mean:72,variance:15},fall:{mean:42,variance:20}},humidityProfile:{annual:{mean:60,variance:20},winter:{mean:70,variance:15},spring:{mean:55,variance:20},summer:{mean:55,variance:25},fall:{mean:60,variance:20}},dewPointProfile:{annual:{mean:25,variance:15,max:68},winter:{mean:-5,variance:10,max:18},spring:{mean:30,variance:12,max:58},summer:{mean:55,variance:10,max:72},fall:{mean:28,variance:12,max:55}}},defaultBiome:"boreal-grassland"},"boreal-lake-district":{name:"Boreal Lake District",description:"Landscape dotted with thousands of glacial lakes surrounded by mixed forest. Lakes moderate temperatures slightly and generate fog. Excellent fishing but challenging overland travel. Real-world examples: Boundary Waters Minnesota, northern Wisconsin, Muskoka Ontario.",gameplayImpact:"Lake-effect snow in early winter. Ice fishing and frozen lake travel in deep winter. Fog common in spring and fall mornings. Mosquitoes intense near water in summer. Canoe/portage travel preferred.",isNew:!0,parameters:{latitude:47,elevation:1300,maritimeInfluence:.4,terrainRoughness:.5,specialFactors:{forestDensity:.7,hasFog:!0,standingWater:.6,groundType:"soil"},temperatureProfile:{annual:{mean:40,variance:38},winter:{mean:12,variance:14},spring:{mean:40,variance:16},summer:{mean:68,variance:12},fall:{mean:42,variance:16}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:78,variance:10},spring:{mean:72,variance:15},summer:{mean:70,variance:18},fall:{mean:78,variance:12}},dewPointProfile:{annual:{mean:32,variance:15,max:65},winter:{mean:2,variance:10,max:22},spring:{mean:32,variance:12,max:52},summer:{mean:58,variance:8,max:70},fall:{mean:35,variance:10,max:55}}},defaultBiome:"boreal-forest"},"boreal-highland":{name:"Boreal Highland",description:"Mountain environments with significant elevation. Large temperature variations between day and night. Summer thunderstorms are common, winter brings significant snowfall that persists through the season.",gameplayImpact:"Mountain passes closed by snow in winter. Lightning risk above treeline in summer. Avalanche risk in winter/spring. Higher UV exposure requiring protection.",parameters:{latitude:42,elevation:7e3,maritimeInfluence:.2,terrainRoughness:.9,specialFactors:{highDiurnalVariation:!0,thunderstorms:.6,forestDensity:.6,groundType:"rock"},temperatureProfile:{annual:{mean:45,variance:30},winter:{mean:25,variance:15},spring:{mean:42,variance:20},summer:{mean:65,variance:20},fall:{mean:48,variance:20}},humidityProfile:{annual:{mean:50,variance:25},winter:{mean:60,variance:20},spring:{mean:55,variance:25},summer:{mean:40,variance:25},fall:{mean:45,variance:25}},dewPointProfile:{annual:{mean:22,variance:15,max:55},winter:{mean:-5,variance:10,max:20},spring:{mean:22,variance:12,max:45},summer:{mean:48,variance:10,max:62},fall:{mean:25,variance:12,max:48}}},defaultBiome:"boreal-forest"},"northern-seas":{name:"Northern Seas",description:"Cold but navigable waters with strong seasonal variation. Powerful storms sweep through regularly, especially in autumn and winter. Long summer days provide extended sailing windows.",gameplayImpact:"Autumn gales are particularly dangerous. Summer sailing relatively safe but still unpredictable. Winter storms can last for days. Strong tidal currents near coasts.",parameters:{latitude:50,elevation:0,maritimeInfluence:1,terrainRoughness:.4,specialFactors:{isOcean:!0,seaType:"open",currentStrength:.5,swellSource:"westerlies",baseSwellHeight:6,baseSwellPeriod:9,stormFrequency:.5,groundType:"water"},temperatureProfile:{annual:{mean:48,variance:22},winter:{mean:36,variance:12},spring:{mean:46,variance:14},summer:{mean:58,variance:10},fall:{mean:50,variance:14}},humidityProfile:{annual:{mean:82,variance:12},winter:{mean:80,variance:10},spring:{mean:82,variance:12},summer:{mean:85,variance:10},fall:{mean:82,variance:12}},dewPointProfile:{annual:{mean:40,variance:14,max:58},winter:{mean:30,variance:10,max:42},spring:{mean:38,variance:12,max:52},summer:{mean:52,variance:8,max:62},fall:{mean:42,variance:12,max:56}}},defaultBiome:"ocean"}},temperate:{"maritime-forest":{name:"Maritime Forest",description:"Coastal forest regions with moderated temperatures due to ocean influence. Rainfall is common year-round with foggy conditions, especially in mornings. Real-world examples: Seattle, Portland Oregon, Vancouver BC.",gameplayImpact:"Snow in winter is typically wet and heavy but melts quickly. Fog reduces visibility. Steady rainfall creates lush vegetation. Wind storms possible in fall/winter.",parameters:{latitude:45,elevation:500,maritimeInfluence:.8,terrainRoughness:.5,specialFactors:{forestDensity:.8,highRainfall:!0,hasFog:!0,groundType:"soil"},temperatureProfile:{annual:{mean:52,variance:20},winter:{mean:41,variance:10},spring:{mean:50,variance:12},summer:{mean:66,variance:10},fall:{mean:55,variance:12}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:80,variance:10},spring:{mean:75,variance:15},summer:{mean:70,variance:15},fall:{mean:75,variance:15}},dewPointProfile:{annual:{mean:42,variance:10,max:62},winter:{mean:35,variance:8,max:48},spring:{mean:42,variance:8,max:55},summer:{mean:52,variance:8,max:65},fall:{mean:45,variance:8,max:58}}},defaultBiome:"temperate-deciduous"},"continental-prairie":{name:"Continental Prairie",description:"Vast grasslands with extreme temperature variations between summer and winter, and between day and night. Prone to severe thunderstorms and tornadoes. Real-world examples: Des Moines Iowa, Winnipeg Manitoba, Kansas City Missouri, Omaha Nebraska.",gameplayImpact:"Blizzards in winter with wind-driven snow. Severe thunderstorms with tornado risk in spring/summer. Limited shelter from elements. Grass fires in dry periods.",parameters:{latitude:45,elevation:1500,maritimeInfluence:.1,terrainRoughness:.3,specialFactors:{grasslandDensity:.9,highDiurnalVariation:!0,thunderstorms:.7,tornadoRisk:.5,groundType:"soil"},temperatureProfile:{annual:{mean:51,variance:40},winter:{mean:20,variance:20},spring:{mean:52,variance:20},summer:{mean:77,variance:18},fall:{mean:52,variance:20}},humidityProfile:{annual:{mean:60,variance:20},winter:{mean:65,variance:15},spring:{mean:65,variance:20},summer:{mean:55,variance:25},fall:{mean:55,variance:20}},dewPointProfile:{annual:{mean:42,variance:12,max:70},winter:{mean:18,variance:10,max:35},spring:{mean:45,variance:12,max:68},summer:{mean:62,variance:8,max:75},fall:{mean:45,variance:10,max:65}}},defaultBiome:"temperate-grassland"},"temperate-desert":{name:"Temperate Desert",description:"Arid landscapes in mid-latitudes with large temperature swings between seasons and between day and night. Vegetation is sparse and adapted to drought.",gameplayImpact:"Extreme temperature shifts from day to night require adaptable clothing. Limited water sources. Flash flood risk in arroyos. Heat exhaustion risk in summer.",parameters:{latitude:40,elevation:3500,maritimeInfluence:.1,terrainRoughness:.7,specialFactors:{hasDrySeason:!0,highDiurnalVariation:!0,dustStorms:.5,groundType:"sand"},temperatureProfile:{annual:{mean:55,variance:35},winter:{mean:35,variance:20},spring:{mean:55,variance:25},summer:{mean:85,variance:20},fall:{mean:60,variance:25}},humidityProfile:{annual:{mean:30,variance:15},winter:{mean:40,variance:15},spring:{mean:30,variance:15},summer:{mean:20,variance:10},fall:{mean:30,variance:15}},dewPointProfile:{annual:{mean:28,variance:10,max:50},winter:{mean:22,variance:8,max:38},spring:{mean:28,variance:10,max:48},summer:{mean:38,variance:10,max:55},fall:{mean:28,variance:10,max:48}}},defaultBiome:"desert"},"temperate-rainforest":{name:"Temperate Rainforest",description:"Lush forests with extremely high rainfall, often along coastal mountain ranges. Mild temperature variations but near-constant precipitation and high humidity.",gameplayImpact:"Constant dampness affects equipment and comfort. Limited visibility in dense forest. Moss-covered surfaces are slippery. Rain gear essential year-round.",parameters:{latitude:48,elevation:500,maritimeInfluence:.9,terrainRoughness:.7,specialFactors:{highRainfall:!0,hasFog:!0,forestDensity:.9,groundType:"soil"},temperatureProfile:{annual:{mean:50,variance:15},winter:{mean:40,variance:10},spring:{mean:48,variance:10},summer:{mean:65,variance:10},fall:{mean:52,variance:10}},humidityProfile:{annual:{mean:80,variance:10},winter:{mean:85,variance:8},spring:{mean:80,variance:10},summer:{mean:75,variance:12},fall:{mean:80,variance:10}},dewPointProfile:{annual:{mean:45,variance:8,max:62},winter:{mean:38,variance:6,max:48},spring:{mean:44,variance:6,max:55},summer:{mean:54,variance:6,max:65},fall:{mean:48,variance:6,max:58}}},defaultBiome:"temperate-rainforest"},"river-valley":{name:"River Valley",description:"Fertile valleys with significant river influence. Spring flooding fertilizes soil. Morning fog is common, especially in fall and spring.",gameplayImpact:"Spring floods may block travel routes. Morning fog impacts visibility. River systems provide transportation. Rich agricultural settlements.",parameters:{latitude:45,elevation:500,maritimeInfluence:.5,terrainRoughness:.4,specialFactors:{seasonalFlooding:.7,hasFog:!0,forestDensity:.6,fertileFloodplain:!0,groundType:"clay"},temperatureProfile:{annual:{mean:55,variance:30},winter:{mean:30,variance:15},spring:{mean:55,variance:15},summer:{mean:80,variance:15},fall:{mean:55,variance:15}},humidityProfile:{annual:{mean:65,variance:15},winter:{mean:70,variance:10},spring:{mean:70,variance:15},summer:{mean:60,variance:20},fall:{mean:60,variance:15}},dewPointProfile:{annual:{mean:45,variance:12,max:72},winter:{mean:25,variance:10,max:40},spring:{mean:45,variance:10,max:62},summer:{mean:62,variance:8,max:75},fall:{mean:45,variance:10,max:62}}},defaultBiome:"temperate-deciduous"},"seasonal-wetland":{name:"Seasonal Wetland",description:"Low-lying areas that flood seasonally, creating temporary wetlands. Rich biodiversity with seasonal variations in water levels and accessibility.",gameplayImpact:"Seasonal changes in passability. Areas impassable in spring may be easily traversed by late summer. Mosquitoes and disease risk during wet periods.",parameters:{latitude:40,elevation:100,maritimeInfluence:.6,terrainRoughness:.2,specialFactors:{seasonalFlooding:.9,standingWater:.7,groundType:"clay"},temperatureProfile:{annual:{mean:60,variance:25},winter:{mean:40,variance:15},spring:{mean:60,variance:15},summer:{mean:80,variance:15},fall:{mean:60,variance:15}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:75,variance:15},spring:{mean:80,variance:10},summer:{mean:70,variance:15},fall:{mean:75,variance:15}},dewPointProfile:{annual:{mean:52,variance:12,max:75},winter:{mean:35,variance:10,max:48},spring:{mean:55,variance:8,max:68},summer:{mean:65,variance:8,max:78},fall:{mean:50,variance:10,max:65}}},defaultBiome:"temperate-grassland"},"maritime-islands":{name:"Maritime Islands",description:"Island environments with heavily moderated temperatures due to ocean influence. Typically windier than mainland areas with unpredictable coastal storms.",gameplayImpact:"Sailing conditions can change rapidly. Fog can develop suddenly. Minimal temperature variation but wind is a constant factor. Coastal erosion concerns.",parameters:{latitude:45,elevation:300,maritimeInfluence:.95,terrainRoughness:.6,specialFactors:{coastalWinds:.8,islandEffect:!0,stormSurge:.6,groundType:"rock"},temperatureProfile:{annual:{mean:55,variance:15},winter:{mean:45,variance:8},spring:{mean:52,variance:10},summer:{mean:65,variance:8},fall:{mean:58,variance:10}},humidityProfile:{annual:{mean:70,variance:15},winter:{mean:75,variance:15},spring:{mean:70,variance:15},summer:{mean:65,variance:15},fall:{mean:70,variance:15}},dewPointProfile:{annual:{mean:45,variance:8,max:60},winter:{mean:40,variance:6,max:50},spring:{mean:44,variance:6,max:55},summer:{mean:52,variance:6,max:62},fall:{mean:48,variance:6,max:58}}},defaultBiome:"temperate-rainforest"},"temperate-ocean":{name:"Temperate Ocean",description:"Open ocean waters with classic four-season variation. Westerly winds dominate, bringing regular weather systems. Good sailing conditions in summer, challenging in winter.",gameplayImpact:"Seasonal weather patterns are somewhat predictable. Summer provides reliable sailing windows. Autumn storms require caution. Winter crossings are risky but possible.",parameters:{latitude:42,elevation:0,maritimeInfluence:1,terrainRoughness:.3,specialFactors:{isOcean:!0,seaType:"open",currentStrength:.5,swellSource:"westerlies",baseSwellHeight:5,baseSwellPeriod:9,stormFrequency:.4,groundType:"water"},temperatureProfile:{annual:{mean:56,variance:18},winter:{mean:46,variance:10},spring:{mean:54,variance:12},summer:{mean:66,variance:8},fall:{mean:58,variance:12}},humidityProfile:{annual:{mean:78,variance:12},winter:{mean:76,variance:10},spring:{mean:78,variance:12},summer:{mean:80,variance:10},fall:{mean:78,variance:12}},dewPointProfile:{annual:{mean:48,variance:12,max:65},winter:{mean:40,variance:8,max:52},spring:{mean:46,variance:10,max:60},summer:{mean:58,variance:6,max:68},fall:{mean:50,variance:10,max:62}}},defaultBiome:"ocean"},"coastal-waters":{name:"Coastal Waters",description:"Nearshore waters where land effects modify ocean conditions. Tidal influences are strong, and local winds create variable conditions. Sheltered harbors provide refuge.",gameplayImpact:"Land-sea breezes create predictable daily patterns. Tidal currents can be hazardous near headlands. Fog common in certain seasons. Generally safer than open ocean.",parameters:{latitude:44,elevation:0,maritimeInfluence:.9,terrainRoughness:.5,specialFactors:{isOcean:!0,seaType:"coastal",currentStrength:.6,swellSource:"westerlies",baseSwellHeight:3,baseSwellPeriod:7,tidalRange:"moderate",fog:.5,groundType:"water"},temperatureProfile:{annual:{mean:54,variance:16},winter:{mean:44,variance:10},spring:{mean:52,variance:12},summer:{mean:64,variance:8},fall:{mean:56,variance:12}},humidityProfile:{annual:{mean:76,variance:14},winter:{mean:78,variance:12},spring:{mean:76,variance:14},summer:{mean:74,variance:12},fall:{mean:76,variance:14}},dewPointProfile:{annual:{mean:46,variance:12,max:62},winter:{mean:38,variance:8,max:50},spring:{mean:44,variance:10,max:58},summer:{mean:56,variance:6,max:66},fall:{mean:48,variance:10,max:60}}},defaultBiome:"ocean"}},subarctic:{"coastal-taiga":{name:"Coastal Taiga",description:"Northern forests with maritime influence moderating the extreme continental cold. Winter storms bring heavy snow, but temperatures are less severe than inland areas.",gameplayImpact:"Deep winter snow. Coastal storms can create blizzard conditions. Muddy conditions during spring thaw. Short but intense growing season in summer.",parameters:{latitude:62,elevation:500,maritimeInfluence:.7,terrainRoughness:.6,specialFactors:{forestDensity:.8,coastalStorms:.7,groundType:"soil"},temperatureProfile:{annual:{mean:35,variance:30},winter:{mean:20,variance:15},spring:{mean:35,variance:15},summer:{mean:60,variance:10},fall:{mean:40,variance:15}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:80,variance:10},spring:{mean:75,variance:15},summer:{mean:70,variance:15},fall:{mean:75,variance:15}},dewPointProfile:{annual:{mean:25,variance:15,max:58},winter:{mean:8,variance:10,max:25},spring:{mean:25,variance:12,max:45},summer:{mean:50,variance:8,max:62},fall:{mean:30,variance:10,max:50}}},defaultBiome:"boreal-forest"},"continental-taiga":{name:"Continental Taiga",description:"Vast inland northern forests with extreme seasonal temperature variations. Brutally cold winters and surprisingly warm summers with long daylight hours. Real-world examples: Fairbanks Alaska, Yellowknife Canada, Yakutsk Russia.",gameplayImpact:"Extreme winter cold requires specialized gear. Short days in winter, long days in summer. Mosquito swarms in summer. Forest fires risk in dry summers.",parameters:{latitude:65,elevation:1e3,maritimeInfluence:.1,terrainRoughness:.5,specialFactors:{forestDensity:.8,groundType:"soil"},temperatureProfile:{annual:{mean:28,variance:60},winter:{mean:-15,variance:25},spring:{mean:30,variance:20},summer:{mean:63,variance:15},fall:{mean:25,variance:25}},humidityProfile:{annual:{mean:70,variance:15},winter:{mean:75,variance:10},spring:{mean:70,variance:15},summer:{mean:65,variance:20},fall:{mean:70,variance:15}},dewPointProfile:{annual:{mean:15,variance:20,max:58},winter:{mean:-25,variance:12,max:5},spring:{mean:15,variance:15,max:40},summer:{mean:52,variance:10,max:65},fall:{mean:18,variance:15,max:42}}},defaultBiome:"boreal-forest"},"subarctic-highland":{name:"Subarctic Highland",description:"Rugged mountain terrain at high latitudes, with significant winter precipitation falling as snow. Very short growing season limited to a few summer months.",gameplayImpact:"Passes closed most of the year. Avalanche risk. Periods of 24-hour daylight in summer, near-continuous darkness in winter. Dangerous winter conditions.",parameters:{latitude:65,elevation:4e3,maritimeInfluence:.3,terrainRoughness:.9,specialFactors:{forestDensity:.4,groundType:"rock"},temperatureProfile:{annual:{mean:20,variance:45},winter:{mean:-15,variance:20},spring:{mean:20,variance:20},summer:{mean:55,variance:15},fall:{mean:20,variance:20}},humidityProfile:{annual:{mean:60,variance:20},winter:{mean:70,variance:15},spring:{mean:65,variance:20},summer:{mean:55,variance:20},fall:{mean:60,variance:20}},dewPointProfile:{annual:{mean:8,variance:18,max:48},winter:{mean:-25,variance:12,max:0},spring:{mean:8,variance:15,max:35},summer:{mean:42,variance:10,max:55},fall:{mean:10,variance:12,max:38}}},defaultBiome:"tundra"},"northern-grassland":{name:"Northern Grassland",description:"Cold steppe environments with extreme temperature shifts between seasons. Winter brings harsh conditions with wind-driven snow, while summers are surprisingly warm.",gameplayImpact:"Winter travel is dangerous but easier on frozen ground. Spring mud season makes travel difficult. Little shelter from elements. Dust storms in dry periods.",parameters:{latitude:60,elevation:800,maritimeInfluence:.1,terrainRoughness:.3,specialFactors:{grasslandDensity:.9,highDiurnalVariation:!0,groundType:"soil"},temperatureProfile:{annual:{mean:30,variance:50},winter:{mean:-10,variance:25},spring:{mean:30,variance:20},summer:{mean:70,variance:15},fall:{mean:30,variance:25}},humidityProfile:{annual:{mean:55,variance:20},winter:{mean:65,variance:15},spring:{mean:60,variance:20},summer:{mean:50,variance:20},fall:{mean:55,variance:20}},dewPointProfile:{annual:{mean:18,variance:18,max:62},winter:{mean:-18,variance:12,max:8},spring:{mean:20,variance:15,max:48},summer:{mean:52,variance:10,max:68},fall:{mean:22,variance:12,max:48}}},defaultBiome:"temperate-grassland"},"subarctic-maritime":{name:"Subarctic Maritime",description:"Coastal regions with significant ocean influence. Moderated temperatures compared to continental areas at the same latitude, but prone to powerful coastal storms.",gameplayImpact:"Challenging sailing conditions with frequent storms. Snow mixed with rain in winter creates hazardous conditions. Coastal infrastructure vulnerable to storm damage.",parameters:{latitude:62,elevation:100,maritimeInfluence:.9,terrainRoughness:.6,specialFactors:{coastalStorms:.9,highWinds:.8,groundType:"rock"},temperatureProfile:{annual:{mean:40,variance:25},winter:{mean:25,variance:15},spring:{mean:38,variance:15},summer:{mean:55,variance:10},fall:{mean:42,variance:15}},humidityProfile:{annual:{mean:80,variance:15},winter:{mean:85,variance:10},spring:{mean:80,variance:15},summer:{mean:75,variance:15},fall:{mean:80,variance:15}},dewPointProfile:{annual:{mean:32,variance:12,max:55},winter:{mean:18,variance:8,max:32},spring:{mean:30,variance:10,max:45},summer:{mean:48,variance:8,max:58},fall:{mean:35,variance:10,max:50}}},defaultBiome:"boreal-forest"},"peatland-muskeg":{name:"Peatland/Muskeg",description:"Waterlogged terrain with sphagnum moss and stunted trees growing on partially frozen soil. Frozen in winter, but thaws into challenging terrain in summer.",gameplayImpact:"Extremely difficult terrain for travel when thawed. Firm travel surface in winter when frozen. Insect swarms in summer. Fire risk in dry periods despite wet appearance.",parameters:{latitude:65,elevation:300,maritimeInfluence:.4,terrainRoughness:.3,specialFactors:{standingWater:.7,forestDensity:.4,groundType:"peat"},temperatureProfile:{annual:{mean:30,variance:45},winter:{mean:-10,variance:20},spring:{mean:30,variance:20},summer:{mean:65,variance:15},fall:{mean:35,variance:20}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:80,variance:10},spring:{mean:80,variance:15},summer:{mean:70,variance:20},fall:{mean:70,variance:15}},dewPointProfile:{annual:{mean:22,variance:18,max:60},winter:{mean:-15,variance:10,max:10},spring:{mean:22,variance:12,max:45},summer:{mean:55,variance:10,max:68},fall:{mean:28,variance:12,max:50}}},defaultBiome:"tundra"},"subarctic-waters":{name:"Subarctic Waters",description:"Cold, stormy seas with frequent fog and unpredictable weather. Rich fishing grounds but treacherous conditions. Seasonal ice possible in winter months.",gameplayImpact:"Dangerous sailing conditions year-round. Fog banks appear suddenly. Strong currents near coastlines. Winter storms can be devastating. Excellent fishing when conditions allow.",parameters:{latitude:62,elevation:0,maritimeInfluence:1,terrainRoughness:.4,specialFactors:{isOcean:!0,seaType:"open",currentStrength:.6,swellSource:"westerlies",baseSwellHeight:8,baseSwellPeriod:10,fog:.7,stormFrequency:.6,groundType:"water"},temperatureProfile:{annual:{mean:42,variance:20},winter:{mean:32,variance:12},spring:{mean:40,variance:14},summer:{mean:52,variance:10},fall:{mean:44,variance:14}},humidityProfile:{annual:{mean:85,variance:10},winter:{mean:82,variance:10},spring:{mean:85,variance:10},summer:{mean:88,variance:8},fall:{mean:85,variance:10}},dewPointProfile:{annual:{mean:36,variance:14,max:52},winter:{mean:26,variance:10,max:38},spring:{mean:34,variance:12,max:48},summer:{mean:48,variance:8,max:58},fall:{mean:38,variance:12,max:52}}},defaultBiome:"ocean"}},tropical:{"rainforest-basin":{name:"Rainforest Basin",description:"Dense, humid rainforests with consistent temperatures and rainfall throughout the year. Daily afternoon thunderstorms are common. Real-world examples: Singapore, Manaus Brazil, Iquitos Peru.",gameplayImpact:"Dense foliage limits visibility. Heavy rainfall makes rivers swell and can flood low areas. High humidity can cause equipment to deteriorate. Heat exhaustion is a constant risk.",parameters:{latitude:5,elevation:500,maritimeInfluence:.7,terrainRoughness:.4,specialFactors:{hasMonsoonSeason:!0,highRainfall:!0,forestDensity:.9,groundType:"soil"},temperatureProfile:{annual:{mean:80,variance:4},winter:{mean:80,variance:4},spring:{mean:80,variance:4},summer:{mean:81,variance:4},fall:{mean:80,variance:4}},humidityProfile:{annual:{mean:85,variance:10},winter:{mean:85,variance:10},spring:{mean:86,variance:8},summer:{mean:84,variance:10},fall:{mean:85,variance:8}},dewPointProfile:{annual:{mean:74,variance:4,max:82},winter:{mean:74,variance:4,max:82},spring:{mean:75,variance:4,max:83},summer:{mean:74,variance:4,max:82},fall:{mean:74,variance:4,max:82}}},defaultBiome:"tropical-rainforest"},"equatorial-highland":{name:"Equatorial Highland",description:'Cool mountain environments near the equator, often called "eternal spring" climates. Morning fog and afternoon rain are common, with pleasant temperatures year-round.',gameplayImpact:"Morning fog can limit visibility. Steep terrain slows travel. Afternoon storms develop quickly and can cause flash floods in ravines.",parameters:{latitude:5,elevation:5e3,maritimeInfluence:.4,terrainRoughness:.7,specialFactors:{hasFog:!0,volcanicActivity:.3,groundType:"rock"},temperatureProfile:{annual:{mean:70,variance:5},winter:{mean:69,variance:5},spring:{mean:70,variance:5},summer:{mean:71,variance:5},fall:{mean:70,variance:5}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:75,variance:15},spring:{mean:78,variance:15},summer:{mean:74,variance:15},fall:{mean:73,variance:15}},dewPointProfile:{annual:{mean:55,variance:6,max:68},winter:{mean:54,variance:6,max:66},spring:{mean:56,variance:6,max:68},summer:{mean:55,variance:6,max:68},fall:{mean:54,variance:6,max:66}}},defaultBiome:"tropical-rainforest"},"island-archipelago":{name:"Island Archipelago",description:"Scattered islands with extremely stable temperatures and consistent trade winds. Afternoon showers are common but typically brief.",gameplayImpact:"Predictable weather patterns with reliable sea breezes. Ocean travel affected by afternoon squalls. Volcanic islands may have unique microclimates.",parameters:{latitude:5,elevation:200,maritimeInfluence:.95,terrainRoughness:.5,specialFactors:{highRainfall:!0,coastalWinds:.7,volcanicActivity:.4,groundType:"sand"},temperatureProfile:{annual:{mean:80,variance:3},winter:{mean:79,variance:3},spring:{mean:80,variance:3},summer:{mean:81,variance:3},fall:{mean:80,variance:3}},humidityProfile:{annual:{mean:80,variance:8},winter:{mean:80,variance:8},spring:{mean:80,variance:8},summer:{mean:80,variance:8},fall:{mean:80,variance:8}},dewPointProfile:{annual:{mean:72,variance:4,max:80},winter:{mean:71,variance:4,max:78},spring:{mean:72,variance:4,max:80},summer:{mean:73,variance:4,max:81},fall:{mean:72,variance:4,max:80}}},defaultBiome:"tropical-rainforest"},"volcanic-zone":{name:"Volcanic Zone",description:"Dramatic landscapes with active volcanoes and unpredictable local weather patterns. Fertile soil supports lush vegetation despite rugged terrain.",gameplayImpact:"Potentially hazardous volcanic events. Unpredictable local weather due to terrain complexity. Steep slopes and difficult terrain. Frequent earth tremors.",parameters:{latitude:5,elevation:3e3,maritimeInfluence:.5,terrainRoughness:.9,specialFactors:{volcanicActivity:.8,tectonicActivity:.7,hasFog:!0,groundType:"rock"},temperatureProfile:{annual:{mean:75,variance:7},winter:{mean:74,variance:7},spring:{mean:75,variance:7},summer:{mean:76,variance:7},fall:{mean:75,variance:7}},humidityProfile:{annual:{mean:70,variance:20},winter:{mean:70,variance:20},spring:{mean:72,variance:20},summer:{mean:68,variance:20},fall:{mean:70,variance:20}},dewPointProfile:{annual:{mean:62,variance:8,max:75},winter:{mean:61,variance:8,max:74},spring:{mean:63,variance:8,max:76},summer:{mean:62,variance:8,max:75},fall:{mean:62,variance:8,max:75}}},defaultBiome:"tropical-rainforest"},"equatorial-swamp":{name:"Equatorial Swamp",description:"Low-lying, waterlogged areas with extremely high humidity and heat. Standing water is common year-round with minimal seasonal variation.",gameplayImpact:"Difficult terrain with standing water. Disease risk from insects. Limited visibility in tangled vegetation. Almost constant high humidity affects equipment and comfort.",parameters:{latitude:5,elevation:100,maritimeInfluence:.8,terrainRoughness:.3,specialFactors:{highRainfall:!0,standingWater:.9,forestDensity:.7,groundType:"clay"},temperatureProfile:{annual:{mean:84,variance:5},winter:{mean:83,variance:5},spring:{mean:84,variance:5},summer:{mean:85,variance:5},fall:{mean:84,variance:5}},humidityProfile:{annual:{mean:90,variance:5},winter:{mean:90,variance:5},spring:{mean:90,variance:5},summer:{mean:90,variance:5},fall:{mean:90,variance:5}},dewPointProfile:{annual:{mean:78,variance:3,max:86},winter:{mean:77,variance:3,max:85},spring:{mean:78,variance:3,max:86},summer:{mean:79,variance:3,max:87},fall:{mean:78,variance:3,max:86}}},defaultBiome:"tropical-seasonal"},"tropical-seas":{name:"Tropical Seas",description:"Warm, calm waters with gentle trade wind swells. Generally excellent sailing conditions with predictable weather patterns. Occasional afternoon squalls, especially near islands.",gameplayImpact:"Easy sailing most of the time. Afternoon squalls may require shelter. Heat affects crew stamina. Doldrums possible near equator with becalmed conditions.",parameters:{latitude:10,elevation:0,maritimeInfluence:1,terrainRoughness:.2,specialFactors:{isOcean:!0,seaType:"open",currentStrength:.4,swellSource:"trade",baseSwellHeight:3,baseSwellPeriod:10,doldrums:.3,squalls:.4,groundType:"water"},temperatureProfile:{annual:{mean:82,variance:4},winter:{mean:80,variance:4},spring:{mean:82,variance:4},summer:{mean:84,variance:3},fall:{mean:82,variance:4}},humidityProfile:{annual:{mean:80,variance:8},winter:{mean:78,variance:8},spring:{mean:80,variance:8},summer:{mean:82,variance:6},fall:{mean:80,variance:8}},dewPointProfile:{annual:{mean:74,variance:4,max:82},winter:{mean:72,variance:4,max:80},spring:{mean:74,variance:4,max:82},summer:{mean:76,variance:3,max:84},fall:{mean:74,variance:4,max:82}}},defaultBiome:"ocean"},"coral-reef-waters":{name:"Coral Reef Waters",description:"Shallow, crystal-clear tropical waters over reef systems. Beautiful but hazardous for navigation - coral heads and sudden shallows demand careful piloting.",gameplayImpact:"Stunning underwater visibility but extreme navigation hazards. Grounding on reef can be catastrophic. Rich marine life for fishing and diving. Calm conditions inside reef barriers.",parameters:{latitude:15,elevation:0,maritimeInfluence:1,terrainRoughness:.6,specialFactors:{isOcean:!0,seaType:"coastal",currentStrength:.3,swellSource:"trade",baseSwellHeight:2,baseSwellPeriod:8,reefs:.9,shallows:.8,groundType:"water"},temperatureProfile:{annual:{mean:82,variance:4},winter:{mean:80,variance:4},spring:{mean:82,variance:4},summer:{mean:84,variance:3},fall:{mean:82,variance:4}},humidityProfile:{annual:{mean:78,variance:10},winter:{mean:76,variance:10},spring:{mean:78,variance:10},summer:{mean:80,variance:8},fall:{mean:78,variance:10}},dewPointProfile:{annual:{mean:72,variance:4,max:80},winter:{mean:70,variance:4,max:78},spring:{mean:72,variance:4,max:80},summer:{mean:74,variance:3,max:82},fall:{mean:72,variance:4,max:80}}},defaultBiome:"ocean"}},special:{"mountain-microclimate":{name:"Mountain Microclimate",description:"Protected valleys, sunny slopes, or wind-sheltered areas that create distinct local climates that differ significantly from the surrounding region.",gameplayImpact:"May support agriculture or habitation in otherwise inhospitable areas. Distinct flora and fauna. Rapid weather changes when leaving the protected zone.",parameters:{latitude:40,elevation:4e3,maritimeInfluence:.4,terrainRoughness:.9,specialFactors:{microclimateFactor:.9,hasFog:!0,lowAtmosphericPressure:.7,groundType:"rock"},temperatureProfile:{annual:{mean:50,variance:15},winter:{mean:35,variance:10},spring:{mean:48,variance:12},summer:{mean:65,variance:12},fall:{mean:52,variance:10}},humidityProfile:{annual:{mean:65,variance:25},winter:{mean:65,variance:20},spring:{mean:70,variance:25},summer:{mean:60,variance:30},fall:{mean:65,variance:25}},dewPointProfile:{annual:{mean:38,variance:12,max:60},winter:{mean:25,variance:10,max:42},spring:{mean:38,variance:12,max:55},summer:{mean:52,variance:10,max:65},fall:{mean:40,variance:10,max:55}}},defaultBiome:"temperate-deciduous",compatibleBands:["temperate","subtropical","subarctic","boreal"]},"geothermal-zone":{name:"Geothermal Zone",description:"Areas with active volcanic or geothermal features creating localized heating and unique environmental conditions. Hot springs, geysers, and steam vents are common.",gameplayImpact:"Local micro-habitats in otherwise harsh environments. Potential health benefits/hazards from mineral waters. Unpredictable geologic activity. Unique resources.",parameters:{latitude:55,elevation:2e3,maritimeInfluence:.5,terrainRoughness:.8,specialFactors:{volcanicActivity:.8,geothermalFeatures:.9,tectonicActivity:.7,sulphurVents:.6,groundType:"rock"},temperatureProfile:{annual:{mean:55,variance:15},winter:{mean:45,variance:10},spring:{mean:52,variance:12},summer:{mean:65,variance:12},fall:{mean:57,variance:10}},humidityProfile:{annual:{mean:70,variance:20},winter:{mean:75,variance:15},spring:{mean:70,variance:20},summer:{mean:65,variance:20},fall:{mean:70,variance:20}},dewPointProfile:{annual:{mean:45,variance:12,max:62},winter:{mean:38,variance:10,max:52},spring:{mean:44,variance:12,max:58},summer:{mean:52,variance:10,max:65},fall:{mean:46,variance:10,max:58}}},defaultBiome:"temperate-rainforest",compatibleBands:["polar","tropical","subtropical","temperate","subarctic","boreal"]},"convergence-zone":{name:"Convergence Zone",description:"Areas where different climate systems regularly collide, creating highly variable and often dramatic weather patterns. Rapid changes are the norm rather than the exception.",gameplayImpact:"Unpredictable weather requires flexible planning. Storms develop rapidly. Temperature swings require adaptable clothing. Weather forecasting particularly challenging.",parameters:{latitude:45,elevation:1e3,maritimeInfluence:.6,terrainRoughness:.5,specialFactors:{weatherConvergence:.9,highWeatherVariability:.8,thunderstorms:.7,strongSeasonalShifts:.7,groundType:"soil"},temperatureProfile:{annual:{mean:55,variance:40},winter:{mean:30,variance:25},spring:{mean:50,variance:30},summer:{mean:75,variance:25},fall:{mean:55,variance:30}},humidityProfile:{annual:{mean:65,variance:35},winter:{mean:70,variance:30},spring:{mean:70,variance:35},summer:{mean:60,variance:40},fall:{mean:65,variance:35}},dewPointProfile:{annual:{mean:42,variance:18,max:72},winter:{mean:25,variance:15,max:48},spring:{mean:42,variance:18,max:68},summer:{mean:58,variance:15,max:75},fall:{mean:42,variance:15,max:65}}},defaultBiome:"temperate-deciduous",compatibleBands:["subtropical","temperate","subarctic","boreal"]},"rain-shadow":{name:"Rain Shadow",description:"Dry regions on the leeward side of mountain ranges where most moisture is blocked by the mountains. Stark contrast often exists between opposite sides of the same mountain range.",gameplayImpact:"Water scarcity is a primary concern. Large temperature variations between day and night. Vegetation and resources differ dramatically across short distances.",parameters:{latitude:40,elevation:2500,maritimeInfluence:.1,terrainRoughness:.7,specialFactors:{rainShadowEffect:.9,hasDrySeason:!0,highDiurnalVariation:!0,groundType:"sand"},temperatureProfile:{annual:{mean:60,variance:35},winter:{mean:35,variance:20},spring:{mean:55,variance:25},summer:{mean:85,variance:20},fall:{mean:60,variance:25}},humidityProfile:{annual:{mean:30,variance:15},winter:{mean:35,variance:15},spring:{mean:30,variance:15},summer:{mean:20,variance:10},fall:{mean:30,variance:15}},dewPointProfile:{annual:{mean:28,variance:12,max:52},winter:{mean:18,variance:10,max:35},spring:{mean:28,variance:12,max:48},summer:{mean:40,variance:10,max:58},fall:{mean:28,variance:10,max:48}}},defaultBiome:"desert",compatibleBands:["subtropical","temperate","subarctic","boreal"]},"coastal-desert":{name:"Coastal Desert",description:"Unusual arid regions adjacent to oceans, created by cold offshore currents. Often characterized by morning fog but minimal precipitation, creating unique ecosystems.",gameplayImpact:"Morning fog provides water for unique desert-adapted plants. Fishing opportunities despite desert conditions. Cooler temperatures than inland deserts at the same latitude.",parameters:{latitude:25,elevation:500,maritimeInfluence:.7,terrainRoughness:.6,specialFactors:{coldOceanCurrent:.9,coastalFog:.8,hasDrySeason:!0,groundType:"sand"},temperatureProfile:{annual:{mean:65,variance:15},winter:{mean:60,variance:10},spring:{mean:63,variance:10},summer:{mean:70,variance:10},fall:{mean:67,variance:10}},humidityProfile:{annual:{mean:60,variance:25},winter:{mean:65,variance:20},spring:{mean:60,variance:25},summer:{mean:55,variance:25},fall:{mean:60,variance:25}},dewPointProfile:{annual:{mean:50,variance:8,max:62},winter:{mean:48,variance:6,max:58},spring:{mean:50,variance:6,max:60},summer:{mean:54,variance:6,max:65},fall:{mean:52,variance:6,max:62}}},defaultBiome:"desert",compatibleBands:["subtropical","temperate"]},"strait-passage":{name:"Strait Passage",description:"Narrow waterway connecting larger bodies of water. Strong tidal currents accelerate through the constriction, creating challenging but predictable sailing conditions.",gameplayImpact:"Timing is everything - slack tide required for safe passage. Strong currents can exceed vessel speed. Excellent defensive chokepoint. Weather funnels through strait.",parameters:{latitude:45,elevation:0,maritimeInfluence:1,terrainRoughness:.7,specialFactors:{isOcean:!0,seaType:"strait",currentStrength:.9,swellSource:"local",baseSwellHeight:2,baseSwellPeriod:5,tidalRange:"macro",tidalCurrents:.9,groundType:"water"},temperatureProfile:{annual:{mean:54,variance:18},winter:{mean:44,variance:12},spring:{mean:52,variance:14},summer:{mean:64,variance:10},fall:{mean:56,variance:14}},humidityProfile:{annual:{mean:75,variance:15},winter:{mean:78,variance:12},spring:{mean:75,variance:15},summer:{mean:72,variance:12},fall:{mean:75,variance:15}},dewPointProfile:{annual:{mean:44,variance:12,max:60},winter:{mean:36,variance:10,max:48},spring:{mean:42,variance:12,max:56},summer:{mean:54,variance:8,max:64},fall:{mean:46,variance:10,max:58}}},defaultBiome:"ocean",compatibleBands:["polar","subarctic","boreal","temperate","subtropical","tropical"]},"archipelago-waters":{name:"Archipelago Waters",description:"Complex waters threading between numerous islands. Sheltered passages alternate with exposed crossings. Local knowledge is essential for safe navigation.",gameplayImpact:"Many route options but navigation is complex. Shelter always nearby. Currents unpredictable between islands. Excellent for ambushes and evasion. Rich fishing.",parameters:{latitude:40,elevation:0,maritimeInfluence:.95,terrainRoughness:.7,specialFactors:{isOcean:!0,seaType:"coastal",currentStrength:.5,swellSource:"local",baseSwellHeight:2,baseSwellPeriod:6,islandEffect:!0,sheltered:.6,groundType:"water"},temperatureProfile:{annual:{mean:58,variance:16},winter:{mean:48,variance:10},spring:{mean:56,variance:12},summer:{mean:68,variance:8},fall:{mean:60,variance:12}},humidityProfile:{annual:{mean:76,variance:14},winter:{mean:78,variance:12},spring:{mean:76,variance:14},summer:{mean:74,variance:12},fall:{mean:76,variance:14}},dewPointProfile:{annual:{mean:48,variance:12,max:64},winter:{mean:40,variance:10,max:52},spring:{mean:46,variance:10,max:58},summer:{mean:58,variance:8,max:68},fall:{mean:50,variance:10,max:62}}},defaultBiome:"ocean",compatibleBands:["subarctic","boreal","temperate","subtropical","tropical"]}}},C0=n=>{const e=fn[n]||{},r=Object.entries(e).map(([l,c])=>({id:l,...c,latitudeBand:n})),s=fn.special||{};return Object.entries(s).forEach(([l,c])=>{c.compatibleBands&&c.compatibleBands.includes(n)&&r.push({id:l,...c,latitudeBand:"special",originalLatitudeBand:n})}),r},Od=(n,e)=>{let r=fn[n]?.[e];return!r&&n==="special"&&(r=fn.special?.[e]),!r&&(r=fn.special?.[e],r)?{id:e,...r,latitudeBand:"special"}:r?{id:e,...r,latitudeBand:n}:null},pv=()=>Object.entries(G4).map(([n,e])=>({key:n,...e})),ba=n=>n?{biome:n.defaultBiome||"temperate",...n.parameters,templateName:n.name,templateDescription:n.description}:null,gv=n=>n?n.parameters?.specialFactors?.isOcean===!0||n.defaultBiome==="ocean":!1,Y4=n=>C0(n).filter(gv),K4=n=>C0(n).filter(r=>!gv(r)),Ld=({show:n,onHide:e,initialLatitudeBand:r=null,mapPosition:s=null,initialContinentId:l=null})=>{const{createRegion:c,worldContinents:d}=Kn(),[m,h]=y.useState(r||"temperate"),[p,g]=y.useState(""),[x,w]=y.useState(""),[S,b]=y.useState(l||""),[N,k]=y.useState("land"),C=N==="ocean"?Y4(m):K4(m),E=p?Od(m,p):null;y.useEffect(()=>{n&&r&&h(r)},[n,r]),y.useEffect(()=>{n&&l&&b(l)},[n,l]),y.useEffect(()=>{C.length>0?g(C[0].id):g("")},[m,N]);const P=L=>{if(L.preventDefault(),!x.trim()){alert("Please enter a region name");return}if(!p){alert("Please select a template");return}const A=ba(E),$={name:x.trim(),latitudeBand:m,climate:A,templateId:p};S&&($.continentId=S),s&&($.mapPosition={x:s.x,y:s.y}),c($),w(""),h("temperate"),b(""),k("land"),e()},_=pv();return a.jsxs(Re,{show:n,onHide:e,size:"lg",centered:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsx(Re.Title,{children:"Create New Region"})}),a.jsx(Re.Body,{children:a.jsxs(xe,{onSubmit:P,children:[a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Region Name"}),a.jsx(xe.Control,{type:"text",placeholder:"e.g., The Scorching Wastes, Frostpeak Mountains",value:x,onChange:L=>w(L.target.value),autoFocus:!0})]}),d.length>0&&a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Continent"}),a.jsxs(xe.Select,{value:S,onChange:L=>b(L.target.value),children:[a.jsx("option",{value:"",children:"Uncategorized"}),d.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]}),a.jsx(xe.Text,{className:"text-muted",children:"Group this location under a continent for organization"})]}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Latitude Band"}),a.jsx(xe.Select,{value:m,onChange:L=>h(L.target.value),children:_.map(L=>a.jsxs("option",{value:L.key,children:[L.label," (",L.range,")"]},L.key))}),a.jsx(xe.Text,{className:"text-muted",children:"Determines sunrise/sunset times and seasonal variation"})]}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Region Type"}),a.jsx("div",{children:a.jsxs(y1,{children:[a.jsx(Rd,{id:"region-type-land",type:"radio",variant:N==="land"?"primary":"outline-primary",name:"regionType",value:"land",checked:N==="land",onChange:L=>k(L.currentTarget.value),children:"Land"}),a.jsx(Rd,{id:"region-type-ocean",type:"radio",variant:N==="ocean"?"info":"outline-info",name:"regionType",value:"ocean",checked:N==="ocean",onChange:L=>k(L.currentTarget.value),children:"Ocean"})]})}),a.jsx(xe.Text,{className:"text-muted",children:N==="ocean"?"Ocean regions display sea state, wave height, and sailing conditions":"Land regions display standard weather, ground conditions, and snow accumulation"})]}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Region Template"}),C.length>0?a.jsxs(a.Fragment,{children:[a.jsx(xe.Select,{value:p,onChange:L=>g(L.target.value),children:C.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))}),a.jsxs(xe.Text,{className:"text-muted",children:["Pre-configured climate settings for common ",N," types"]})]}):a.jsxs(Rt,{variant:"warning",className:"mb-0",children:["No ",N," templates available for this latitude band. Try a different latitude or region type."]})]}),E&&a.jsxs(Rt,{variant:"info",children:[a.jsx(Rt.Heading,{children:E.name}),a.jsx("p",{className:"mb-2",children:E.description}),E.gameplayImpact&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{}),a.jsxs("p",{className:"mb-0",children:[a.jsx("strong",{children:"Gameplay Impact:"})," ",E.gameplayImpact]})]})]})]})}),a.jsxs(Re.Footer,{children:[a.jsx(Se,{variant:"secondary",onClick:e,children:"Cancel"}),a.jsx(Se,{variant:"primary",onClick:P,children:"Create Region"})]})]})};function vv(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.69,13.2c0-0.99,0.19-1.94,0.58-2.85c0.39-0.91,0.91-1.68,1.57-2.33s1.44-1.17,2.34-1.56c0.9-0.39,1.85-0.58,2.84-0.58
	c0.99,0,1.94,0.19,2.85,0.58c0.9,0.39,1.68,0.91,2.33,1.56c0.65,0.65,1.17,1.43,1.56,2.33s0.58,1.85,0.58,2.85
	c0,1.62-0.48,3.06-1.44,4.34c-0.96,1.27-2.2,2.14-3.71,2.61v3.29h-4.24v-3.25c-1.54-0.45-2.81-1.32-3.79-2.61S7.69,14.83,7.69,13.2z
	 M9.3,13.2c0,1.55,0.56,2.88,1.69,3.99c1.11,1.12,2.45,1.68,4.02,1.68c1.03,0,1.99-0.25,2.86-0.76c0.88-0.51,1.57-1.2,2.09-2.07
	c0.51-0.87,0.77-1.82,0.77-2.85c0-0.77-0.15-1.5-0.45-2.21s-0.71-1.31-1.22-1.82c-0.51-0.51-1.12-0.92-1.83-1.22
	c-0.71-0.3-1.44-0.45-2.21-0.45c-0.77,0-1.5,0.15-2.21,0.45s-1.31,0.71-1.82,1.22c-0.51,0.51-0.92,1.12-1.22,1.82
	C9.45,11.7,9.3,12.43,9.3,13.2z M9.88,13.56v-0.72h2.17v0.72H9.88z M10.97,10.02l0.52-0.52l1.52,1.52l-0.52,0.53L10.97,10.02z
	 M13.5,14.95c0-0.42,0.15-0.78,0.44-1.09c0.29-0.31,0.65-0.47,1.06-0.48l2.73-4.49l0.66,0.35l-2.02,4.83
	c0.18,0.25,0.26,0.54,0.26,0.88c0,0.44-0.15,0.81-0.46,1.11c-0.31,0.3-0.68,0.45-1.12,0.45c-0.43,0-0.8-0.15-1.1-0.45
	C13.65,15.76,13.5,15.39,13.5,14.95z M14.81,10.28V8.12h0.69v2.17H14.81z M17.75,13.55v-0.74h2.17v0.74H17.75z`},child:[]}]})(n)}function Hl(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.89,17.6c0-0.99,0.31-1.88,0.93-2.65s1.41-1.27,2.38-1.49c0.26-1.17,0.85-2.14,1.78-2.88c0.93-0.75,2-1.12,3.22-1.12
	c1.18,0,2.24,0.36,3.16,1.09c0.93,0.73,1.53,1.66,1.8,2.8h0.27c1.18,0,2.18,0.41,3.01,1.24s1.25,1.83,1.25,3
	c0,1.18-0.42,2.18-1.25,3.01s-1.83,1.25-3.01,1.25H8.16c-0.58,0-1.13-0.11-1.65-0.34S5.52,21,5.14,20.62
	c-0.38-0.38-0.68-0.84-0.91-1.36S3.89,18.17,3.89,17.6z M5.34,17.6c0,0.76,0.28,1.42,0.82,1.96s1.21,0.82,1.99,0.82h9.28
	c0.77,0,1.44-0.27,1.99-0.82c0.55-0.55,0.83-1.2,0.83-1.96c0-0.76-0.27-1.42-0.83-1.96c-0.55-0.54-1.21-0.82-1.99-0.82h-1.39
	c-0.1,0-0.15-0.05-0.15-0.15l-0.07-0.49c-0.1-0.94-0.5-1.73-1.19-2.35s-1.51-0.93-2.45-0.93c-0.94,0-1.76,0.31-2.46,0.94
	c-0.7,0.62-1.09,1.41-1.18,2.34l-0.07,0.42c0,0.1-0.05,0.15-0.16,0.15l-0.45,0.07c-0.72,0.06-1.32,0.36-1.81,0.89
	C5.59,16.24,5.34,16.87,5.34,17.6z M14.19,8.88c-0.1,0.09-0.08,0.16,0.07,0.21c0.43,0.19,0.79,0.37,1.08,0.55
	c0.11,0.03,0.19,0.02,0.22-0.03c0.61-0.57,1.31-0.86,2.12-0.86c0.81,0,1.5,0.27,2.1,0.81c0.59,0.54,0.92,1.21,0.99,2l0.09,0.64h1.42
	c0.65,0,1.21,0.23,1.68,0.7c0.47,0.47,0.7,1.02,0.7,1.66c0,0.6-0.21,1.12-0.62,1.57s-0.92,0.7-1.53,0.77c-0.1,0-0.15,0.05-0.15,0.16
	v1.13c0,0.11,0.05,0.16,0.15,0.16c1.01-0.06,1.86-0.46,2.55-1.19s1.04-1.6,1.04-2.6c0-1.06-0.37-1.96-1.12-2.7
	c-0.75-0.75-1.65-1.12-2.7-1.12h-0.15c-0.26-1-0.81-1.82-1.65-2.47c-0.83-0.65-1.77-0.97-2.8-0.97C16.28,7.29,15.11,7.82,14.19,8.88
	z`},child:[]}]})(n)}function _d(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M1.56,16.9c0,0.9,0.22,1.73,0.66,2.49s1.04,1.36,1.8,1.8c0.76,0.44,1.58,0.66,2.47,0.66h10.83c0.89,0,1.72-0.22,2.48-0.66
	c0.76-0.44,1.37-1.04,1.81-1.8c0.44-0.76,0.67-1.59,0.67-2.49c0-0.66-0.14-1.33-0.42-2C22.62,13.98,23,12.87,23,11.6
	c0-0.71-0.14-1.39-0.41-2.04c-0.27-0.65-0.65-1.2-1.12-1.67C21,7.42,20.45,7.04,19.8,6.77c-0.65-0.28-1.33-0.41-2.04-0.41
	c-1.48,0-2.77,0.58-3.88,1.74c-0.77-0.44-1.67-0.66-2.7-0.66c-1.41,0-2.65,0.44-3.73,1.31c-1.08,0.87-1.78,1.99-2.08,3.35
	c-1.12,0.26-2.03,0.83-2.74,1.73S1.56,15.75,1.56,16.9z M3.27,16.9c0-0.84,0.28-1.56,0.84-2.17c0.56-0.61,1.26-0.96,2.1-1.06
	l0.5-0.03c0.12,0,0.19-0.06,0.19-0.18l0.07-0.54c0.14-1.08,0.61-1.99,1.41-2.71c0.8-0.73,1.74-1.09,2.81-1.09
	c1.1,0,2.06,0.37,2.87,1.1c0.82,0.73,1.27,1.63,1.37,2.71l0.07,0.58c0.02,0.11,0.09,0.17,0.21,0.17h1.61c0.88,0,1.64,0.32,2.28,0.96
	c0.64,0.64,0.96,1.39,0.96,2.27c0,0.91-0.32,1.68-0.95,2.32c-0.63,0.64-1.4,0.96-2.28,0.96H6.49c-0.88,0-1.63-0.32-2.27-0.97
	C3.59,18.57,3.27,17.8,3.27,16.9z M9.97,4.63c0,0.24,0.08,0.45,0.24,0.63l0.66,0.64c0.25,0.19,0.46,0.27,0.64,0.25
	c0.21,0,0.39-0.09,0.55-0.26s0.24-0.38,0.24-0.62c0-0.24-0.09-0.44-0.26-0.59l-0.59-0.66c-0.18-0.16-0.38-0.24-0.61-0.24
	c-0.24,0-0.45,0.08-0.62,0.25C10.05,4.19,9.97,4.39,9.97,4.63z M15.31,9.06c0.69-0.67,1.51-1,2.45-1c0.99,0,1.83,0.34,2.52,1.03
	c0.69,0.69,1.04,1.52,1.04,2.51c0,0.62-0.17,1.24-0.51,1.84C19.84,12.48,18.68,12,17.32,12H17C16.75,10.91,16.19,9.93,15.31,9.06z
	 M16.94,3.78c0,0.26,0.08,0.46,0.23,0.62s0.35,0.23,0.59,0.23c0.26,0,0.46-0.08,0.62-0.23c0.16-0.16,0.23-0.36,0.23-0.62V1.73
	c0-0.24-0.08-0.43-0.24-0.59s-0.36-0.23-0.61-0.23c-0.24,0-0.43,0.08-0.59,0.23s-0.23,0.35-0.23,0.59V3.78z M22.46,6.07
	c0,0.26,0.07,0.46,0.22,0.62c0.21,0.16,0.42,0.24,0.62,0.24c0.18,0,0.38-0.08,0.59-0.24l1.43-1.43c0.16-0.18,0.24-0.39,0.24-0.64
	c0-0.24-0.08-0.44-0.24-0.6c-0.16-0.16-0.36-0.24-0.59-0.24c-0.24,0-0.43,0.08-0.58,0.24l-1.47,1.43
	C22.53,5.64,22.46,5.84,22.46,6.07z M23.25,17.91c0,0.24,0.08,0.45,0.25,0.63l0.65,0.63c0.15,0.16,0.34,0.24,0.58,0.24
	s0.44-0.08,0.6-0.25c0.16-0.17,0.24-0.37,0.24-0.62c0-0.22-0.08-0.42-0.24-0.58l-0.65-0.65c-0.16-0.16-0.35-0.24-0.57-0.24
	c-0.24,0-0.44,0.08-0.6,0.24C23.34,17.47,23.25,17.67,23.25,17.91z M24.72,11.6c0,0.23,0.09,0.42,0.26,0.58
	c0.16,0.16,0.37,0.24,0.61,0.24h2.04c0.23,0,0.42-0.08,0.58-0.23s0.23-0.35,0.23-0.59c0-0.24-0.08-0.44-0.23-0.6
	s-0.35-0.25-0.58-0.25h-2.04c-0.24,0-0.44,0.08-0.61,0.25C24.8,11.17,24.72,11.37,24.72,11.6z`},child:[]}]})(n)}function Wl(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`},child:[]}]})(n)}function k0(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.62,21.05c0-0.24,0.08-0.45,0.25-0.61c0.17-0.16,0.38-0.24,0.63-0.24h18.67c0.25,0,0.45,0.08,0.61,0.24
	c0.16,0.16,0.24,0.36,0.24,0.61c0,0.23-0.08,0.43-0.25,0.58c-0.17,0.16-0.37,0.23-0.6,0.23H3.5c-0.25,0-0.46-0.08-0.63-0.23
	C2.7,21.47,2.62,21.28,2.62,21.05z M5.24,17.91c0-0.24,0.09-0.44,0.26-0.6c0.15-0.15,0.35-0.23,0.59-0.23h18.67
	c0.23,0,0.42,0.08,0.58,0.24c0.16,0.16,0.23,0.35,0.23,0.59c0,0.24-0.08,0.44-0.23,0.6c-0.16,0.17-0.35,0.25-0.58,0.25H6.09
	c-0.24,0-0.44-0.08-0.6-0.25C5.32,18.34,5.24,18.14,5.24,17.91z M5.37,15.52c0,0.09,0.05,0.13,0.15,0.13h1.43
	c0.06,0,0.13-0.05,0.2-0.16c0.24-0.52,0.59-0.94,1.06-1.27c0.47-0.33,0.99-0.52,1.55-0.56l0.55-0.07c0.11,0,0.17-0.06,0.17-0.18
	l0.07-0.5c0.11-1.08,0.56-1.98,1.37-2.7c0.81-0.72,1.76-1.08,2.85-1.08c1.08,0,2.02,0.36,2.83,1.07c0.8,0.71,1.26,1.61,1.37,2.68
	l0.08,0.57c0,0.11,0.07,0.17,0.2,0.17h1.59c0.64,0,1.23,0.17,1.76,0.52s0.92,0.8,1.18,1.37c0.07,0.11,0.14,0.16,0.21,0.16h1.43
	c0.12,0,0.17-0.07,0.14-0.23c-0.29-1.02-0.88-1.86-1.74-2.51c-0.87-0.65-1.86-0.97-2.97-0.97h-0.32c-0.33-1.33-1.03-2.42-2.1-3.27
	s-2.28-1.27-3.65-1.27c-1.4,0-2.64,0.44-3.73,1.32s-1.78,2-2.09,3.36c-0.85,0.2-1.6,0.6-2.24,1.21c-0.64,0.61-1.09,1.33-1.34,2.18
	v-0.04C5.37,15.45,5.37,15.48,5.37,15.52z M6.98,24.11c0-0.24,0.09-0.43,0.26-0.59c0.15-0.15,0.35-0.23,0.6-0.23h18.68
	c0.24,0,0.44,0.08,0.6,0.23c0.17,0.16,0.25,0.35,0.25,0.58c0,0.24-0.08,0.44-0.25,0.61c-0.17,0.17-0.37,0.25-0.6,0.25H7.84
	c-0.23,0-0.43-0.09-0.6-0.26C7.07,24.55,6.98,24.34,6.98,24.11z`},child:[]}]})(n)}function q4(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.56,17.19c0-0.88,0.24-1.89,0.72-3.03s1.1-2.25,1.86-3.31c1.56-2.06,2.92-3.62,4.06-4.67l0.75-0.72
	c0.25,0.26,0.53,0.5,0.83,0.72c0.41,0.42,1.04,1.11,1.88,2.09s1.57,1.85,2.17,2.65c0.71,1.01,1.32,2.1,1.81,3.25
	s0.74,2.16,0.74,3.03c0,1-0.19,1.95-0.58,2.86c-0.39,0.91-0.91,1.7-1.57,2.36c-0.66,0.66-1.45,1.19-2.37,1.58
	c-0.92,0.39-1.89,0.59-2.91,0.59c-1,0-1.95-0.19-2.86-0.57c-0.91-0.38-1.7-0.89-2.36-1.55c-0.66-0.65-1.19-1.44-1.58-2.35
	S7.56,18.23,7.56,17.19z M9.82,14.26c0,0.83,0.17,1.49,0.52,1.99c0.35,0.49,0.88,0.74,1.59,0.74c0.72,0,1.25-0.25,1.61-0.74
	c0.35-0.49,0.53-1.15,0.54-1.99c-0.01-0.84-0.19-1.5-0.54-2c-0.35-0.49-0.89-0.74-1.61-0.74c-0.71,0-1.24,0.25-1.59,0.74
	C9.99,12.76,9.82,13.42,9.82,14.26z M11.39,14.26c0-0.15,0-0.27,0-0.35s0.01-0.19,0.02-0.33c0.01-0.14,0.02-0.25,0.05-0.32
	s0.05-0.16,0.09-0.24c0.04-0.08,0.09-0.15,0.15-0.18c0.07-0.04,0.14-0.06,0.23-0.06c0.14,0,0.25,0.04,0.33,0.12s0.14,0.21,0.17,0.38
	c0.03,0.18,0.05,0.32,0.06,0.45s0.01,0.3,0.01,0.52c0,0.23,0,0.4-0.01,0.52c-0.01,0.12-0.03,0.27-0.06,0.45
	c-0.03,0.17-0.09,0.3-0.17,0.38s-0.19,0.12-0.33,0.12c-0.09,0-0.16-0.02-0.23-0.06c-0.07-0.04-0.12-0.1-0.15-0.18
	c-0.04-0.08-0.07-0.17-0.09-0.24c-0.02-0.08-0.04-0.19-0.05-0.32c-0.01-0.14-0.02-0.25-0.02-0.32S11.39,14.41,11.39,14.26z
	 M11.98,22.01h1.32l4.99-10.74h-1.35L11.98,22.01z M16.28,19.02c0.01,0.84,0.2,1.5,0.55,2c0.35,0.49,0.89,0.74,1.6,0.74
	c0.72,0,1.25-0.25,1.6-0.74c0.35-0.49,0.52-1.16,0.53-2c-0.01-0.84-0.18-1.5-0.53-1.99c-0.35-0.49-0.88-0.74-1.6-0.74
	c-0.71,0-1.25,0.25-1.6,0.74C16.47,17.52,16.29,18.18,16.28,19.02z M17.85,19.02c0-0.23,0-0.4,0.01-0.52
	c0.01-0.12,0.03-0.27,0.06-0.45s0.09-0.3,0.17-0.38s0.19-0.12,0.33-0.12c0.09,0,0.17,0.02,0.24,0.06c0.07,0.04,0.12,0.1,0.16,0.19
	c0.04,0.09,0.07,0.17,0.1,0.24s0.04,0.18,0.05,0.32l0.01,0.32l0,0.34c0,0.16,0,0.28,0,0.35l-0.01,0.32l-0.05,0.32l-0.1,0.24
	l-0.16,0.19l-0.24,0.06c-0.14,0-0.25-0.04-0.33-0.12s-0.14-0.21-0.17-0.38c-0.03-0.18-0.05-0.33-0.06-0.45S17.85,19.25,17.85,19.02z
	`},child:[]}]})(n)}function X4(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M15.01,25.71c2.04,0,3.92-0.5,5.65-1.51s3.09-2.37,4.09-4.1s1.51-3.61,1.51-5.65s-0.5-3.92-1.51-5.65s-2.37-3.09-4.09-4.09
	s-3.61-1.51-5.65-1.51V25.71z`},child:[]}]})(n)}function Q4(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.44c0,2.04,0.5,3.93,1.51,5.65s2.37,3.1,4.1,4.1s3.61,1.51,5.65,1.51s3.92-0.5,5.65-1.51s3.09-2.37,4.09-4.1
	s1.51-3.61,1.51-5.65s-0.5-3.92-1.51-5.65s-2.37-3.09-4.09-4.09s-3.61-1.51-5.65-1.51S11.08,3.7,9.35,4.7s-3.1,2.37-4.1,4.09
	S3.74,12.4,3.74,14.44z`},child:[]}]})(n)}function Zu(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.44c0-1.53,0.3-3,0.89-4.39s1.4-2.59,2.4-3.6s2.2-1.81,3.6-2.4s2.85-0.89,4.37-0.89c1.53,0,3,0.3,4.39,0.89
	s2.59,1.4,3.6,2.4s1.81,2.2,2.4,3.6s0.89,2.85,0.89,4.39c0,1.52-0.3,2.98-0.89,4.37s-1.4,2.59-2.4,3.6s-2.2,1.81-3.6,2.4
	s-2.85,0.89-4.39,0.89c-1.52,0-2.98-0.3-4.37-0.89s-2.59-1.4-3.6-2.4s-1.81-2.2-2.4-3.6S3.74,15.97,3.74,14.44z M4.94,14.44
	c0,1.36,0.27,2.66,0.8,3.9s1.25,2.32,2.15,3.22s1.97,1.61,3.22,2.15s2.55,0.8,3.9,0.8c1.37,0,2.67-0.27,3.91-0.8
	s2.31-1.25,3.22-2.15s1.62-1.97,2.15-3.22s0.8-2.55,0.8-3.9c0-1.82-0.45-3.5-1.35-5.05s-2.13-2.77-3.68-3.68s-3.23-1.35-5.05-1.35
	c-1.36,0-2.66,0.27-3.9,0.8S8.79,6.41,7.89,7.32s-1.61,1.98-2.15,3.22S4.94,13.08,4.94,14.44z`},child:[]}]})(n)}function Z4(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.44c0,2.04,0.5,3.93,1.51,5.65s2.37,3.1,4.09,4.1s3.61,1.51,5.65,1.51V3.19c-2.04,0-3.92,0.5-5.65,1.51
	S6.26,7.07,5.25,8.8S3.74,12.4,3.74,14.44z`},child:[]}]})(n)}function J4(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.44c0,2.04,0.5,3.93,1.51,5.65s2.37,3.1,4.09,4.1s3.61,1.51,5.65,1.51c-2.99-2.33-4.48-6.09-4.48-11.26
	c0-2.32,0.42-4.46,1.25-6.4s1.91-3.56,3.23-4.85c-2.04,0-3.92,0.5-5.65,1.51S6.26,7.07,5.25,8.8S3.74,12.4,3.74,14.44z`},child:[]}]})(n)}function e3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.49c0,1.22,0.19,2.4,0.56,3.54s0.91,2.17,1.6,3.09s1.5,1.72,2.42,2.42s1.95,1.23,3.09,1.6s2.32,0.56,3.54,0.56
	c3.61-2.07,5.42-5.81,5.42-11.22c0-1.31-0.15-2.56-0.45-3.74s-0.71-2.24-1.23-3.17s-1.1-1.75-1.72-2.46s-1.3-1.33-2.02-1.86
	c-1.52,0-2.98,0.3-4.37,0.89s-2.58,1.39-3.58,2.4s-1.8,2.2-2.39,3.59S3.74,12.96,3.74,14.49z`},child:[]}]})(n)}function t3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M15.01,25.71c2.04,0,3.92-0.5,5.65-1.51s3.09-2.37,4.09-4.1s1.51-3.61,1.51-5.65s-0.5-3.92-1.51-5.65s-2.37-3.09-4.09-4.09
	s-3.61-1.51-5.65-1.51c1.71,1.26,2.97,2.9,3.78,4.91S20,12.24,20,14.44c0,0.9-0.03,1.73-0.1,2.5s-0.21,1.59-0.43,2.47
	s-0.51,1.68-0.86,2.4s-0.83,1.42-1.45,2.12S15.83,25.21,15.01,25.71z`},child:[]}]})(n)}function n3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M11.8,14.43c0,2.39,0.24,4.52,0.71,6.39s1.31,3.5,2.51,4.89c1.52,0,2.98-0.3,4.37-0.89s2.59-1.4,3.6-2.4s1.81-2.2,2.4-3.6
	s0.89-2.85,0.89-4.39s-0.3-2.99-0.89-4.38s-1.4-2.58-2.4-3.59s-2.2-1.81-3.6-2.4s-2.85-0.89-4.37-0.89
	c-1.02,1.46-1.81,3.16-2.37,5.13S11.8,12.3,11.8,14.43z`},child:[]}]})(n)}function r3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.8,14.86c0-0.98,0.19-1.92,0.58-2.82c0.38-0.9,0.9-1.67,1.55-2.32c0.65-0.65,1.43-1.17,2.32-1.56s1.84-0.58,2.83-0.58
	h1.17c0.16,0.04,0.24,0.14,0.24,0.28l0.04,0.9c0.04,1.3,0.51,2.41,1.41,3.33s2,1.41,3.28,1.46l0.85,0.07c0.16,0,0.23,0.08,0.23,0.23
	v1.01c0.01,1.03-0.19,2-0.58,2.92h-2.05c0.51-0.74,0.83-1.59,0.97-2.53c-1.67-0.35-3.02-1.07-4.03-2.16s-1.59-2.37-1.75-3.83
	c-0.97,0.05-1.85,0.35-2.66,0.9c-0.8,0.55-1.43,1.24-1.87,2.08c-0.44,0.84-0.66,1.72-0.66,2.63c0,1.07,0.28,2.04,0.83,2.92H8.4
	C8,16.85,7.8,15.88,7.8,14.86z M8.09,20.87c0-0.29,0.09-0.52,0.28-0.68c0.18-0.18,0.41-0.26,0.69-0.26h2.63L14.8,17
	c0.1-0.08,0.22-0.08,0.35,0l3.16,2.92h2.77c0.27,0,0.5,0.09,0.69,0.28c0.19,0.18,0.29,0.41,0.29,0.67c0,0.27-0.1,0.5-0.29,0.69
	c-0.19,0.19-0.42,0.29-0.69,0.29h-3.38c-0.1,0-0.2-0.02-0.29-0.07l-2.41-2.27l-2.39,2.27c-0.08,0.05-0.17,0.07-0.28,0.07H9.06
	c-0.27,0-0.5-0.1-0.69-0.29S8.09,21.14,8.09,20.87z`},child:[]}]})(n)}function a3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.74,14.86c0-0.98,0.19-1.92,0.58-2.82c0.38-0.9,0.9-1.67,1.55-2.32c0.65-0.65,1.43-1.17,2.32-1.56
	c0.9-0.39,1.84-0.58,2.83-0.58h1.17c0.16,0.04,0.24,0.14,0.24,0.28l0.05,0.9c0.02,0.64,0.15,1.25,0.4,1.83s0.58,1.08,1,1.5
	c0.42,0.43,0.91,0.77,1.48,1.03c0.57,0.26,1.17,0.4,1.8,0.43l0.85,0.07c0.16,0,0.24,0.08,0.24,0.23v1.01
	c0.01,1.01-0.19,1.98-0.59,2.92h-2.05c0.51-0.74,0.83-1.59,0.97-2.53c-1.68-0.35-3.02-1.07-4.03-2.16s-1.59-2.37-1.75-3.83
	c-0.97,0.05-1.85,0.35-2.66,0.9c-0.8,0.55-1.42,1.24-1.87,2.08c-0.44,0.84-0.66,1.72-0.66,2.63c0,1.07,0.28,2.04,0.83,2.92H8.34
	C7.94,16.85,7.74,15.88,7.74,14.86z M7.99,20.89c0-0.26,0.1-0.49,0.3-0.69c0.18-0.18,0.41-0.27,0.68-0.27h3.22
	c0.11,0,0.2,0.02,0.28,0.08l2.35,2.22L17.21,20c0.07-0.05,0.17-0.08,0.29-0.08h3.3c0.27,0,0.5,0.09,0.69,0.28
	c0.19,0.19,0.29,0.42,0.29,0.68c0,0.27-0.1,0.5-0.29,0.69c-0.19,0.19-0.42,0.29-0.69,0.29h-2.68l-3.13,2.84
	c-0.12,0.09-0.24,0.09-0.34,0l-3.08-2.84h-2.6c-0.27,0-0.5-0.1-0.69-0.29C8.09,21.39,7.99,21.16,7.99,20.89z`},child:[]}]})(n)}function ap(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.14,16.9c0-1.16,0.35-2.18,1.06-3.08s1.62-1.47,2.74-1.72c0.23-1.03,0.7-1.93,1.4-2.7c0.7-0.77,1.55-1.32,2.53-1.65
	c0.62-0.21,1.26-0.32,1.93-0.32c0.81,0,1.6,0.16,2.35,0.48c0.28-0.47,0.61-0.88,0.99-1.22c0.38-0.34,0.77-0.61,1.17-0.79
	c0.4-0.18,0.8-0.32,1.18-0.41s0.76-0.13,1.12-0.13c0.38,0,0.79,0.05,1.23,0.16l0.82,0.25c0.14,0.06,0.18,0.13,0.14,0.22l-0.14,0.6
	c-0.07,0.31-0.1,0.6-0.1,0.86c0,0.31,0.05,0.63,0.15,0.95c0.1,0.32,0.24,0.63,0.44,0.94c0.19,0.31,0.46,0.58,0.8,0.83
	c0.34,0.25,0.72,0.44,1.15,0.57l0.62,0.22c0.1,0.03,0.15,0.08,0.15,0.16c0,0.02-0.01,0.04-0.02,0.07l-0.18,0.67
	c-0.27,1.08-0.78,1.93-1.5,2.57c0.4,0.7,0.62,1.45,0.65,2.24c0.01,0.05,0.01,0.12,0.01,0.23c0,0.89-0.22,1.72-0.67,2.48
	c-0.44,0.76-1.05,1.36-1.8,1.8c-0.76,0.44-1.59,0.67-2.48,0.67H9.07c-0.89,0-1.72-0.22-2.48-0.67s-1.35-1.05-1.79-1.8
	S4.14,17.8,4.14,16.9z M5.85,16.9c0,0.89,0.32,1.66,0.96,2.31c0.64,0.65,1.39,0.98,2.26,0.98h10.81c0.89,0,1.65-0.32,2.28-0.97
	s0.95-1.42,0.95-2.32c0-0.88-0.32-1.63-0.96-2.26c-0.64-0.63-1.4-0.95-2.28-0.95h-1.78l-0.1-0.75c-0.1-1.01-0.52-1.88-1.26-2.59
	s-1.62-1.11-2.63-1.2c-0.03,0-0.08,0-0.15-0.01c-0.07-0.01-0.11-0.01-0.15-0.01c-0.51,0-1.02,0.1-1.54,0.29V9.4
	c-0.73,0.28-1.35,0.74-1.84,1.37c-0.5,0.63-0.8,1.35-0.9,2.17l-0.07,0.72l-0.68,0.03c-0.84,0.1-1.54,0.45-2.1,1.06
	S5.85,16.07,5.85,16.9z M17.6,8.79c1.06,0.91,1.72,1.97,1.97,3.18h0.32c1.24,0,2.3,0.39,3.17,1.18c0.33-0.31,0.58-0.67,0.76-1.07
	c-0.91-0.43-1.63-1.09-2.16-1.97c-0.52-0.88-0.79-1.81-0.79-2.78V7.09c-0.05-0.01-0.13-0.01-0.24-0.01
	c-0.58-0.01-1.15,0.13-1.7,0.44C18.38,7.82,17.93,8.24,17.6,8.79z`},child:[]}]})(n)}function i3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M7.91,14.48c0-0.96,0.19-1.87,0.56-2.75s0.88-1.63,1.51-2.26c0.63-0.63,1.39-1.14,2.27-1.52c0.88-0.38,1.8-0.57,2.75-0.57
	h1.14c0.16,0.04,0.23,0.14,0.23,0.28l0.05,0.88c0.04,1.27,0.49,2.35,1.37,3.24c0.88,0.89,1.94,1.37,3.19,1.42l0.82,0.07
	c0.16,0,0.24,0.08,0.24,0.23v0.98c0.01,1.28-0.3,2.47-0.93,3.56c-0.63,1.09-1.48,1.95-2.57,2.59c-1.08,0.63-2.27,0.95-3.55,0.95
	c-0.97,0-1.9-0.19-2.78-0.56s-1.63-0.88-2.26-1.51c-0.63-0.63-1.13-1.39-1.5-2.26C8.1,16.37,7.91,15.45,7.91,14.48z M9.74,14.48
	c0,0.76,0.15,1.48,0.45,2.16c0.3,0.67,0.7,1.24,1.19,1.7c0.49,0.46,1.05,0.82,1.69,1.08c0.63,0.27,1.28,0.4,1.94,0.4
	c0.58,0,1.17-0.11,1.76-0.34c0.59-0.23,1.14-0.55,1.65-0.96c0.51-0.41,0.94-0.93,1.31-1.57c0.37-0.64,0.6-1.33,0.71-2.09
	c-1.63-0.34-2.94-1.04-3.92-2.1s-1.55-2.3-1.7-3.74C13.86,9.08,13,9.37,12.21,9.9c-0.78,0.53-1.39,1.2-1.82,2.02
	C9.96,12.74,9.74,13.59,9.74,14.48z`},child:[]}]})(n)}function yv(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.02-2.48,2.11-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,0.88-0.21,1.69-0.63,2.44c-0.42,0.75-1,1.35-1.73,1.8c-0.73,0.45-1.53,0.69-2.4,0.71
	c-0.13,0-0.2-0.06-0.2-0.17v-1.33c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.33-1.62-0.98-2.26
	s-1.42-0.96-2.31-0.96h-1.61c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.71
	c-0.82-0.73-1.76-1.09-2.85-1.09c-1.09,0-2.05,0.36-2.85,1.09c-0.81,0.73-1.26,1.63-1.36,2.71l-0.07,0.53c0,0.12-0.07,0.19-0.2,0.19
	l-0.53,0.03c-0.83,0.1-1.53,0.46-2.1,1.07s-0.85,1.33-0.85,2.16c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02
	c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M9.99,23.6
	c0-0.04,0.01-0.11,0.04-0.2l1.63-5.77c0.06-0.19,0.17-0.34,0.32-0.44c0.15-0.1,0.31-0.15,0.46-0.15c0.07,0,0.15,0.01,0.24,0.03
	c0.24,0.04,0.42,0.17,0.54,0.37c0.12,0.2,0.15,0.42,0.08,0.67l-1.63,5.73c-0.12,0.43-0.4,0.64-0.82,0.64
	c-0.04,0-0.07-0.01-0.11-0.02c-0.06-0.02-0.09-0.03-0.1-0.03c-0.22-0.06-0.38-0.17-0.49-0.33C10.04,23.93,9.99,23.77,9.99,23.6z
	 M12.61,26.41l2.44-8.77c0.04-0.19,0.14-0.34,0.3-0.44c0.16-0.1,0.32-0.15,0.49-0.15c0.09,0,0.18,0.01,0.27,0.03
	c0.22,0.06,0.38,0.19,0.49,0.39c0.11,0.2,0.13,0.41,0.07,0.64l-2.43,8.78c-0.04,0.17-0.13,0.31-0.29,0.43
	c-0.16,0.12-0.32,0.18-0.51,0.18c-0.09,0-0.18-0.02-0.25-0.05c-0.2-0.05-0.37-0.18-0.52-0.39C12.56,26.88,12.54,26.67,12.61,26.41z
	 M16.74,23.62c0-0.04,0.01-0.11,0.04-0.23l1.63-5.77c0.06-0.19,0.16-0.34,0.3-0.44c0.15-0.1,0.3-0.15,0.46-0.15
	c0.08,0,0.17,0.01,0.26,0.03c0.21,0.06,0.36,0.16,0.46,0.31c0.1,0.15,0.15,0.31,0.15,0.47c0,0.03-0.01,0.08-0.02,0.14
	s-0.02,0.1-0.02,0.12l-1.63,5.73c-0.04,0.19-0.13,0.35-0.28,0.46s-0.32,0.17-0.51,0.17l-0.24-0.05c-0.2-0.06-0.35-0.16-0.46-0.32
	C16.79,23.94,16.74,23.78,16.74,23.62z`},child:[]}]})(n)}function s3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M9.81,15.25c0,0.92,0.23,1.78,0.7,2.57s1.1,1.43,1.9,1.9c0.8,0.47,1.66,0.71,2.59,0.71c0.93,0,1.8-0.24,2.61-0.71
	c0.81-0.47,1.45-1.11,1.92-1.9c0.47-0.8,0.71-1.65,0.71-2.57c0-0.6-0.17-1.31-0.52-2.14c-0.35-0.83-0.77-1.6-1.26-2.3
	c-0.44-0.57-0.96-1.2-1.56-1.88c-0.6-0.68-1.65-1.73-1.89-1.97l-1.28,1.29c-0.62,0.6-1.22,1.29-1.79,2.08
	c-0.57,0.79-1.07,1.64-1.49,2.55C10.01,13.79,9.81,14.58,9.81,15.25z`},child:[]}]})(n)}function xv(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.95c0-1.16,0.35-2.18,1.06-3.08s1.62-1.48,2.74-1.76c0.31-1.36,1.01-2.48,2.1-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.66c0.76,0.44,1.37,1.04,1.81,1.8
	c0.44,0.76,0.67,1.59,0.67,2.48c0,1.32-0.46,2.47-1.39,3.42c-0.92,0.96-2.05,1.46-3.38,1.5c-0.13,0-0.2-0.06-0.2-0.17v-1.33
	c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.38,0.9-2.23c0-0.89-0.32-1.65-0.97-2.3s-1.42-0.97-2.32-0.97h-1.61
	c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.72c-0.82-0.73-1.76-1.1-2.85-1.1c-1.1,0-2.05,0.37-2.86,1.11
	c-0.81,0.74-1.27,1.65-1.37,2.75l-0.06,0.5c0,0.12-0.07,0.19-0.2,0.19l-0.53,0.07c-0.83,0.07-1.53,0.41-2.1,1.04
	s-0.85,1.35-0.85,2.19c0,0.85,0.3,1.59,0.9,2.23s1.33,0.97,2.18,1.02c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17
	c-1.34-0.04-2.47-0.54-3.4-1.5C5.1,19.42,4.64,18.27,4.64,16.95z M11,21.02c0-0.22,0.08-0.42,0.24-0.58
	c0.16-0.16,0.35-0.24,0.59-0.24c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58c0,0.24-0.08,0.44-0.24,0.6
	c-0.16,0.17-0.35,0.25-0.59,0.25c-0.23,0-0.43-0.08-0.59-0.25C11.08,21.46,11,21.26,11,21.02z M11,24.65c0-0.24,0.08-0.44,0.24-0.6
	c0.16-0.15,0.35-0.23,0.58-0.23c0.23,0,0.43,0.08,0.59,0.23c0.16,0.16,0.24,0.35,0.24,0.59c0,0.24-0.08,0.43-0.24,0.59
	c-0.16,0.16-0.35,0.23-0.59,0.23c-0.23,0-0.43-0.08-0.59-0.23C11.08,25.08,11,24.88,11,24.65z M14.19,22.95
	c0-0.23,0.08-0.44,0.25-0.62c0.16-0.16,0.35-0.24,0.57-0.24c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6
	c0,0.23-0.08,0.43-0.25,0.6c-0.17,0.17-0.37,0.25-0.61,0.25c-0.23,0-0.42-0.08-0.58-0.25S14.19,23.18,14.19,22.95z M14.19,19.33
	c0-0.23,0.08-0.43,0.25-0.6c0.18-0.16,0.37-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.36,0.25,0.6
	c0,0.23-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,19.76,14.19,19.56,14.19,19.33z
	 M14.19,26.61c0-0.23,0.08-0.43,0.25-0.61c0.16-0.16,0.35-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.37,0.25,0.6
	s-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,27.03,14.19,26.84,14.19,26.61z
	 M17.41,21.02c0-0.22,0.08-0.41,0.25-0.58c0.17-0.17,0.37-0.25,0.6-0.25c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58
	c0,0.24-0.08,0.44-0.24,0.6c-0.16,0.17-0.35,0.25-0.59,0.25c-0.24,0-0.44-0.08-0.6-0.25C17.5,21.45,17.41,21.25,17.41,21.02z
	 M17.41,24.65c0-0.22,0.08-0.42,0.25-0.6c0.16-0.15,0.36-0.23,0.6-0.23c0.24,0,0.43,0.08,0.59,0.23s0.23,0.35,0.23,0.59
	c0,0.24-0.08,0.43-0.23,0.59c-0.16,0.16-0.35,0.23-0.59,0.23c-0.24,0-0.44-0.08-0.6-0.24C17.5,25.07,17.41,24.88,17.41,24.65z`},child:[]}]})(n)}function ip(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:"M9.76,24.6V7.45h1.13V24.6H9.76z M11.7,14.05v-6.6h8.55v6.6H11.7z M14.06,12.05h3.81v-2.5h-3.81V12.05z"},child:[]}]})(n)}function o3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.1,16.97c0,0.24,0.09,0.45,0.28,0.62c0.16,0.19,0.37,0.28,0.63,0.28H18.7c0.29,0,0.53,0.1,0.73,0.3
	c0.2,0.2,0.3,0.45,0.3,0.74c0,0.29-0.1,0.53-0.3,0.72c-0.2,0.19-0.44,0.29-0.74,0.29c-0.29,0-0.54-0.1-0.73-0.29
	c-0.16-0.18-0.36-0.26-0.6-0.26c-0.25,0-0.46,0.09-0.64,0.26s-0.27,0.38-0.27,0.61c0,0.25,0.09,0.46,0.28,0.63
	c0.56,0.55,1.22,0.83,1.96,0.83c0.78,0,1.45-0.27,2.01-0.81c0.56-0.54,0.83-1.19,0.83-1.97s-0.28-1.44-0.84-2
	c-0.56-0.56-1.23-0.84-2-0.84H4.01c-0.25,0-0.46,0.09-0.64,0.26C3.19,16.51,3.1,16.72,3.1,16.97z M3.1,13.69
	c0,0.23,0.09,0.43,0.28,0.61c0.17,0.18,0.38,0.26,0.63,0.26h20.04c0.78,0,1.45-0.27,2.01-0.82c0.56-0.54,0.84-1.2,0.84-1.97
	c0-0.77-0.28-1.44-0.84-1.99s-1.23-0.83-2.01-0.83c-0.77,0-1.42,0.27-1.95,0.8c-0.18,0.16-0.27,0.38-0.27,0.67
	c0,0.26,0.09,0.47,0.26,0.63c0.17,0.16,0.38,0.24,0.63,0.24c0.24,0,0.45-0.08,0.63-0.24c0.19-0.21,0.42-0.31,0.7-0.31
	c0.29,0,0.53,0.1,0.73,0.3c0.2,0.2,0.3,0.44,0.3,0.73c0,0.29-0.1,0.53-0.3,0.72c-0.2,0.19-0.44,0.29-0.73,0.29H4.01
	c-0.25,0-0.46,0.09-0.64,0.26C3.19,13.23,3.1,13.44,3.1,13.69z`},child:[]}]})(n)}function wv(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.75,15.36c0-0.25,0.1-0.48,0.3-0.69c0.22-0.19,0.46-0.29,0.7-0.29h2.33c0.27,0,0.49,0.1,0.67,0.29
	c0.18,0.19,0.27,0.43,0.27,0.69c0,0.29-0.09,0.53-0.27,0.72c-0.18,0.19-0.41,0.29-0.67,0.29H3.75c-0.27,0-0.5-0.1-0.7-0.3
	C2.85,15.86,2.75,15.62,2.75,15.36z M6.08,7.38c0-0.27,0.09-0.5,0.26-0.68C6.57,6.5,6.8,6.4,7.05,6.4c0.26,0,0.49,0.1,0.68,0.29
	l1.64,1.65c0.19,0.22,0.28,0.45,0.28,0.69c0,0.28-0.09,0.52-0.27,0.7s-0.4,0.28-0.66,0.28c-0.24,0-0.48-0.1-0.7-0.29L6.34,8.11
	C6.17,7.9,6.08,7.65,6.08,7.38z M8.08,20.88c0-0.28,0.1-0.51,0.29-0.68c0.18-0.17,0.4-0.26,0.68-0.26h2.63l3.11-2.92
	c0.1-0.08,0.21-0.08,0.34,0l3.16,2.92h2.77c0.27,0,0.5,0.09,0.69,0.28c0.19,0.18,0.29,0.41,0.29,0.67c0,0.27-0.1,0.5-0.29,0.69
	c-0.19,0.19-0.42,0.29-0.69,0.29h-3.38c-0.1,0-0.2-0.02-0.29-0.07l-2.41-2.27l-2.39,2.27c-0.08,0.05-0.17,0.07-0.28,0.07H9.05
	c-0.27,0-0.5-0.1-0.69-0.29C8.17,21.38,8.08,21.15,8.08,20.88z M9,15.36c0,0.97,0.21,1.85,0.62,2.64c0.02,0.12,0.11,0.18,0.25,0.18
	h1.88c0.07,0,0.12-0.03,0.15-0.08c0.03-0.06,0.02-0.12-0.02-0.19c-0.64-0.77-0.96-1.62-0.96-2.55c0-1.12,0.4-2.08,1.2-2.87
	c0.8-0.79,1.76-1.18,2.89-1.18c1.12,0,2.07,0.39,2.86,1.18c0.79,0.79,1.19,1.74,1.19,2.87c0,0.94-0.32,1.79-0.95,2.55
	c-0.04,0.07-0.05,0.13-0.03,0.19s0.07,0.08,0.15,0.08h1.9c0.13,0,0.21-0.06,0.23-0.18C20.8,17.23,21,16.35,21,15.36
	c0-0.81-0.16-1.59-0.48-2.32c-0.32-0.74-0.75-1.37-1.28-1.91c-0.53-0.53-1.17-0.96-1.91-1.28c-0.74-0.32-1.51-0.47-2.32-0.47
	c-0.81,0-1.59,0.16-2.33,0.47c-0.74,0.32-1.38,0.74-1.92,1.28c-0.54,0.53-0.97,1.17-1.29,1.91C9.16,13.77,9,14.54,9,15.36z
	 M14.03,6.4v-2.3c0-0.29,0.09-0.52,0.28-0.71s0.43-0.28,0.71-0.28c0.28,0,0.51,0.09,0.7,0.28S16,3.83,16,4.11v2.3
	c0,0.29-0.09,0.52-0.28,0.71c-0.18,0.18-0.42,0.28-0.7,0.28c-0.29,0-0.52-0.09-0.71-0.28C14.12,6.93,14.03,6.69,14.03,6.4z
	 M20.38,9.04c0-0.25,0.09-0.48,0.27-0.69l1.62-1.65c0.19-0.19,0.43-0.29,0.7-0.29c0.27,0,0.51,0.1,0.69,0.29
	c0.19,0.19,0.28,0.42,0.28,0.69c0,0.29-0.09,0.53-0.26,0.73L22,9.73c-0.21,0.19-0.45,0.29-0.7,0.29c-0.27,0-0.49-0.09-0.66-0.28
	S20.38,9.32,20.38,9.04z M22.99,15.36c0-0.27,0.09-0.5,0.27-0.69c0.18-0.19,0.4-0.29,0.66-0.29h2.35c0.27,0,0.5,0.1,0.69,0.29
	c0.19,0.19,0.29,0.43,0.29,0.69c0,0.28-0.1,0.51-0.29,0.71s-0.42,0.3-0.69,0.3h-2.35c-0.27,0-0.49-0.1-0.67-0.29
	C23.08,15.88,22.99,15.64,22.99,15.36z`},child:[]}]})(n)}function jv(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.88,15.47c0-0.28,0.1-0.5,0.3-0.68c0.17-0.18,0.4-0.26,0.68-0.26h2.31c0.27,0,0.49,0.09,0.67,0.27
	c0.17,0.18,0.26,0.4,0.26,0.67c0,0.28-0.09,0.52-0.27,0.71c-0.18,0.19-0.4,0.29-0.66,0.29H3.87c-0.27,0-0.5-0.1-0.69-0.3
	C2.98,15.97,2.88,15.74,2.88,15.47z M6.17,7.61c0-0.28,0.08-0.51,0.25-0.68c0.2-0.2,0.43-0.3,0.7-0.3c0.29,0,0.51,0.1,0.68,0.3
	l1.62,1.63c0.46,0.44,0.46,0.89,0,1.35c-0.19,0.19-0.4,0.28-0.65,0.28c-0.22,0-0.44-0.09-0.68-0.28L6.43,8.29
	C6.26,8.11,6.17,7.88,6.17,7.61z M8.14,20.89c0-0.26,0.1-0.49,0.3-0.69c0.18-0.18,0.41-0.27,0.68-0.27h3.22
	c0.11,0,0.2,0.02,0.28,0.08l2.35,2.22L17.36,20c0.07-0.05,0.17-0.08,0.29-0.08h3.3c0.27,0,0.5,0.09,0.69,0.28
	c0.19,0.19,0.29,0.42,0.29,0.68c0,0.27-0.1,0.5-0.29,0.69c-0.19,0.19-0.42,0.29-0.69,0.29h-2.68l-3.14,2.84
	c-0.12,0.09-0.23,0.09-0.33,0l-3.08-2.84h-2.6c-0.27,0-0.5-0.1-0.69-0.29C8.24,21.39,8.14,21.16,8.14,20.89z M9.08,15.47
	c0,0.99,0.19,1.87,0.58,2.62c0.06,0.11,0.15,0.16,0.27,0.16h1.87c0.08,0,0.13-0.02,0.15-0.07c0.02-0.05-0.01-0.11-0.07-0.18
	c-0.59-0.74-0.89-1.59-0.89-2.53c0-1.1,0.39-2.04,1.18-2.81c0.79-0.77,1.74-1.16,2.85-1.16c1.1,0,2.04,0.39,2.83,1.16
	c0.78,0.78,1.18,1.71,1.18,2.8c0,0.94-0.3,1.79-0.89,2.53c-0.07,0.07-0.09,0.13-0.07,0.18c0.02,0.05,0.07,0.07,0.15,0.07h1.88
	c0.13,0,0.21-0.05,0.24-0.16c0.41-0.78,0.62-1.66,0.62-2.62c0-0.79-0.16-1.56-0.47-2.29s-0.74-1.37-1.27-1.9s-1.16-0.95-1.89-1.27
	c-0.73-0.32-1.5-0.47-2.3-0.47c-0.8,0-1.57,0.16-2.3,0.47c-0.73,0.32-1.36,0.74-1.89,1.27s-0.95,1.16-1.27,1.9
	S9.08,14.68,9.08,15.47z M14.04,6.66V4.33c0-0.27,0.1-0.5,0.29-0.69s0.42-0.29,0.69-0.29c0.27,0,0.5,0.1,0.69,0.29
	s0.29,0.42,0.29,0.69v2.32c0,0.27-0.1,0.5-0.29,0.69c-0.19,0.19-0.42,0.29-0.69,0.29c-0.27,0-0.5-0.1-0.69-0.29
	C14.13,7.15,14.04,6.93,14.04,6.66z M20.31,9.24c0-0.28,0.09-0.51,0.26-0.67l1.63-1.63c0.16-0.2,0.39-0.3,0.68-0.3
	c0.27,0,0.5,0.1,0.68,0.29c0.18,0.19,0.27,0.42,0.27,0.69c0,0.28-0.08,0.51-0.25,0.68l-1.66,1.63c-0.23,0.19-0.46,0.28-0.69,0.28
	c-0.26,0-0.48-0.09-0.66-0.28C20.4,9.74,20.31,9.51,20.31,9.24z M22.9,15.47c0-0.27,0.09-0.49,0.26-0.67
	c0.17-0.18,0.4-0.27,0.67-0.27h2.32c0.27,0,0.5,0.09,0.69,0.27c0.19,0.18,0.29,0.4,0.29,0.67c0,0.27-0.1,0.5-0.29,0.7
	c-0.19,0.2-0.42,0.3-0.69,0.3h-2.32c-0.26,0-0.48-0.1-0.66-0.29C22.99,15.99,22.9,15.75,22.9,15.47z`},child:[]}]})(n)}function Sv(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.63,16.91c0,1.11,0.33,2.1,0.99,2.97s1.52,1.47,2.58,1.79l-0.66,1.68c-0.03,0.14,0.02,0.22,0.14,0.22h2.13l-0.98,4.3h0.28
	l3.92-5.75c0.04-0.04,0.04-0.09,0.01-0.14c-0.03-0.05-0.08-0.07-0.15-0.07h-2.18l2.48-4.64c0.07-0.14,0.02-0.22-0.14-0.22h-2.94
	c-0.09,0-0.17,0.05-0.23,0.15l-1.07,2.87c-0.71-0.18-1.3-0.57-1.77-1.16c-0.47-0.59-0.7-1.26-0.7-2.01c0-0.83,0.28-1.55,0.85-2.17
	c0.57-0.61,1.27-0.97,2.1-1.07l0.53-0.07c0.13,0,0.2-0.06,0.2-0.18l0.07-0.51c0.11-1.08,0.56-1.99,1.37-2.72
	c0.81-0.73,1.76-1.1,2.85-1.1c1.09,0,2.04,0.37,2.85,1.1c0.82,0.73,1.28,1.64,1.4,2.72l0.07,0.58c0,0.11,0.06,0.17,0.18,0.17h1.6
	c0.91,0,1.68,0.32,2.32,0.95c0.64,0.63,0.97,1.4,0.97,2.28c0,0.85-0.3,1.59-0.89,2.21c-0.59,0.62-1.33,0.97-2.2,1.04
	c-0.13,0-0.2,0.06-0.2,0.18v1.37c0,0.11,0.07,0.17,0.2,0.17c1.33-0.04,2.46-0.55,3.39-1.51s1.39-2.11,1.39-3.45
	c0-0.9-0.22-1.73-0.67-2.49c-0.44-0.76-1.05-1.36-1.81-1.8c-0.77-0.44-1.6-0.66-2.5-0.66H20.1c-0.33-1.33-1.04-2.42-2.11-3.26
	s-2.3-1.27-3.68-1.27c-1.41,0-2.67,0.44-3.76,1.31s-1.79,1.99-2.1,3.36c-1.11,0.26-2.02,0.83-2.74,1.73S4.63,15.76,4.63,16.91z
	 M12.77,26.62c0,0.39,0.19,0.65,0.58,0.77c0.01,0,0.05,0,0.11,0.01c0.06,0.01,0.11,0.01,0.14,0.01c0.17,0,0.33-0.05,0.49-0.15
	c0.16-0.1,0.27-0.26,0.32-0.48l2.25-8.69c0.06-0.24,0.04-0.45-0.07-0.65c-0.11-0.19-0.27-0.32-0.5-0.39
	c-0.17-0.02-0.26-0.03-0.26-0.03c-0.16,0-0.32,0.05-0.47,0.15c-0.15,0.1-0.26,0.25-0.31,0.45l-2.26,8.72
	C12.78,26.44,12.77,26.53,12.77,26.62z M16.93,23.56c0,0.13,0.03,0.26,0.1,0.38c0.14,0.22,0.31,0.37,0.51,0.44
	c0.11,0.03,0.21,0.05,0.3,0.05s0.2-0.02,0.32-0.08c0.21-0.09,0.35-0.28,0.42-0.57l1.44-5.67c0.03-0.14,0.05-0.23,0.05-0.27
	c0-0.15-0.05-0.3-0.16-0.45s-0.26-0.26-0.46-0.32c-0.17-0.02-0.26-0.03-0.26-0.03c-0.17,0-0.33,0.05-0.47,0.15
	c-0.14,0.1-0.24,0.25-0.3,0.45l-1.46,5.7c0,0.02,0,0.05-0.01,0.11C16.93,23.5,16.93,23.53,16.93,23.56z`},child:[]}]})(n)}function l3(n){return We({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.74,14.47c0-2.04,0.51-3.93,1.52-5.66s2.38-3.1,4.11-4.11s3.61-1.51,5.64-1.51c1.52,0,2.98,0.3,4.37,0.89
	s2.58,1.4,3.59,2.4s1.81,2.2,2.4,3.6s0.89,2.85,0.89,4.39c0,1.52-0.3,2.98-0.89,4.37s-1.4,2.59-2.4,3.59s-2.2,1.8-3.59,2.39
	s-2.84,0.89-4.37,0.89c-1.53,0-3-0.3-4.39-0.89s-2.59-1.4-3.6-2.4s-1.8-2.2-2.4-3.58S3.74,16,3.74,14.47z M6.22,14.47
	c0,2.37,0.86,4.43,2.59,6.18c1.73,1.73,3.79,2.59,6.2,2.59c1.58,0,3.05-0.39,4.39-1.18s2.42-1.85,3.21-3.2s1.19-2.81,1.19-4.39
	s-0.4-3.05-1.19-4.4s-1.86-2.42-3.21-3.21s-2.81-1.18-4.39-1.18s-3.05,0.39-4.39,1.18S8.2,8.72,7.4,10.07S6.22,12.89,6.22,14.47z
	 M14.14,14.47V7.81c0-0.23,0.08-0.43,0.24-0.59s0.36-0.24,0.59-0.24s0.43,0.08,0.59,0.24s0.24,0.36,0.24,0.59v5.82h3.78
	c0.23,0,0.43,0.08,0.59,0.24s0.24,0.36,0.24,0.59c0,0.22-0.08,0.42-0.24,0.59c-0.16,0.17-0.36,0.25-0.59,0.25h-4.44
	c-0.03,0.01-0.09,0.01-0.18,0.01c-0.23,0-0.43-0.08-0.59-0.24S14.14,14.71,14.14,14.47z`},child:[]}]})(n)}function c3(n,e,r){return e!==null&&n===e||r!==null&&n===r}function N0(n,e,r){return r!==null&&e!==null?n>r||n<e:n<6||n>=20}function u3(n,e,r,s){const l=(s||"").toLowerCase(),c=c3(n,e,r),d=N0(n,e,r);return c&&(l.includes("clear")||l.includes("sunny"))?"linear-gradient(135deg, #f59e0b 0%, #fb923c 100%)":l.includes("clear")||l.includes("sunny")?d?"linear-gradient(135deg, #1e1b4b 0%, #0f172a 100%)":"linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%)":l.includes("cloud")?c?"linear-gradient(135deg, #d97706 0%, #92400e 100%)":d?"linear-gradient(135deg, #374151 0%, #1f2937 100%)":"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)":l.includes("rain")||l.includes("storm")?d?"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)":"linear-gradient(135deg, #475569 0%, #64748b 100%)":l.includes("snow")?d?"linear-gradient(135deg, #334155 0%, #1e293b 100%)":"linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%)":c?"linear-gradient(135deg, #f59e0b 0%, #fb923c 100%)":d?"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)":"linear-gradient(135deg, #4a90e2 0%, #87ceeb 100%)"}function Vr(n){if(!n||n==="Never"||n==="Always")return null;const e=n.match(/(\d+):(\d+)\s*(AM|PM)/i);if(!e)return null;let r=parseInt(e[1]);const s=e[3].toUpperCase();return s==="PM"&&r!==12&&(r+=12),s==="AM"&&r===12&&(r=0),r}const sp=10,d3=90,ll=-5,Fd=105;function bv(n){return sp+n/100*(d3-sp)}function m3(n,e,r){if(e===null||r===null)return null;const s=r-e;if(s<=0)return null;if(n===e-1)return ll;if(n===r+1)return Fd;if(n<e-1||n>r+1)return null;const c=(n-e)/s*100;return bv(c)}function h3(n,e,r){if(e===null||r===null)return null;let s=0,l=0;if(e<r){if(s=r-e,n===e-1)return ll;if(n===r+1)return Fd;if(n<e-1||n>r+1)return null;if(n<e)return ll;l=n-e}else{if(s=24-e+r,n===e-1)return ll;if(n===(r+1)%24)return Fd;const d=n>=e-1,m=n<=r+1;if(!d&&!m)return null;n>=e?l=n-e:l=24-e+n}if(s<=0)return null;const c=l/s*100;return bv(c)}function f3(n){if(!n)return a.jsx(Zu,{});const e=n.toLowerCase();return e.includes("new")?a.jsx(Zu,{}):e.includes("waxing crescent")?a.jsx(t3,{}):e.includes("first quarter")?a.jsx(X4,{}):e.includes("waxing gibbous")?a.jsx(n3,{}):e.includes("full")?a.jsx(Q4,{}):e.includes("waning gibbous")?a.jsx(e3,{}):e.includes("last quarter")||e.includes("third quarter")?a.jsx(Z4,{}):e.includes("waning crescent")?a.jsx(J4,{}):a.jsx(Zu,{})}const p3=({currentDate:n,celestialData:e})=>{if(!e||!n)return null;const r=Vr(e.sunriseTime),s=Vr(e.sunsetTime),l=Vr(e.moonriseTime),c=Vr(e.moonsetTime),d=n.hour,m=m3(d,r,s),h=h3(d,l,c),p=N0(d,r,s),g=m!==null,x=h!==null,w=`Sunrise: ${e.sunriseTime}
Sunset: ${e.sunsetTime}`,S=`${e.moonPhase}${x?"":" (below horizon)"}
Moonrise: ${e.moonriseTime}
Moonset: ${e.moonsetTime}`;return a.jsxs("div",{className:"celestial-track-display",children:[a.jsx("div",{className:"celestial-divider"}),a.jsx("div",{className:"celestial-track sun-track",children:g&&a.jsx(Ed,{placement:"bottom",overlay:a.jsx(gl,{id:"sun-tooltip",style:{whiteSpace:"pre-line"},children:w}),children:a.jsx("div",{className:"celestial-body sun",style:{left:`${m}%`},children:a.jsx(Wl,{})})})}),a.jsx("div",{className:"celestial-track moon-track",children:x&&a.jsx(Ed,{placement:"bottom",overlay:a.jsx(gl,{id:"moon-tooltip",style:{whiteSpace:"pre-line"},children:S}),children:a.jsx("div",{className:`celestial-body moon ${p?"moon-night":"moon-day"}`,style:{left:`${h}%`},children:f3(e.moonPhase)})})})]})},Cv=({items:n,value:e,onChange:r})=>{const s=y.useRef(null),l=40,c=5,d=n.findIndex(h=>h.value===e);y.useEffect(()=>{if(s.current&&d>=0){const h=d*l;s.current.scrollTop=h}},[d,l]);const m=()=>{if(!s.current)return;const h=s.current.scrollTop,p=Math.round(h/l),g=Math.max(0,Math.min(p,n.length-1));n[g]&&n[g].value!==e&&r(n[g].value)};return a.jsxs("div",{ref:s,className:"scroll-wheel",onScroll:m,style:{height:l*c},children:[a.jsx("div",{style:{height:l*2}}),n.map((h,p)=>a.jsx("div",{className:`scroll-wheel-item ${h.value===e?"selected":""}`,style:{height:l},onClick:()=>{r(h.value),s.current&&s.current.scrollTo({top:p*l,behavior:"smooth"})},children:h.label},p)),a.jsx("div",{style:{height:l*2}})]})},Ju=({items:n,value:e,onChange:r,label:s})=>a.jsxs("div",{className:"scroll-wheel-container",children:[s&&a.jsx("div",{className:"scroll-wheel-label",children:s}),a.jsxs("div",{className:"scroll-wheel-wrapper",children:[a.jsx("div",{className:"scroll-wheel-highlight"}),a.jsx(Cv,{items:n,value:e,onChange:r})]})]}),g3=({currentDate:n,onAdvanceTime:e,onJumpToDate:r,celestialData:s})=>{const[l,c]=y.useState(!1),[d,m]=y.useState(!1),[h,p]=y.useState(!1),[g,x]=y.useState({top:0,left:0,right:0}),w=y.useRef(null),S=y.useRef(null),b=y.useRef(null),[N,k]=y.useState(0),[C,E]=y.useState(n?.year||1),[P,_]=y.useState(n?.month||1),[L,A]=y.useState(n?.day||1),[$,I]=y.useState(!1),X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re=ne=>{if(!ne)return"";const we=ne.hour%12||12,Ce=ne.hour>=12?"PM":"AM";return`${we}:00 ${Ce}`},H=ne=>ne?`${X[ne.month-1]} ${ne.day}, ${ne.year}`:"",ie=ne=>{if(!ne||ne==="Never"||ne==="Always")return null;const we=ne.match(/(\d+):(\d+)\s*(AM|PM)/i);if(!we)return null;let Ce=parseInt(we[1]);const Oe=we[3].toUpperCase();return Oe==="PM"&&Ce!==12&&(Ce+=12),Oe==="AM"&&Ce===12&&(Ce=0),Ce},ee=(()=>{if(!s||!n)return null;const{sunriseTime:ne,sunsetTime:we}=s;if(!ne||!we)return null;const Ce=ie(ne),Oe=ie(we),ye=n.hour;return Ce!==null&&ye<Ce?{type:"sunrise",time:ne,hour:Ce}:Oe!==null&&ye<Oe?{type:"sunset",time:we,hour:Oe}:{type:"sunrise",time:ne,hour:Ce,tomorrow:!0}})(),te=()=>{if(w.current){const ne=w.current.getBoundingClientRect();x({top:ne.bottom+8,right:window.innerWidth-ne.right})}p(!0)},ce=()=>{if(ee&&e){let ne=ee.hour-n.hour;ee.tomorrow&&(ne+=24),e(ne)}p(!1)},ge=()=>{if(S.current){const ne=S.current.getBoundingClientRect();x({top:ne.bottom+8,left:ne.left,right:0})}k(0),c(!0)},V=()=>{if(b.current){const ne=b.current.getBoundingClientRect();x({top:ne.bottom+8,left:0,right:window.innerWidth-ne.right})}E(n?.year||1),_(n?.month||1),A(n?.day||1),I(!1),m(!0)},Z=()=>{e&&N!==0&&e(N),c(!1)},U=()=>{r&&r(C,P,L,n.hour),m(!1)},R=Array.from({length:48},(ne,we)=>{const Ce=we-24,Oe=((n?.hour||0)+Ce+24)%24,ye=Oe%12||12,be=Oe>=12?"PM":"AM",Ze=Math.floor(((n?.hour||0)+Ce)/24);let Ue="";return Ze<=-1?Ue=" (yst)":Ze>=1&&(Ue=" (tmw)"),{value:Ce,label:`${ye}:00 ${be}${Ue}`}}),B=Math.max(1,(n?.year||1)-50),oe=Array.from({length:100},(ne,we)=>({value:B+we,label:`${B+we}`})),K=X.map((ne,we)=>({value:we+1,label:ne})),he=Array.from({length:30},(ne,we)=>({value:we+1,label:`${we+1}`}));return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"weather-header",children:a.jsxs(Ss,{fluid:!0,children:[a.jsxs("div",{className:"compact-header-row",children:[a.jsxs("div",{className:"header-left",children:[a.jsx("button",{ref:S,className:"time-display",onClick:ge,title:"Tap to change time",children:re(n)}),a.jsxs("div",{className:"quick-controls",children:[a.jsx("button",{className:"quick-btn",onClick:()=>e(1),title:"Forward 1 hour",children:"+1"}),a.jsx("button",{className:"quick-btn",onClick:()=>e(4),title:"Forward 4 hours",children:"+4"})]})]}),a.jsxs("div",{className:"header-right",children:[a.jsx("button",{ref:b,className:"date-display",onClick:V,title:"Tap to change date",children:H(n)}),ee&&a.jsxs("button",{ref:w,className:"sun-event",onClick:te,title:`Jump to ${ee.type}`,children:[ee.type==="sunrise"?a.jsx(wv,{}):a.jsx(jv,{}),a.jsx("span",{className:"sun-time",children:ee.time})]})]})]}),a.jsx(p3,{currentDate:n,celestialData:s})]})}),l&&gs.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"popover-overlay",onClick:()=>c(!1)}),a.jsxs("div",{className:"picker-popover",style:{top:g.top,left:g.left},children:[a.jsxs("div",{className:"picker-popover-header",children:[a.jsx("span",{children:"Select Time"}),a.jsx("button",{className:"picker-close-btn",onClick:()=>c(!1),children:""})]}),a.jsx("div",{className:"scroll-wheel-row",children:a.jsx(Ju,{items:R,value:N,onChange:k})}),a.jsxs("div",{className:"picker-popover-actions",children:[a.jsx("button",{className:"picker-action-btn",onClick:()=>k(Math.max(-24,N-4)),children:"-4h"}),a.jsx("button",{className:"picker-action-btn",onClick:()=>k(Math.max(-24,N-1)),children:"-1h"}),a.jsx("button",{className:"picker-action-btn",onClick:()=>k(Math.min(23,N+1)),children:"+1h"}),a.jsx("button",{className:"picker-action-btn",onClick:()=>k(Math.min(23,N+4)),children:"+4h"})]}),a.jsxs("div",{className:"picker-popover-footer",children:[a.jsx("button",{className:"picker-cancel-btn",onClick:()=>c(!1),children:"Cancel"}),a.jsx("button",{className:"picker-confirm-btn",onClick:Z,children:"Set Time"})]})]})]}),document.body),d&&gs.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"popover-overlay",onClick:()=>m(!1)}),a.jsxs("div",{className:"picker-popover picker-popover-date",style:{top:g.top,right:g.right},children:[a.jsxs("div",{className:"picker-popover-header",children:[a.jsx("span",{children:"Select Date"}),a.jsx("button",{className:"picker-close-btn",onClick:()=>m(!1),children:""})]}),a.jsxs("div",{className:"scroll-wheel-row multi",children:[a.jsx(Ju,{items:K,value:P,onChange:_,label:"Month"}),a.jsx(Ju,{items:he,value:L,onChange:A,label:"Day"}),a.jsxs("div",{className:"scroll-wheel-container",children:[a.jsxs("button",{className:"scroll-wheel-label scroll-wheel-label-clickable",onClick:()=>I(!$),title:$?"Switch to scroll wheel":"Switch to text input",children:["Year ",$?"":""]}),$?a.jsx("div",{className:"year-input-wrapper",children:a.jsx("input",{type:"number",className:"year-input",value:C,onChange:ne=>{const we=parseInt(ne.target.value)||1;E(Math.max(1,we))},min:"1",autoFocus:!0})}):a.jsxs("div",{className:"scroll-wheel-wrapper",children:[a.jsx("div",{className:"scroll-wheel-highlight"}),a.jsx(Cv,{items:oe,value:C,onChange:E})]})]})]}),a.jsxs("div",{className:"picker-popover-actions",children:[a.jsx("button",{className:"picker-action-btn",onClick:()=>{e(-24),m(!1)},children:"-1 Day"}),a.jsx("button",{className:"picker-action-btn",onClick:()=>{e(24),m(!1)},children:"+1 Day"})]}),a.jsxs("div",{className:"picker-popover-footer",children:[a.jsx("button",{className:"picker-cancel-btn",onClick:()=>m(!1),children:"Cancel"}),a.jsx("button",{className:"picker-confirm-btn",onClick:U,children:"Set Date"})]})]})]}),document.body),h&&ee&&gs.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"popover-overlay",onClick:()=>p(!1)}),a.jsxs("div",{className:"sun-jump-popover sun-jump-popover-portal",style:{top:g.top,right:g.right},children:[a.jsxs("span",{children:["Jump to ",ee.type,"?"]}),a.jsxs("div",{className:"popover-buttons",children:[a.jsx("button",{onClick:()=>p(!1),children:""}),a.jsx("button",{onClick:ce,children:""})]})]})]}),document.body)]})},v3=({onClick:n})=>a.jsx("button",{className:"floating-menu-button",onClick:n,"aria-label":"Open locations menu",children:a.jsx("span",{className:"hamburger-icon",children:""})});function y3(n){return We({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"},child:[]}]})(n)}function op(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(n)}function x3(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 184 144 144 144-144"},child:[]}]})(n)}function w3(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(n)}const j3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),lp=n=>{const e=S3(n);return e.charAt(0).toUpperCase()+e.slice(1)},kv=(...n)=>n.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),b3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var C3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const k3=y.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...m},h)=>y.createElement("svg",{ref:h,...C3,width:e,height:e,stroke:n,strokeWidth:s?Number(r)*24/Number(e):r,className:kv("lucide",l),...!c&&!b3(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,g])=>y.createElement(p,g)),...Array.isArray(c)?c:[c]]));const lt=(n,e)=>{const r=y.forwardRef(({className:s,...l},c)=>y.createElement(k3,{ref:c,iconNode:e,className:kv(`lucide-${j3(lp(n))}`,`lucide-${n}`,s),...l}));return r.displayName=lp(n),r};const N3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tl=lt("check",N3);const E3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ed=lt("chevron-down",E3);const T3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],td=lt("chevron-right",T3);const R3=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],M3=lt("cloud-rain",R3);const P3=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],D3=lt("cloud-snow",P3);const A3=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ja=lt("cloud",A3);const I3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zd=lt("crown",I3);const O3=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],L3=lt("droplet",O3);const _3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F3=lt("eye-off",_3);const z3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E0=lt("eye",z3);const H3=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],W3=lt("footprints",H3);const B3=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],$3=lt("gauge",B3);const V3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cp=lt("globe",V3);const U3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nl=lt("map-pin",U3);const G3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],T0=lt("map",G3);const Y3=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],K3=lt("moon",Y3);const q3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cl=lt("pencil",q3);const X3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nv=lt("plus",X3);const Q3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],up=lt("refresh-cw",Q3);const Z3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],J3=lt("rotate-ccw",Z3);const e6=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Hd=lt("route",e6);const t6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n6=lt("settings",t6);const r6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bl=lt("shield",r6);const a6=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Wd=lt("thermometer",a6);const i6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ev=lt("trash-2",i6);const s6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],o6=lt("triangle-alert",s6);const l6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],c6=lt("upload",l6);const u6=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Bd=lt("wind",u6);const d6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fs=lt("x",d6);const m6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],h6=lt("zoom-in",m6);const f6=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],p6=lt("zoom-out",f6);function dp(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.5 88.5l-52 52L415 167c9.4 9.4 9.4 24.6 0 33.9l-17.4 17.4c11.8 26.1 18.4 55.1 18.4 85.6 0 114.9-93.1 208-208 208S0 418.9 0 304 93.1 96 208 96c30.5 0 59.5 6.6 85.6 18.4L311 97c9.4-9.4 24.6-9.4 33.9 0l26.5 26.5 52-52 17.1 17zM500 60h-24c-6.6 0-12 5.4-12 12s5.4 12 12 12h24c6.6 0 12-5.4 12-12s-5.4-12-12-12zM440 0c-6.6 0-12 5.4-12 12v24c0 6.6 5.4 12 12 12s12-5.4 12-12V12c0-6.6-5.4-12-12-12zm33.9 55l17-17c4.7-4.7 4.7-12.3 0-17-4.7-4.7-12.3-4.7-17 0l-17 17c-4.7 4.7-4.7 12.3 0 17 4.8 4.7 12.4 4.7 17 0zm-67.8 0c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17zm67.8 34c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17zM112 272c0-35.3 28.7-64 64-64 8.8 0 16-7.2 16-16s-7.2-16-16-16c-52.9 0-96 43.1-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16z"},child:[]}]})(n)}const mp=({show:n,onHide:e})=>{const[r,s]=y.useState("atmospheric"),l=(c,d,m,h)=>{const p=c;return a.jsxs("div",{className:"metric-card mb-4",children:[a.jsxs("div",{className:"metric-header",children:[a.jsx(p,{className:"metric-icon",size:24}),a.jsx("h5",{className:"metric-title",children:d})]}),a.jsx("p",{className:"metric-description",children:m}),h&&a.jsx("div",{className:"metric-ranges",children:h.map((g,x)=>a.jsxs("div",{className:`range-item range-${g.level}`,children:[a.jsx("div",{className:"range-label",children:g.label}),a.jsx("div",{className:"range-value",children:g.value}),a.jsx("div",{className:"range-meaning",children:g.meaning})]},x))})]})};return a.jsxs(Re,{show:n,onHide:e,size:"lg",className:"weather-primer-modal",scrollable:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsxs(Re.Title,{children:[a.jsx(ja,{className:"me-2",size:24,style:{display:"inline",verticalAlign:"text-bottom"}}),"Weather Primer"]})}),a.jsx(Re.Body,{children:a.jsxs(cs.Container,{activeKey:r,onSelect:c=>s(c),children:[a.jsxs(ma,{variant:"pills",className:"mb-4 primer-tabs",children:[a.jsx(ma.Item,{children:a.jsx(ma.Link,{eventKey:"atmospheric",children:"Atmospheric Conditions"})}),a.jsx(ma.Item,{children:a.jsx(ma.Link,{eventKey:"patterns",children:"Weather Patterns"})}),a.jsx(ma.Item,{children:a.jsx(ma.Link,{eventKey:"interactions",children:"How It All Works"})})]}),a.jsxs(cs.Content,{children:[a.jsxs(cs.Pane,{eventKey:"atmospheric",children:[a.jsx("h4",{className:"mb-4",children:"Understanding Atmospheric Conditions"}),l(Wd,"Temperature","The measure of warmth in the air. Temperature affects precipitation type, comfort, and survival.",[{level:"low",label:"Freezing",value:" 32F",meaning:"Water freezes. Snow and ice. Risk of frostbite and hypothermia."},{level:"neutral",label:"Mild",value:"33-80F",meaning:"Comfortable conditions. Normal travel and activity."},{level:"high",label:"Hot",value:" 90F",meaning:"Heat exhaustion risk. Double water consumption required."}]),l(vv,"Barometric Pressure","The weight of air pressing down. Pressure systems drive weather patterns and indicate changes ahead.",[{level:"low",label:"Low Pressure",value:'< 29.80"',meaning:"Unstable weather. Clouds, precipitation likely. Storms may develop."},{level:"neutral",label:"Normal",value:'29.80-30.20"',meaning:"Stable conditions. Generally fair weather."},{level:"high",label:"High Pressure",value:'> 30.20"',meaning:"Clear skies. Calm, dry conditions. Good weather ahead."}]),a.jsxs("div",{className:"metric-card mb-4 bg-dark bg-opacity-25",children:[a.jsx("h6",{className:"mb-2",children:"Pressure Trends"}),a.jsxs("ul",{className:"mb-0",children:[a.jsxs("li",{children:[a.jsx("strong",{children:" Rising:"})," Weather improving. Clearing skies, drier conditions ahead."]}),a.jsxs("li",{children:[a.jsx("strong",{children:" Falling:"})," Weather deteriorating. Clouds forming, precipitation likely."]}),a.jsxs("li",{children:[a.jsx("strong",{children:" Steady:"})," Current conditions persisting. No major change expected."]})]})]}),l(L3,"Relative Humidity (RH)","The percentage of moisture in the air relative to what it can hold at current temperature. Affects comfort and precipitation.",[{level:"low",label:"Dry",value:"< 40%",meaning:"Dry air. Clear skies likely. Desert conditions."},{level:"neutral",label:"Comfortable",value:"40-70%",meaning:"Pleasant humidity. Normal conditions."},{level:"high",label:"Humid",value:"> 70%",meaning:"Moist air. Clouds forming. Precipitation possible. Feels hotter in warm weather."},{level:"extreme",label:"Saturated",value:"95-100%",meaning:"Air cannot hold more moisture. Precipitation occurring or imminent. Fog likely."}]),l(Hl,"Cloud Cover","The percentage of sky obscured by clouds. Affects sunlight, navigation, and precipitation.",[{level:"low",label:"Clear",value:"0-10%",meaning:"Blue skies. Full sunlight. Excellent visibility."},{level:"low",label:"Few Clouds",value:"10-25%",meaning:"Mostly clear with scattered clouds. Good visibility."},{level:"neutral",label:"Scattered",value:"25-50%",meaning:"Partly cloudy. Intermittent sun."},{level:"high",label:"Broken",value:"50-87%",meaning:"Mostly cloudy. Limited sun. Celestial navigation difficult."},{level:"high",label:"Overcast",value:"87-100%",meaning:"Complete cloud cover. No direct sunlight. Cannot navigate by stars."}]),l(E0,"Visibility","How far you can see clearly. Affected by precipitation, fog, and atmospheric haze.",[{level:"extreme",label:"Very Poor",value:"< 1 mile",meaning:"Heavy precipitation or thick fog. Heavily obscured beyond short distance."},{level:"high",label:"Poor",value:"1-3 miles",meaning:"Moderate precipitation or haze. Navigation difficult."},{level:"neutral",label:"Moderate",value:"3-6 miles",meaning:"Light precipitation or mist. Some obscurement."},{level:"low",label:"Good",value:"6-10 miles",meaning:"Clear conditions. Normal visibility."},{level:"low",label:"Excellent",value:"10+ miles",meaning:"Crystal clear. Can see for miles."}]),l(Bd,"Wind Speed","How fast air is moving. Affects travel, ranged attacks, and flying creatures.",[{level:"low",label:"Calm/Breezy",value:"0-14 mph",meaning:"Gentle air movement. No effects on gameplay."},{level:"neutral",label:"Windy",value:"15-25 mph",meaning:"Noticeable wind. Small branches move. No mechanical effects yet."},{level:"high",label:"Strong",value:"26-39 mph",meaning:"Strong gusts. Ranged attacks -2. Flying creatures affected."},{level:"extreme",label:"Gale/Storm",value:"40+ mph",meaning:"Severe wind. Halved range. Flying very difficult. Walking challenging."}])]}),a.jsxs(cs.Pane,{eventKey:"patterns",children:[a.jsx("h4",{className:"mb-4",children:"Weather Pattern Systems"}),a.jsx("p",{className:"mb-4",children:"Weather doesn't change randomlyit's driven by larger atmospheric systems that persist for several days. Understanding these patterns helps predict what's coming."}),a.jsxs("div",{className:"pattern-card mb-3",children:[a.jsxs("h5",{children:[a.jsx($3,{className:"me-2",size:20}),"High Pressure System"]}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Pressure:"})," 30.20-30.70 inHg"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Characteristics:"})," Clear skies, calm winds, dry conditions"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Duration:"})," 3-5 days typically"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"What it means:"})," Stable, pleasant weather. Good for travel. Air sinking and spreading outward prevents cloud formation."]})]})]}),a.jsxs("div",{className:"pattern-card mb-3",children:[a.jsxs("h5",{children:[a.jsx(M3,{className:"me-2",size:20}),"Low Pressure System"]}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Pressure:"})," 29.20-29.70 inHg"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Characteristics:"})," Clouds, precipitation, wind, unstable conditions"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Duration:"})," 3-5 days typically"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"What it means:"})," Stormy weather. Challenging travel. Air rising and converging creates clouds and precipitation."]})]})]}),a.jsxs("div",{className:"pattern-card mb-3",children:[a.jsxs("h5",{children:[a.jsx(Wd,{className:"me-2",size:20}),"Warm Front"]}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Pressure:"})," 29.70-30.00 inHg (rising)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Characteristics:"})," Gradual warming, light to moderate precipitation, increasing clouds"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Duration:"})," 2-4 days transition"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"What it means:"})," Warm air mass overtaking cold air. Long period of steady precipitation, then clearing and warming."]})]})]}),a.jsxs("div",{className:"pattern-card mb-3",children:[a.jsxs("h5",{children:[a.jsx(D3,{className:"me-2",size:20}),"Cold Front"]}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Pressure:"})," 29.40-29.80 inHg (falling then rising)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Characteristics:"})," Rapid cooling, intense but brief precipitation, strong winds"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Duration:"})," 1-2 days transition"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"What it means:"})," Cold air mass pushing under warm air. Dramatic weather: thunderstorms, heavy rain/snow, then rapid clearing and cold."]})]})]}),a.jsxs("div",{className:"pattern-card mb-3",children:[a.jsxs("h5",{children:[a.jsx(ja,{className:"me-2",size:20}),"Stable Pattern"]}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Pressure:"})," 29.80-30.10 inHg"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Characteristics:"})," Mild conditions, partly cloudy, occasional light precipitation"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Duration:"})," 3-5 days typically"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"What it means:"})," Moderate, unremarkable weather. Neither particularly good nor bad for travel."]})]})]})]}),a.jsxs(cs.Pane,{eventKey:"interactions",children:[a.jsx("h4",{className:"mb-4",children:"How Weather Systems Interact"}),a.jsxs("div",{className:"interaction-card mb-4",children:[a.jsx("h5",{children:"Pressure Drives Everything"}),a.jsx("p",{children:"Barometric pressure is the foundation of weather. Air naturally flows from high pressure to low pressure, creating wind. Where air rises (low pressure), it cools and forms clouds. Where air sinks (high pressure), skies stay clear."})]}),a.jsxs("div",{className:"interaction-card mb-4",children:[a.jsx("h5",{children:"Temperature + Humidity = Precipitation Type"}),a.jsxs("ul",{className:"mb-0",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Below 28F:"})," Snow (frozen crystals)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"28-32F:"})," Sleet or Freezing Rain (mixed/frozen on contact)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"32-35F:"})," Sleet (mostly frozen with some liquid)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Above 35F:"})," Rain (liquid water)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"High humidity (95-100%):"})," Required for any precipitation to occur"]})]})]}),a.jsxs("div",{className:"interaction-card mb-4",children:[a.jsx("h5",{children:"Cloud Cover Affects Visibility"}),a.jsx("p",{children:"Heavy clouds reduce celestial visibility (can't navigate by stars or sun), but ground visibility stays normal unless there's precipitation or fog. Precipitation drastically reduces visibility based on intensity."})]}),a.jsxs("div",{className:"interaction-card mb-4",children:[a.jsx("h5",{children:"Pressure Trends Predict Weather"}),a.jsxs("ul",{className:"mb-0",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Falling Pressure:"})," Deteriorating weather. Clouds forming, precipitation coming, humidity rising."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Rising Pressure:"})," Improving weather. Skies clearing, precipitation ending, drier air."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Steady Pressure:"})," Current conditions will persist for a while."]})]})]}),a.jsxs("div",{className:"interaction-card mb-4",children:[a.jsx("h5",{children:'"Feels Like" Temperature'}),a.jsx("p",{children:"The temperature you actually experience combines several factors:"}),a.jsxs("ul",{className:"mb-0",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Wind Chill:"})," Wind makes cold feel colder (below 50F with 5+ mph wind)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Heat Index:"})," Humidity makes heat feel hotter (above 80F with 60%+ humidity)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Atmospheric Effects:"})," Low pressure makes cold feel colder, high humidity makes heat feel hotter"]})]})]}),a.jsxs("div",{className:"interaction-card mb-4 bg-dark bg-opacity-50",children:[a.jsx("h5",{children:"Reading the Signs"}),a.jsx("p",{className:"mb-2",children:"Your characters can predict weather by observing these patterns:"}),a.jsxs("ul",{className:"mb-0",children:[a.jsx("li",{children:"Falling pressure + increasing clouds + rising humidity = Storm approaching"}),a.jsx("li",{children:"Rising pressure + decreasing clouds + falling humidity = Weather clearing"}),a.jsx("li",{children:"High pressure + low humidity + clear skies = Stable good weather"}),a.jsx("li",{children:"Low pressure + high humidity + overcast = Precipitation likely"})]})]})]})]})]})})]})},g6={"Clear Skies":{summary:"Standard conditions with no special effects.",visibility:"Normal",movement:"Normal",rest:"Normal",damage:[],checks:[],other:[]},"Light Clouds":{summary:"Partially cloudy sky providing occasional shade.",visibility:"Normal",movement:"Normal",rest:"Normal",damage:[],checks:[],other:["High flying aerial creatures have partial cover."]},"Heavy Clouds":{summary:"Thick cloud cover blocks the sky completely.",visibility:"Normal at ground level",movement:"Normal",rest:"Normal",damage:[],checks:["Disadvantage on checks using Navigation Tools to determine location based on celestial observation."],other:["High flying aerial creatures have total cover.","Outdoor light does not count as sunlight (affects sunlight sensitivity and similar traits)."]},Fog:{summary:"Thick mist severely reduces visibility.",visibility:"Limited to 60 feet. Objects beyond 60 feet are heavily obscured.",movement:"Navigation is difficult. Risk of becoming lost increases.",rest:"Normal",damage:[],checks:["Disadvantage on Perception checks based on sight.","Disadvantage on ranged attack rolls beyond 30 feet."],other:["Creatures more than 60 feet away have total cover.","Navigating by landmarks becomes challenging."]},Rain:{summary:"Steady rainfall affects travel and comfort.",visibility:"Normal, but slightly reduced in heavy downpours.",movement:"Wagon travel at half speed. Areas may become muddy.",rest:"DC 12 Constitution saving throw to benefit from a long rest without shelter.",damage:["-2 to all fire damage rolls."],checks:["Disadvantage on Perception checks that rely on hearing due to the noise of rainfall."],other:["Open flames may be extinguished.","Tracks are easier to follow (advantage on Survival checks for tracking).","After prolonged rain, low-lying areas may flood."]},"Heavy Rain":{summary:"Torrential downpour creates challenging conditions.",visibility:"Reduced to 120 feet. Objects beyond that are lightly obscured.",movement:"Wagon travel at half speed. Multiple consecutive days make wagon travel impossible until one dry day.",rest:"DC 16 Constitution saving throw to benefit from a long rest without shelter.",damage:["-4 to all fire damage rolls.","+2 to lightning and cold damage rolls."],checks:["Disadvantage on Perception checks.","Disadvantage on ranged weapon attacks beyond 60 feet."],other:["Open flames are automatically extinguished.","Flooding likely in low-lying areas.","Verbal communication beyond 30 feet requires shouting."]},"Freezing Cold":{summary:"Dangerously cold temperatures affect survival.",visibility:"Normal",movement:"Normal",rest:"DC 15 Constitution saving throw to benefit from a long rest without heat and shelter.",damage:["+2 to all cold damage rolls."],checks:["Disadvantage on Dexterity checks for characters without cold protection.","Failed rest save by 5 or more results in one level of exhaustion."],other:["Unprotected water sources freeze over.","Characters without adequate cold weather gear must make a DC 10 Constitution saving throw every 2 hours or gain a level of exhaustion."]},Snow:{summary:"Falling snow reduces visibility and hampers movement.",visibility:"Limited to 100 feet. Objects beyond that are lightly obscured.",movement:"All travel speed halved. Two consecutive days makes all terrain difficult and wagon travel impossible until a day without snow.",rest:"As per Freezing Cold condition.",damage:["+1 to all cold damage rolls."],checks:["Tracking is easier in fresh snow (advantage on Survival checks for tracking)."],other:["High flying creatures have total cover.","Terrain gradually becomes difficult terrain as snow accumulates.","Contains all effects of Heavy Clouds and Freezing Cold."]},"Scorching Heat":{summary:"Extreme heat creates dangerous conditions for travel and exertion.",visibility:"Normal, with possible heat shimmer at a distance.",movement:"Normal speed, but travel during day requires twice the water rations.",rest:"Creatures traveling 4+ hours or engaging in heavy activity for 1+ hour during daylight must make a DC 10 Constitution save or gain one level of exhaustion.",damage:["+2 to all fire damage rolls.","-2 to all cold damage rolls."],checks:["Disadvantage on Constitution checks related to endurance."],other:["Double water consumption required.","Risk of heat exhaustion and dehydration.","Metal equipment becomes hot to the touch."]},"Cold Winds":{summary:"Frigid gusts of air across the landscape.",visibility:"Normal",movement:"Difficult to travel against the wind direction.",rest:"DC 10 Constitution saving throw each hour of travel or gain a level of exhaustion unless properly dressed for cold weather.",damage:[],checks:["Disadvantage on ranged attacks due to the wind."],other:["Flying creatures move at half speed against the wind.","Small flying creatures cannot fly against the wind.","Exposed flames may be extinguished."]},Thunderstorm:{summary:"Violent storm with lightning, thunder, and heavy rain.",visibility:"All creatures partially obscured beyond 20 feet.",movement:"As per Heavy Rain.",rest:"As per Heavy Rain.",damage:["+2 to all lightning and thunder damage rolls.","-4 to all fire damage rolls."],checks:["Disadvantage on Perception checks that rely on hearing due to thunder.","Disadvantage on ranged attacks beyond 30 feet."],other:["Roll a d20 after 4+ hours of travel; on a 1, struck by a lightning bolt dealing 3d12 lightning damage.","Open flames automatically extinguished.","All effects of Rain, High Winds, and Heavy Clouds apply."]},Blizzard:{summary:"Severe winter storm combining heavy snow, freezing temperatures, and strong winds.",visibility:"All creatures heavily obscured beyond 20 feet.",movement:"All terrain is difficult terrain. Navigation extremely challenging.",rest:"DC 12 Constitution saving throw each hour in a blizzard or take 3d4 cold damage and gain one level of exhaustion.",damage:["+3 to all cold damage rolls."],checks:["Disadvantage on all Perception checks.","Disadvantage on all ranged attacks."],other:["Creatures have advantage on saves against Constitution if they have proper winter gear.","Contains all effects of Snow, High Winds, and Freezing Cold.","Risk of becoming lost increases significantly."]},"High Humidity Haze":{summary:"Oppressively humid air creating a visible haze.",visibility:"Objects beyond 300 feet are lightly obscured.",movement:"Normal",rest:"Normal, but uncomfortable.",damage:[],checks:["Disadvantage on Constitution checks related to endurance or physical exertion."],other:["Water consumption is doubled for all creatures.","Risk of heat-related illness increases.","Metal equipment may corrode faster."]},"Cold Snap":{summary:"Unseasonable and sudden cold spell.",visibility:"Normal",movement:"Normal",rest:"DC 10 Constitution saving throw every 4 hours or gain a level of exhaustion for creatures not accustomed to cold weather.",damage:[],checks:[],other:["Plants may be damaged, affecting foraging attempts.","Water sources may freeze over unexpectedly.","Creatures without cold adaptation are caught unprepared."]},Hail:{summary:"Ice pellets falling from the sky, ranging from pea-sized to golf ball-sized.",visibility:"Normal, but reduced during intense hailstorms.",movement:"Creatures without cover move at 3/4 speed while actively hailing.",rest:"DC 12 Constitution saving throw to benefit from a long rest without shelter.",damage:["Roll d6 each hour of travel: on a 1, take 1d4 bludgeoning damage from large hailstones."],checks:["Disadvantage on Concentration checks for spellcasting while in the open during hail."],other:["Unprotected creatures may take damage from large hailstones.","Flying creatures tend to seek shelter.","Exposed food or supplies may be damaged."]}},v6={Calm:{min:0,max:5,effect:"Air is still or has very light breezes. No effect on gameplay."},Breezy:{min:6,max:14,effect:"Light wind that rustles leaves and can be felt on the face. No mechanical effects."},Windy:{min:15,max:25,effect:"Moderate wind that raises dust and loose paper. Small branches move. Flying creatures can still maneuver normally."},"Strong Winds":{min:26,max:39,effect:"Strong wind creates whistling sounds. Small trees sway. Flying creatures gain +10 movement speed when moving with the wind, and 10 movement speed when moving against it. All ranged weapon attacks have a 2 to attack rolls."},"Gale Force":{min:40,max:54,effect:"Large branches move, whistling is heard. Umbrellas are difficult to use. Flying creatures have disadvantage on Dexterity checks. Range for thrown weapons and projectiles is halved when shooting into the wind. Small flying creatures must make a DC 15 Strength check to fly against the wind."},"Storm Force":{min:55,max:100,effect:"Whole trees move, walking is difficult. Range for thrown weapons and projectiles is halved. All creatures have disadvantage on Perception checks that rely on hearing. Flying creatures must succeed on a DC 20 Strength check to fly against the wind or be pushed back 10 feet at the end of their turn. Small flying creatures cannot fly against the wind."}},hp=({show:n,onHide:e})=>{const[r,s]=y.useState(""),l=Object.entries(g6).filter(([h])=>h.toLowerCase().includes(r.toLowerCase())),c=(h,p,g,x="primary")=>{if(!g||Array.isArray(g)&&g.length===0||g==="Normal")return null;const w=h;return a.jsxs("div",{className:"effect-section mb-3",children:[a.jsxs("div",{className:"effect-header",children:[a.jsx(w,{size:18,className:"me-2",style:{color:`var(--bs-${x})`}}),a.jsx("strong",{children:p})]}),a.jsx("div",{className:"effect-content",children:Array.isArray(g)?a.jsx("ul",{className:"mb-0",children:g.map((S,b)=>a.jsx("li",{children:S},b))}):a.jsx("div",{children:g})})]})},d=([h,p],g)=>a.jsxs(Or.Item,{eventKey:g.toString(),children:[a.jsx(Or.Header,{children:a.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100 me-3",children:[a.jsx("span",{className:"condition-name",children:h}),p.summary&&a.jsxs(Ke,{bg:"secondary",className:"condition-badge",children:[p.summary.split(" ").slice(0,4).join(" "),"..."]})]})}),a.jsxs(Or.Body,{children:[p.summary&&a.jsx("div",{className:"mb-3 p-2 bg-dark bg-opacity-25 rounded",children:a.jsx("em",{children:p.summary})}),c(E0,"Visibility",p.visibility,"info"),c(W3,"Movement",p.movement,"warning"),c(K3,"Rest",p.rest,"secondary"),c(bl,"Damage Modifiers",p.damage,"danger"),c(o6,"Check Modifiers",p.checks,"warning"),c(T0,"Other Effects",p.other,"success")]})]},h),m=([h,p],g)=>a.jsxs(Or.Item,{eventKey:`wind-${g}`,children:[a.jsx(Or.Header,{children:a.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100 me-3",children:[a.jsxs("span",{className:"condition-name",children:[a.jsx(Bd,{size:18,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),h]}),a.jsxs(Ke,{bg:"info",className:"wind-badge",children:[p.min,"-",p.max," mph"]})]})}),a.jsx(Or.Body,{children:a.jsx("div",{className:"p-2 bg-dark bg-opacity-25 rounded",children:p.effect})})]},h);return a.jsxs(Re,{show:n,onHide:e,size:"lg",className:"gameplay-mechanics-modal",scrollable:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsxs(Re.Title,{children:[a.jsx(bl,{className:"me-2",size:24,style:{display:"inline",verticalAlign:"text-bottom"}}),"Weather & Gameplay Mechanics"]})}),a.jsxs(Re.Body,{children:[a.jsxs("div",{className:"mb-4 p-3 bg-dark bg-opacity-50 rounded",children:[a.jsx("h5",{className:"mb-2",children:"D&D 5e Weather Effects"}),a.jsx("p",{className:"mb-0",children:"Weather conditions have significant mechanical impacts on gameplay. Use these rules to bring your world to life with challenging environmental hazards, tactical considerations, and immersive storytelling moments."})]}),a.jsx("div",{className:"mb-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search weather conditions...",value:r,onChange:h=>s(h.target.value)})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"mb-3",children:"Weather Conditions"}),a.jsx(Or,{children:l.length>0?l.map((h,p)=>d(h,p)):a.jsxs("div",{className:"text-center text-muted p-4",children:['No weather conditions match "',r,'"']})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("h5",{className:"mb-3",children:[a.jsx(Bd,{className:"me-2",size:20,style:{display:"inline",verticalAlign:"text-bottom"}}),"Wind Intensity Effects"]}),a.jsx(Or,{children:Object.entries(v6).map((h,p)=>m(h,p))})]}),a.jsx("div",{className:"mt-4 p-3 bg-dark bg-opacity-25 rounded",children:a.jsxs("small",{className:"text-muted",children:[a.jsx("strong",{children:"DM Tip:"})," These effects are guidelines. Adjust based on your campaign's tone, the party's level, and narrative needs. Weather should enhance the experience, not bog down gameplay."]})})]})]})},fp=({show:n,onHide:e})=>{const{activeWorld:r,updateWorld:s}=Kn(),[l,c]=y.useState("");y.useEffect(()=>{n&&r&&c(r.name||"")},[n,r]);const d=m=>{if(m.preventDefault(),!l.trim()){alert("Please enter a world name");return}s(r.id,{name:l.trim()}),e()};return r?a.jsxs(Re,{show:n,onHide:e,centered:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsx(Re.Title,{children:"Edit World"})}),a.jsx(Re.Body,{children:a.jsx(xe,{onSubmit:d,children:a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"World Name"}),a.jsx(xe.Control,{type:"text",placeholder:"e.g., Forgotten Realms, Eberron, My Campaign",value:l,onChange:m=>c(m.target.value),autoFocus:!0}),a.jsx(xe.Text,{className:"text-muted",children:"The name of your campaign world"})]})})}),a.jsxs(Re.Footer,{children:[a.jsx(Se,{variant:"secondary",onClick:e,children:"Cancel"}),a.jsx(Se,{variant:"primary",onClick:d,children:"Save Changes"})]})]}):null};function zn(n){let e=n%360;return e<0&&(e+=360),e}function pp(n){const e=P4,r=D4,s=I4;return e+r*Math.cos(2*dv*n/s)}function ps(n,e=0){const r=F4*n+e;return zn(r)}function y6(n,e=0){const r=z4*n+e;return zn(r)}function x6(n,e){const r=e-n;return zn(r)}function rl(n,e,r,s){const c=(r-e)*mv,d=n*n+s*s-2*n*s*Math.cos(c);return Math.sqrt(Math.max(0,d))}function w6(n){const e=n*mv,r=50*(1-Math.cos(e));return Math.max(0,Math.min(100,r))}function j6(n){return n>0&&n<180}class S6{constructor(){this.cache=new Map}getObserverRadius(e){return np[e]||np.temperate}getIlluminationState(e){return e<=el?ei.DAYLIGHT:e<=O4?ei.CIVIL_TWILIGHT:e<=L4?ei.NAUTICAL_TWILIGHT:e<=_4?ei.ASTRONOMICAL_TWILIGHT:ei.NIGHT}getDistanceToSun(e,r,s=$r){const l=this.getObserverRadius(e),c=Sl(r.month,r.day),d=pp(c),m=ps(r.hour,ga);return rl(l,s,m,d)}findDistanceCrossing(e,r,s,l=!0,c=$r){const d=this.getObserverRadius(e),m=Sl(r.month,r.day),h=pp(m),p=[];for(let x=0;x<Br;x+=.25){const w=ps(x,ga),S=rl(d,c,w,h);p.push({hour:x,distance:S})}let g=[];for(let x=0;x<p.length-1;x++){const w=p[x],S=p[x+1];if(w.distance>s&&S.distance<=s||w.distance<s&&S.distance>=s){const b=this.binarySearchCrossing(d,c,h,s,w.hour,S.hour);g.push({hour:b,entering:w.distance>s})}}if(g.length===0)return null;if(l){const x=g.find(w=>w.entering);return x?x.hour:null}else{const x=g.reverse().find(w=>!w.entering);return x?x.hour:null}}binarySearchCrossing(e,r,s,l,c,d){let m=c,h=d;const p=.001;for(;h-m>p;){const g=(m+h)/2,x=ps(g,ga),w=rl(e,r,x,s);if(Math.abs(w-l)<1)return g;const S=ps(m,ga);rl(e,r,S,s)<l==w<l?m=g:h=g}return(m+h)/2}getDailySunData(e,r,s){const l=`${e}:${r.year}:${r.month}:${r.day}:${s}`;if(this.cache.has(l))return this.cache.get(l);if(this.getObserverRadius(e)<100){const g={sunriseHour:null,sunsetHour:null,dayLengthHours:0,isPermanentNight:!0};return this.cache.set(l,g),g}const d=this.findDistanceCrossing(e,r,el,!0,s),m=this.findDistanceCrossing(e,r,el,!1,s);let h=0;d!==null&&m!==null?m>d?h=m-d:h=Br-d+m:d===null&&m===null&&(h=this.getDistanceToSun(e,{...r,hour:0},s)<=el?24:0);const p={sunriseHour:d,sunsetHour:m,dayLengthHours:h,isPermanentNight:!1};return this.cache.set(l,p),p}getSunriseSunset(e,r,s=$r){const l=this.getDailySunData(e,r,s),c=this.getDistanceToSun(e,r,s),d=this.getIlluminationState(c),m=d===ei.DAYLIGHT;return{sunriseHour:l.sunriseHour,sunsetHour:l.sunsetHour,dayLengthHours:l.dayLengthHours,isDaytime:m,twilightLevel:d,isPermanentNight:l.isPermanentNight,distanceToSun:c}}formatHour(e,r=!1){if(e==null)return null;let s=Math.floor(e),l=Math.round((e-s)*60);return l>=60&&(s+=1,l=0),s>=24&&(s=s%24),r?`${s.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`:s===0?`12:${l.toString().padStart(2,"0")} AM`:s===12?`12:${l.toString().padStart(2,"0")} PM`:s<12?`${s}:${l.toString().padStart(2,"0")} AM`:`${s-12}:${l.toString().padStart(2,"0")} PM`}formatDayLength(e){if(e===0)return"No daylight";if(e>=24)return"24 hours (Always day)";const r=Math.floor(e),s=Math.round((e-r)*60);return`${r} hr ${s} min`}getFormattedTimes(e,r,s=!1,l=$r){const c=this.getSunriseSunset(e,r,l);return{sunriseTime:c.isPermanentNight?"Never":c.sunriseHour===null?"Always":this.formatHour(c.sunriseHour,s),sunsetTime:c.isPermanentNight?"Never":c.sunsetHour===null?"Always":this.formatHour(c.sunsetHour,s),dayLength:this.formatDayLength(c.dayLengthHours),isDaytime:c.isDaytime,twilightLevel:c.twilightLevel,isPermanentNight:c.isPermanentNight,distanceToSun:Math.round(c.distanceToSun)}}}const Tv=new S6,b6=30;function C6(n){return n>=3&&n<=5?"spring":n>=6&&n<=8?"summer":n>=9&&n<=11?"fall":"winter"}function k6(n){return(n.month-1)*b6+(n.day-1)}function N6(n,e,r){const s=(1-Math.cos(r*Math.PI))/2;return n*(1-s)+e*s}class E6{constructor(){this.cache=new Map}getTemperature(e,r){const s=`${e.id}:${r.year}:${r.month}:${r.day}:${Math.floor(r.hour)}`;if(this.cache.has(s))return this.cache.get(s);const c=(e.climate||e.parameters||{}).temperatureProfile;if(!c)return console.warn("Region missing temperature profile, using default 70F"),70;const d=this.getSeasonalBaseTemperature(c,r),m=this.getDailyTemperatureVariation(e,r,c),h=this.getPatternInfluence(e,r),p=d+m+h;return this.cache.set(s,p),p}getSeasonalBaseTemperature(e,r){const s=k6(r),l=[{day:15,temp:e.winter.mean},{day:105,temp:e.spring.mean},{day:195,temp:e.summer.mean},{day:285,temp:e.fall.mean},{day:375,temp:e.winter.mean}];let c=s;s<60&&(c=s);let d,m;for(let w=0;w<l.length-1;w++)if(c>=l[w].day&&c<=l[w+1].day){d=l[w],m=l[w+1];break}d||(c>=285?(d=l[3],m=l[4]):(d=l[0],m=l[1]));const h=m.day-d.day,g=(c-d.day)/h;return N6(d.temp,m.temp,g)}getDailyTemperatureVariation(e,r,s){const l=C6(r.month),d=(s[l]?.variance||10)*.5,m=r.hour,h=e.latitudeBand||"temperate",p=Tv.getSunriseSunset(h,r);let g,x;if(p.sunriseHour!==null&&p.sunsetHour!==null)g=p.sunriseHour,x=(p.sunriseHour+p.sunsetHour)/2+3,x>=Br&&(x-=Br);else if(p.dayLengthHours>=24)g=0,x=12;else return d*.2*Math.cos(m/Br*2*Math.PI);const w=(g+x)/2,S=(m-w)/Br*2*Math.PI;return d*Math.cos(S)}getPatternInfluence(e,r){const c=((e.climate||e.parameters||{}).specialFactors||{}).highDiurnalVariation?15:5,m=((r.year-1)*360+(r.month-1)*30+(r.day-1))*24+r.hour,h=6,p=Math.floor(m/h),g=m%h,x=Vt(e.id,{year:Math.floor(p/(360*24/h))+1,month:Math.floor(p%(360*24/h)/(720/h))+1,day:Math.floor(p%(720/h)/(24/h))+1},"temp-pattern"),S=new Pt(x).range(-c,c),b=p+1,N=Vt(e.id,{year:Math.floor(b/(360*24/h))+1,month:Math.floor(b%(360*24/h)/(720/h))+1,day:Math.floor(b%(720/h)/(24/h))+1},"temp-pattern"),C=new Pt(N).range(-c,c),E=g/h;return S+(C-S)*E}getFeelsLike(e,r,s){if(e<=50&&r>3){const l=35.74+.6215*e-35.75*Math.pow(r,.16)+.4275*e*Math.pow(r,.16);return Math.round(l)}if(e>=80){const l=e,c=s;let d=-42.379+2.04901523*l+10.14333127*c-.22475541*l*c-.00683783*l*l-.05481717*c*c+.00122874*l*l*c+85282e-8*l*c*c-199e-8*l*l*c*c;return Math.round(d)}return Math.round(e)}getTemperatureDebug(e,r){const l=(e.climate||e.parameters||{}).temperatureProfile;if(!l)return null;const c=this.getSeasonalBaseTemperature(l,r),d=this.getDailyTemperatureVariation(e,r,l),m=this.getPatternInfluence(e,r),h=r.month;let p;return h>=1&&h<=3?p="winter":h>=4&&h<=6?p="spring":h>=7&&h<=9?p="summer":p="fall",{season:p,expectedSeasonMean:l[p].mean,expectedSeasonRange:`${l[p].mean-l[p].variance}F to ${l[p].mean+l[p].variance}F`,seasonalBase:Math.round(c*10)/10,dailyVariation:Math.round(d*10)/10,patternInfluence:Math.round(m*10)/10,finalTemp:Math.round((c+d+m)*10)/10}}clearCache(){this.cache.clear()}}const gp={HIGH_PRESSURE:{name:"High Pressure",duration:[3,5],characteristics:{clearSkies:.8,precipitation:.1,windSpeed:.6,tempModifier:2}},LOW_PRESSURE:{name:"Low Pressure",duration:[2,4],characteristics:{clearSkies:.2,precipitation:.7,windSpeed:1.3,tempModifier:-2}},WARM_FRONT:{name:"Warm Front",duration:[2,3],characteristics:{clearSkies:.4,precipitation:.5,windSpeed:.8,tempModifier:4}},COLD_FRONT:{name:"Cold Front",duration:[1,3],characteristics:{clearSkies:.3,precipitation:.6,windSpeed:1.5,tempModifier:-5}},STABLE:{name:"Stable",duration:[4,7],characteristics:{clearSkies:.6,precipitation:.3,windSpeed:.7,tempModifier:0}}},T6={HIGH_PRESSURE:{HIGH_PRESSURE:3,STABLE:3,WARM_FRONT:2,LOW_PRESSURE:1,COLD_FRONT:1},LOW_PRESSURE:{COLD_FRONT:4,HIGH_PRESSURE:3,STABLE:2,LOW_PRESSURE:1,WARM_FRONT:0},WARM_FRONT:{LOW_PRESSURE:4,STABLE:2,HIGH_PRESSURE:2,COLD_FRONT:1,WARM_FRONT:1},COLD_FRONT:{HIGH_PRESSURE:5,STABLE:3,COLD_FRONT:1,LOW_PRESSURE:1,WARM_FRONT:0},STABLE:{HIGH_PRESSURE:3,STABLE:2,LOW_PRESSURE:2,WARM_FRONT:2,COLD_FRONT:1}},nd={REPEAT_ONCE:.5,REPEAT_TWICE:.25,REPEAT_THREE:.1};class R6{constructor(){this.patternCache=new Map}getCurrentPattern(e,r){const s=`${e.id}:${r.year}:${r.month}:${r.day}`;if(this.patternCache.has(s))return this.patternCache.get(s);const l=tp(e.id,r,4,"weather-pattern"),c=new Pt(l),d=this.getPatternHistory(e,r,3),m=this.selectPatternWithTransitions(c,d),h={type:m,...gp[m]},p=this.getDayOfPattern(e,r);h.dayOfPattern=p;const[g,x]=h.duration;return h.totalDays=c.int(g,x),this.patternCache.set(s,h),h}getPatternHistory(e,r,s=3){const l=[],c=(r.year-1)*360+(r.month-1)*30+(r.day-1),d=Math.floor(c/4);for(let m=1;m<=s;m++){const h=d-m;if(h<0)break;const p=h*4+1,g=Math.floor(p/360)+1,x=Math.floor(p%360/30)+1,w=p%30+1,S=tp(e.id,{year:g,month:x,day:w},4,"weather-pattern"),b=new Pt(S),N=l.slice(),k=this.selectPatternWithTransitions(b,N);l.push(k)}return l}selectPatternWithTransitions(e,r){const s=Object.keys(gp);if(r.length===0){const d={HIGH_PRESSURE:3,STABLE:3,LOW_PRESSURE:2,WARM_FRONT:1,COLD_FRONT:1};return this.weightedChoice(e,s,d)}const l=r[0],c={...T6[l]};for(const d of s){let m=0;for(const h of r)if(h===d)m++;else break;m>=3?c[d]*=nd.REPEAT_THREE:m===2?c[d]*=nd.REPEAT_TWICE:m===1&&(c[d]*=nd.REPEAT_ONCE)}return this.weightedChoice(e,s,c)}weightedChoice(e,r,s){let l=0;for(const d of r)l+=s[d]||0;if(l===0)return e.choice(r);let c=e.next()*l;for(const d of r)if(c-=s[d]||0,c<=0)return d;return r[r.length-1]}getDayOfPattern(e,r){return((r.year-1)*360+(r.month-1)*30+(r.day-1))%4+1}getNextPattern(e,r){const s=(r.year-1)*360+(r.month-1)*30+(r.day-1),c=(Math.floor(s/4)+1)*4,d=Math.floor(c/360)+1,m=Math.floor(c%360/30)+1,h=c%30+1,p={year:d,month:m,day:h,hour:12};return this.getCurrentPattern(e,p)}shouldPrecipitate(e,r,s,l){const c=new Pt(l),d=c.next();let m=e.characteristics.precipitation;const h=r.climate||r.parameters||{},p=h.specialFactors||{},g=h.humidityProfile||{},x=this.getSeason(s.month);p.dryAir&&(m*=1-p.dryAir*.8),p.permanentIce&&p.permanentIce>.7&&(m*=.15),p.coldOceanCurrent&&(m*=1-p.coldOceanCurrent*.85),p.rainShadowEffect&&(m*=1-p.rainShadowEffect*.7);const w=g[x];if(w){const N=w.mean;N<40?m*=.5:N<50?m*=.7:N>75?m*=1.4:N>65&&(m*=1.2)}if(p.highRainfall&&(m*=1.6),h.maritimeInfluence&&h.maritimeInfluence>.6&&(p.coldOceanCurrent||(m*=1.2)),p.hasMonsoonSeason&&(x==="summer"?m*=2.5:x==="winter"&&(m*=.3)),h.latitude&&h.latitude>=30&&h.latitude<=45){const N=h.maritimeInfluence||0;N>.4&&N<.8&&(x==="summer"?m*=.4:x==="winter"&&(m*=1.5))}p.hasDrySeason&&x==="winter"&&(m*=.4),s.hour>=14&&s.hour<=20&&(m*=1.2),s.hour>=2&&s.hour<=6&&!p.hasMonsoonSeason&&h.maritimeInfluence<.5&&(m*=.8);const S=this.getDayOfPattern(r,s),b=c.next();return(S===2||S===3)&&b<.15&&(m*=.3),e.type==="HIGH_PRESSURE"&&S>=2&&(m*=.7),m=Math.max(0,Math.min(1,m)),d<m}getSeason(e){return e>=3&&e<=5?"spring":e>=6&&e<=8?"summer":e>=9&&e<=11?"fall":"winter"}getSkyCondition(e,r){const l=new Pt(r).next(),c=e.characteristics.clearSkies;return l<c*.5?"clear":l<c?"partly-cloudy":l<c+.3?"cloudy":"overcast"}getWindModifier(e){return e.characteristics.windSpeed}getTemperatureModifier(e,r,s){const l=e.characteristics.tempModifier,c=12,m=((s.year-1)*360+(s.month-1)*30+(s.day-1))*24+s.hour,h=96,p=m%h;if(p<c){const x=this.getPreviousPattern(r,s).characteristics.tempModifier,w=p/c;return x+(l-x)*w}if(p>=h-c){const x=this.getNextPattern(r,s).characteristics.tempModifier,S=(h-p)/c;return l+(x-l)*(1-S)}return l}getPatternStartDay(e,r){const s=(r.year-1)*360+(r.month-1)*30+(r.day-1),l=s%4;return s-l}getPreviousPattern(e,r){const l=this.getPatternStartDay(e,r)-1,c=Math.floor(l/360)+1,d=Math.floor(l%360/30)+1,m=l%30+1,h={year:c,month:d,day:m,hour:12};return this.getCurrentPattern(e,h)}clearCache(){this.patternCache.clear()}}const M6=29.92,al={HIGH_PRESSURE:{min:30.2,max:30.7},LOW_PRESSURE:{min:29.2,max:29.7},WARM_FRONT:{min:29.7,max:30},COLD_FRONT:{min:29.4,max:29.8},STABLE:{min:29.8,max:30.1}},rd={CLEAR:{min:0,max:10,description:"Clear skies"},FEW:{min:10,max:25,description:"Few clouds"},SCATTERED:{min:25,max:50,description:"Scattered clouds"},BROKEN:{min:50,max:87,description:"Broken clouds"},OVERCAST:{min:87,max:100,description:"Overcast"}};class P6{constructor(){this.pressureCache=new Map,this.cloudCoverCache=new Map}getPressure(e,r,s){const l=`${e.id}:${r.year}:${r.month}:${r.day}`;if(this.pressureCache.has(l))return this.pressureCache.get(l);const c=s.type||"STABLE",d=al[c]||al.STABLE,m=Vt(e.id,r,"pressure"),p=new Pt(m).range(d.min,d.max),g=Math.sin(r.hour/24*Math.PI*2)*.05,x=p+g,w=this.calculatePressureTrend(e,r,s),S=this.getPressureDescription(x),b={pressure:Math.round(x*100)/100,trend:w,description:S,_debug:{patternType:c,basePressure:p,hourFactor:g}};return this.pressureCache.set(l,b),b}calculatePressureTrend(e,r,s){const l={...r,day:r.day-1},c=Vt(e.id,l,"pressure"),d=Vt(e.id,r,"pressure"),m=new Pt(c),h=new Pt(d),p=s.type||"STABLE",g=al[p]||al.STABLE,x=m.range(g.min,g.max),S=h.range(g.min,g.max)-x;return S>.1?"rising":S<-.1?"falling":"steady"}getPressureDescription(e){return e>=30.2?"High":e>=29.8?"Normal":e>=29.5?"Low":"Very Low"}getCloudCover(e,r,s,l){const c=`${e.id}:${r.year}:${r.month}:${r.day}:${r.hour}`;if(this.cloudCoverCache.has(c))return this.cloudCoverCache.get(c);const d=s.characteristics.clearSkies||.5;if(l&&l.isOccurring){const E="OVERCAST";return{percentage:95,type:E,description:rd[E].description}}const m=[0,4,8,12,16,20,24],h=Math.floor(r.hour);let p=0,g=4;for(let E=0;E<m.length-1;E++)if(h>=m[E]&&h<m[E+1]){p=m[E],g=m[E+1];break}const x=this.generateCloudAtHour(e,r,p,d);let w;if(g===24){const E={...r,day:r.day+1,hour:0};w=this.generateCloudAtHour(e,E,0,d)}else w=this.generateCloudAtHour(e,r,g,d);const S=(h-p)/(g-p),b=S*S*(3-2*S),N=Math.round(x+(w-x)*b);let k="CLEAR";for(const[E,P]of Object.entries(rd))if(N>=P.min&&N<=P.max){k=E;break}const C={percentage:N,type:k,description:rd[k].description,_debug:{patternClearSkies:d,anchorBefore:p,anchorAfter:g,cloudAtBefore:x,cloudAtAfter:w,interpolation:b}};return this.cloudCoverCache.set(c,C),C}generateCloudAtHour(e,r,s,l){const c=Vt(e.id,{...r},`clouds-${s}`),d=new Pt(c),m=(1-l)*100,h=d.range(-25,25);return Math.max(0,Math.min(100,m+h))}getEnhancedHumidity(e,r,s,l,c){let d=c;const h=-(l.pressure-M6)*10;return d+=h,l.trend==="falling"?d+=5:l.trend==="rising"&&(d-=5),Math.max(10,Math.min(100,Math.round(d)))}getAtmosphericFeelsLikeContribution(e,r,s){let l=0;if(e>=80&&r>=60){const c=(r-60)/40;l+=c*5}if(e<=40&&s.pressure<29.8){const c=(29.8-s.pressure)/.6;l-=c*2}return l}getVisibility(e,r,s){let l=10,c="Excellent";return r&&r.isOccurring&&(r.intensity==="heavy"?(l=.5,c="Very Poor"):r.intensity==="moderate"?(l=2,c="Poor"):(l=5,c="Moderate")),s>85&&e.percentage>50&&(l=Math.min(l,3),c="Poor (Haze)"),{distance:l,description:c}}clearCache(){this.pressureCache.clear(),this.cloudCoverCache.clear()}}const vp=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],St={CLEAR:"Clear",PARTLY_CLOUDY:"Partly Cloudy",CLOUDY:"Cloudy",OVERCAST:"Overcast",LIGHT_RAIN:"Light Rain",RAIN:"Rain",HEAVY_RAIN:"Heavy Rain",THUNDERSTORM:"Thunderstorm",LIGHT_SNOW:"Light Snow",SNOW:"Snow",HEAVY_SNOW:"Heavy Snow",BLIZZARD:"Blizzard",SLEET:"Sleet",FREEZING_RAIN:"Freezing Rain",FOG:"Fog",MIST:"Mist"};class qn{constructor(){this.tempService=new E6,this.patternService=new R6,this.atmosphericService=new P6,this.weatherCache=new Map}generateWeather(e,r){const s=`${e.id}:${r.year}:${r.month}:${r.day}:${Math.floor(r.hour)}`;if(this.weatherCache.has(s))return this.weatherCache.get(s);const l=this.patternService.getCurrentPattern(e,r),c=this.atmosphericService.getPressure(e,r,l),d=this.tempService.getTemperature(e,r),m=this.patternService.getTemperatureModifier(l,e,r),h=Math.round(d+m),p=this.generateWind(e,r,l),g=this.generateDewPoint(e,r,l),x=this.calculateHumidityFromDewPoint(h,g),w=this.generatePrecipitation(e,r,l,h),S=this.atmosphericService.getCloudCover(e,r,l,w),b=this.tempService.getFeelsLike(h,p.speed,x),N=this.atmosphericService.getAtmosphericFeelsLikeContribution(h,x,c),k=Math.round(b+N),C=this.determineCondition(e,l,w,h,x,r,p);let E=p.speed;if(C===St.THUNDERSTORM||C===St.BLIZZARD){const $=Vt(e.id,r,`stormwind-${r.hour}`),I=new Pt($);let X=0;for(let re=0;re<3;re++)X+=1+Math.floor(I.next()*6);if(C===St.THUNDERSTORM){const H=(e.climate||e.parameters||{}).specialFactors?.tornadoRisk||0;if(H>0){let ie=0;for(let se=0;se<6;se++)ie+=1+Math.floor(I.next()*6);X+=Math.round(ie*H)}}E=p.speed+X}const P={speed:E,direction:p.direction},_=this.atmosphericService.getVisibility(S,w,x),L=this.generateEffects(C,P,h,w,e,r),A={temperature:h,feelsLike:k,condition:C,windSpeed:E,windDirection:p.direction,humidity:x,dewPoint:g,precipitation:w.isOccurring,precipitationType:w.type,precipitationIntensity:w.intensity,pattern:l.name,effects:L,pressure:c.pressure,pressureTrend:c.trend,cloudCover:S.percentage,cloudCoverType:S.type,visibility:_.distance,visibilityDescription:_.description,_debug:{pattern:l.type,dayOfPattern:l.dayOfPattern,baseTemp:d,patternTempMod:m,temperatureBreakdown:this.tempService.getTemperatureDebug(e,r),atmospheric:{pressure:c._debug,dewPoint:g,humidity:x,cloudCover:S._debug,atmosphericFeelsLikeContribution:N}}};return this.weatherCache.set(s,A),A}generateWind(e,r,s){const l=e.climate||e.parameters||{},c=Vt(e.id,r,"wind"),d=new Pt(c),m=l.terrainRoughness||.5,h=l.maritimeInfluence||.5;let p=d.range(5,15);p*=1+h*.5,p*=1+m*.3;const g=this.patternService.getWindModifier(s),x=Math.round(p*g),w=d.int(0,vp.length-1),S=vp[w];return{speed:x,direction:S}}generateHumidity(e,r,s){const c=(e.climate||e.parameters||{}).humidityProfile;if(!c)return 50;const d=this.getSeason(r.month),m=c[d];if(!m)return c.annual?.mean||50;const h=Vt(e.id,r,"humidity"),p=new Pt(h),g=m.variance||10,x=m.mean+p.range(-g,g),S=s.characteristics.precipitation*10;return Math.max(0,Math.min(100,Math.round(x+S)))}generateDewPoint(e,r,s){const c=(e.climate||e.parameters||{}).dewPointProfile;if(!c)return this.estimateDewPointFromHumidity(e,r,s);const d=this.getSeason(r.month),m=c[d]||c.annual;if(!m)return this.estimateDewPointFromHumidity(e,r,s);const h=Vt(e.id,r,"dewpoint"),p=new Pt(h),g=m.variance||8;let x=m.mean+p.range(-g,g);const S=(s.characteristics.precipitation||0)*8;x+=S;const b=m.max||m.mean+15;return x=Math.min(x,b),Math.round(x)}estimateDewPointFromHumidity(e,r,s){const l=e.climate||e.parameters||{},c=l.humidityProfile,d=l.temperatureProfile;if(!c||!d)return 55;const m=this.getSeason(r.month),h=c[m]||c.annual,p=d[m]||d.annual;if(!h||!p)return 55;const g=h.mean,x=p.mean,w=(100-g)*.45,S=x-w,b=Vt(e.id,r,"dewpoint-est"),N=new Pt(b),k=6;let C=S+N.range(-k,k);const E=s.characteristics.precipitation||0;return C+=E*6,Math.round(C)}calculateHumidityFromDewPoint(e,r){const s=Math.min(r,e),l=(e-32)*5/9,c=(s-32)*5/9,d=17.625,m=243.04,h=100*Math.exp(d*c/(m+c))/Math.exp(d*l/(m+l));return Math.min(100,Math.max(0,Math.round(h)))}generatePrecipitation(e,r,s,l){const c=Vt(e.id,r,"precipitation");if(!this.patternService.shouldPrecipitate(s,e,r,c))return{isOccurring:!1,type:null,intensity:null};const m={...r,hour:r.hour-1>=0?r.hour-1:23},h=this.tempService.getTemperature(e,m),p=this.patternService.getTemperatureModifier(this.patternService.getCurrentPattern(e,m),e,m),g=Math.round(h+p);let x;l<=28?x="snow":l<=32?new Pt(c+999).next()<.5?x="freezing-rain":x="sleet":l<=38?(g>38||g<=32,x="sleet"):x="rain";const S=new Pt(c+1).next();let b;return S<.4?b="light":S<.85?b="moderate":b="heavy",{isOccurring:!0,type:x,intensity:b}}determineCondition(e,r,s,l,c,d,m){if(s.isOccurring){const{type:g,intensity:x}=s;if(g==="rain"){if(x==="light")return St.LIGHT_RAIN;if(x==="heavy"){const w=this.checkThunderstorm(e,d,l,m);return w||St.HEAVY_RAIN}return St.RAIN}if(g==="snow")return x==="light"?St.LIGHT_SNOW:x==="heavy"?m.speed>=30&&l<=20?St.BLIZZARD:St.HEAVY_SNOW:St.SNOW;if(g==="sleet")return St.SLEET;if(g==="freezing-rain")return St.FREEZING_RAIN}if(c>90&&d.hour>=5&&d.hour<=9)return St.FOG;if(c>85)return St.MIST;const h=Vt(e.id,d,"sky"),p=this.patternService.getSkyCondition(r,h);return p==="clear"?St.CLEAR:p==="partly-cloudy"?St.PARTLY_CLOUDY:p==="cloudy"?St.CLOUDY:St.OVERCAST}checkThunderstorm(e,r,s,l){const m=((e.climate||e.parameters||{}).specialFactors||{}).thunderstorms||0;if(m<=0||s<55)return null;const h=Vt(e.id,r,"thunderstorm"),p=new Pt(h);let g=m*.6;r.hour>=14&&r.hour<=20&&(g+=.15);const x=r.month;return x>=5&&x<=8&&(g+=.1),s>=80&&(g+=.1),p.next()<g?St.THUNDERSTORM:null}generateEffects(e,r,s,l,c,d){const m=[];if(s<=0?m.push("Extreme Cold: Risk of frostbite"):s<=20&&m.push("Severe Cold: Increased cold exposure risk"),s>=100?m.push("Extreme Heat: Risk of heat stroke"):s>=90&&m.push("Severe Heat: Increased heat exhaustion risk"),r.speed>=40?m.push("High Winds: Difficult travel, projectiles affected"):r.speed>=25&&m.push("Strong Winds: Ranged attacks disadvantaged"),l.isOccurring&&(l.type==="snow"&&l.intensity==="heavy"&&m.push("Heavy Snow: Visibility reduced, travel slowed"),l.type==="rain"&&l.intensity==="heavy"&&m.push("Heavy Rain: Visibility reduced, surfaces slippery"),l.type==="freezing-rain"&&m.push("Freezing Rain: Extremely slippery surfaces")),e===St.FOG&&m.push("Heavy Fog: Visibility severely limited"),e===St.THUNDERSTORM&&(m.push("Thunderstorm: Lightning risk, seek shelter"),m.push("Disadvantage on Perception checks (thunder)"),r.speed>=40?m.push("Severe Thunderstorm: Dangerous winds, flying debris"):r.speed>=25&&m.push("Strong Thunderstorm: Gusty winds")),e===St.BLIZZARD&&(m.push("Blizzard: Whiteout conditions, visibility near zero"),m.push("Travel extremely dangerous without shelter"),m.push("Frostbite risk: CON save every hour exposed")),e!==St.THUNDERSTORM&&c&&d){const h=this.checkDistantThunder(c,d,s);h&&m.push(h)}return m}checkDistantThunder(e,r,s){const d=((e.climate||e.parameters||{}).specialFactors||{}).thunderstorms||0;if(d<=0)return null;for(let m=1;m<=2;m++){const h=(r.hour+m)%24,p=r.hour+m>=24?r.day+1:r.day,g={...r,hour:h,day:p},x=Vt(e.id,g,"thunderstorm"),w=new Pt(x),S=s;if(S<55)continue;let b=d*.6;h>=14&&h<=20&&(b+=.15),r.month>=5&&r.month<=8&&(b+=.1),S>=80&&(b+=.1);const N=this.patternService.getCurrentPattern(e,g),k=Vt(e.id,g,"precipitation");if(this.patternService.shouldPrecipitate(N,e,g,k)&&w.next()<b)return m===1?"Distant thunder heard to the horizon":"Faint rumbles of thunder in the distance"}return null}getSeason(e){return e>=3&&e<=5?"spring":e>=6&&e<=8?"summer":e>=9&&e<=11?"fall":"winter"}clearCache(){this.weatherCache.clear(),this.tempService.clearCache(),this.patternService.clearCache(),this.atmosphericService.clearCache()}}class D6{getHoursSinceYearStart(e){return(Sl(e.month,e.day)-1)*Br+e.hour}getMoonPosition(e,r=Ja){const s=this.getHoursSinceYearStart(e);return y6(s,r)}getSunPosition(e,r=ga){return ps(e.hour,r)}getLunarPhase(e,r=Ja,s=ga){const l=this.getMoonPosition(e,r),c=this.getSunPosition(e,s),d=x6(l,c),m=this.getPhaseFromAngle(d),h=w6(d),p=j6(d);return{phaseName:m.name,phaseIcon:m.icon,phaseAngle:Math.round(d*10)/10,illumination:Math.round(h),isWaxing:p,_moon:Math.round(l*10)/10,_sun:Math.round(c*10)/10}}getPhaseFromAngle(e){const r=zn(e);for(const s of Qu)if(s.maxAngle===360){if(r>=s.minAngle||r<Qu[0].maxAngle)return s}else if(r>=s.minAngle&&r<s.maxAngle)return s;return Qu[0]}getMoonriseHour(e,r=$r,s=Ja){const l=zn(r-90);return this.findAngleCrossing(e,l,s,!0)}getMoonsetHour(e,r=$r,s=Ja){const l=zn(r+90);return this.findAngleCrossing(e,l,s,!1)}findAngleCrossing(e,r,s,l=!0){const c=[];for(let h=0;h<Br;h+=.5){const p={...e,hour:h},g=this.getMoonPosition(p,s);c.push({hour:h,angle:g})}const m=[];for(let h=0;h<c.length-1;h++){const p=c[h],g=c[h+1];if(this.didCrossAngle(p.angle,g.angle,r)){const x=this.binarySearchAngleCrossing(e,r,p.hour,g.hour,s);m.push(x)}}return m.length===0?null:l?m[0]:m[m.length-1]}didCrossAngle(e,r,s){const l=zn(e),c=zn(r),d=zn(s);let m=c-l;m<-180&&(m+=360),m>180&&(m-=360);let h=d-l;return h<-180&&(h+=360),h>180&&(h-=360),m>0?h>=0&&h<=m:h<=0&&h>=m}binarySearchAngleCrossing(e,r,s,l,c){let d=s,m=l;const h=.001;for(;m-d>h;){const p=(d+m)/2,g={...e,hour:p},x=this.getMoonPosition(g,c),w=Math.abs(zn(x-r)),S=Math.abs(360-w);if(Math.min(w,S)<.1)return p;const b=this.getMoonPosition({...e,hour:d},c);this.didCrossAngle(b,x,r)?m=p:d=p}return(d+m)/2}isMoonVisible(e,r=$r,s=Ja){const l=this.getMoonPosition(e,s),c=zn(l-r);return c<=90||c>=270}formatMoonTime(e,r=!1){if(e==null)return null;let s=Math.floor(e),l=Math.round((e-s)*60);return l>=60&&(s+=1,l=0),s>=24&&(s=s%24),r?`${s.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`:s===0?`12:${l.toString().padStart(2,"0")} AM`:s===12?`12:${l.toString().padStart(2,"0")} PM`:s<12?`${s}:${l.toString().padStart(2,"0")} AM`:`${s-12}:${l.toString().padStart(2,"0")} PM`}getFormattedMoonInfo(e,r=$r,s=!1,l=Ja,c=ga){const d=this.getLunarPhase(e,l,c),m=this.getMoonriseHour(e,r,l),h=this.getMoonsetHour(e,r,l),p=this.isMoonVisible(e,r,l);return{...d,moonriseTime:m!==null?this.formatMoonTime(m,s):"No rise today",moonsetTime:h!==null?this.formatMoonTime(h,s):"No set today",isMoonVisible:p}}}const A6=new D6,Cl={permafrost:{thermalInertia:.98,effectiveLagHours:72,minTemp:-40,meltRateModifier:.5,description:"Permanently frozen ground"},rock:{thermalInertia:.95,effectiveLagHours:48,minTemp:null,meltRateModifier:1.3,description:"Bedrock and rocky terrain"},clay:{thermalInertia:.9,effectiveLagHours:36,minTemp:null,meltRateModifier:.85,description:"Clay-rich soil, river valleys"},soil:{thermalInertia:.85,effectiveLagHours:24,minTemp:null,meltRateModifier:1,description:"Standard soil, forests, grasslands"},peat:{thermalInertia:.85,effectiveLagHours:24,minTemp:null,meltRateModifier:.7,description:"Peat bogs and muskeg"},sand:{thermalInertia:.7,effectiveLagHours:12,minTemp:null,meltRateModifier:1.5,description:"Sandy soil, deserts, beaches"}},yp="soil",ti={minDepthForInsulation:4,fullInsulationDepth:12,insulatedTemp:32};class I6{constructor(){this.weatherGenerator=new qn,this.cache=new Map}getGroundTemperature(e,r,s=0){const l=`${e.id}:${r.year}:${r.month}:${r.day}:${r.hour}:${Math.round(s)}`;if(this.cache.has(l))return this.cache.get(l);const c=this.calculateGroundTemperature(e,r,s);return this.cache.set(l,c),c}calculateGroundTemperature(e,r,s){const l=e.climate?.specialFactors?.groundType||e.specialFactors?.groundType||yp,c=Cl[l]||Cl[yp],d=c.thermalInertia,m=Math.ceil(c.effectiveLagHours*2);let h=0,p=0,g=1/0,x=-1/0;for(let P=0;P<=m;P++){const _=xn(r,-P),A=this.weatherGenerator.generateWeather(e,_).temperature,$=Math.pow(d,P);h+=A*$,p+=$,g=Math.min(g,A),x=Math.max(x,A)}let w=h/p,S=!1;if(s>=ti.minDepthForInsulation){const P=Math.min(1,(s-ti.minDepthForInsulation)/(ti.fullInsulationDepth-ti.minDepthForInsulation));w<ti.insulatedTemp&&(w=w+(ti.insulatedTemp-w)*P*.5,S=P>.5)}c.minTemp!==null&&(w=Math.max(w,c.minTemp));const b=w<=32;let N="warm";w<=28?N="frozen":w<=35?N="near-freezing":w<=40&&(N="cool");const C=this.weatherGenerator.generateWeather(e,r).temperature,E=C-w;return{temperature:Math.round(w*10)/10,isFrozen:b,condition:N,groundType:l,thermalInertia:d,snowInsulated:S,canAccumulateSnow:w<=33,_debug:{lookbackHours:m,currentAirTemp:C,tempLag:Math.round(E*10)/10,airTempRange:{min:g,max:x},effectiveLagHours:c.effectiveLagHours}}}clearCache(){this.cache.clear(),this.weatherGenerator.clearCache()}}const xp={light:.2,moderate:.5,heavy:1},wp={light:.02,moderate:.05,heavy:.1},ni={snowMeltPerDegreeHour:.06,dayTimeMeltMultiplier:1.5,rainOnSnowMultiplier:2.5,iceMeltPerDegreeHour:.02,sublimationRate:.01},jp={hourlyRate:.03,maxCompaction:.65},Lr={SNOW_COVERED:{minSnow:.5,name:"Snow Covered",description:"Ground covered in snow"},ICY:{minIce:.1,name:"Icy",description:"Ice on surfaces, very slippery"},FROZEN:{name:"Frozen",description:"Ground is frozen solid"},THAWING:{name:"Thawing",description:"Ground is thawing, becoming soft"},MUDDY:{name:"Muddy",description:"Ground is saturated and muddy"},DRY:{name:"Dry",description:"Ground is dry"}};class As{constructor(){this.weatherGenerator=new qn,this.groundTempService=new I6,this.accumulationCache=new Map}getAccumulation(e,r){const s=`${e.id}:${r.year}:${r.month}:${r.day}:${r.hour}`;if(this.accumulationCache.has(s))return this.accumulationCache.get(s);const l=this.calculateAccumulation(e,r);return this.accumulationCache.set(s,l),l}calculateAccumulation(e,r){let l=0,c=0,d=0,m=0,h=0,p=0,g=0;const x=[];for(let k=336;k>=0;k--){const C=xn(r,-k),E=this.weatherGenerator.generateWeather(e,C),P=C.hour,_=P>=7&&P<=19;k<=48&&(x.push({temp:E.temperature,precip:E.precipitation,precipType:E.precipitationType}),E.temperature>32?h++:p++,E.precipitation&&g++);const L=this.groundTempService.getGroundTemperature(e,C,l),A=L.temperature;if(E.precipitation&&E.precipitationType==="snow"){const ee=xp[E.precipitationIntensity]||xp.moderate;let te=1;A>38?te=0:A>33&&(te=1-(A-33)/5);const ce=ee*te;l+=ce,c+=ce/10,m=0}else m++;if(E.precipitation&&E.precipitationType==="freezing-rain"&&A<=32){const ee=wp[E.precipitationIntensity]||wp.moderate;d+=ee}const $=L.groundType,X=(Cl[$]||Cl.soil).meltRateModifier||1,re=e.climate?.specialFactors?.dryAir||e.specialFactors?.dryAir||0;if(A>32&&(l>0||d>0)){const ee=A-32;let te=ee*ni.snowMeltPerDegreeHour*X,ce=ee*ni.iceMeltPerDegreeHour*X;if(_&&(te*=ni.dayTimeMeltMultiplier,ce*=ni.dayTimeMeltMultiplier,re>0&&(te*=1+re*.4)),E.precipitation&&E.precipitationType==="rain"&&l>0){let ge=1;A<=32?ge=.2:A<=36&&(ge=.2+.8*((A-32)/4)),te*=1+(ni.rainOnSnowMultiplier-1)*ge,E.precipitationIntensity==="heavy"&&(te+=.5*ge)}l=Math.max(0,l-te),c=Math.max(0,c-te/10),d=Math.max(0,d-ce)}const H=E.temperature,ie=re>.5?25:20,se=ni.sublimationRate*(1+re*.5);if(H<ie&&E.humidity<40&&l>0&&(l=Math.max(0,l-se),c=Math.max(0,c-se/10)),l>0&&m>0){const te=1-Math.min(jp.maxCompaction,jp.hourlyRate*Math.min(m,72))*.5;l=Math.max(c*5,l*te)}}const w=this.determineGroundCondition(l,d,h,p,g,x),S=this.groundTempService.getGroundTemperature(e,r,l),N=Math.min(100,l/24*100);return{snowDepth:Math.round(l*10)/10,snowWaterEquivalent:Math.round(c*100)/100,iceAccumulation:Math.round(d*100)/100,snowAge:Math.min(m,336),groundCondition:w,snowFillPercent:Math.round(N),groundTemperature:S.temperature,groundTempCondition:S.condition,canAccumulateSnow:S.canAccumulateSnow,isSnowCovered:l>=.5,isIcy:d>=.1,travelImpact:this.getTravelImpact(l,d,w),gameplayEffects:this.getGameplayEffects(l,d,w),_debug:{lookbackHours:336,hoursAboveFreezing:h,hoursBelowFreezing:p,recentPrecipHours:g,groundTempDebug:S._debug}}}determineGroundCondition(e,r,s,l,c,d){if(e>=Lr.SNOW_COVERED.minSnow)return Lr.SNOW_COVERED;if(r>=Lr.ICY.minIce)return Lr.ICY;const m=l/(s+l||1),h=d.length>0?d[d.length-1].temp:40;return m>.7&&h<=32?Lr.FROZEN:m>.3&&m<=.7&&h>32?Lr.THAWING:c>12||m>.2&&m<=.5&&c>6?Lr.MUDDY:Lr.DRY}getTravelImpact(e,r,s){const l=[];return e>=12?l.push("Deep snow - travel extremely difficult without snowshoes"):e>=6?l.push("Significant snow - movement speed halved on foot"):e>=2&&l.push("Snow accumulation - slightly slowed travel"),r>=.25?l.push("Severe ice - extremely treacherous, high fall risk"):r>=.1&&l.push("Icy surfaces - DEX saves to avoid slipping"),s.name==="Muddy"&&l.push("Muddy conditions - difficult terrain for wheeled vehicles"),s.name==="Thawing"&&l.push("Thawing ground - unstable footing, potential for hidden ice"),l.length>0?l:["Normal travel conditions"]}getGameplayEffects(e,r,s){const l=[];return e>=12?(l.push("Difficult terrain (half speed)"),l.push("Tracks clearly visible"),l.push("Small creatures may be hindered")):e>=6?(l.push("Difficult terrain for Small creatures"),l.push("Easy to track through snow")):e>=1&&l.push("Tracking through snow has advantage"),r>=.25?(l.push("DC 15 DEX save or fall prone when moving"),l.push("Creatures knocked prone slide 10 feet")):r>=.1&&l.push("DC 10 DEX save or fall prone when dashing"),s.name==="Frozen"&&l.push("Ground cannot be easily dug"),s.name==="Muddy"&&(l.push("Wheeled vehicles move at half speed"),l.push("Tracks easily visible")),l}getConditionSummary(e){const r=[];return e.snowDepth>=1&&r.push(`${e.snowDepth}" of snow on ground`),e.iceAccumulation>=.1&&r.push(`${e.iceAccumulation}" ice accumulation`),r.length===0&&r.push(e.groundCondition.description),r.join(", ")}clearCache(){this.accumulationCache.clear(),this.weatherGenerator.clearCache(),this.groundTempService.clearCache()}}const ri={NONE:{level:0,name:"Normal",description:"Precipitation near or above normal"},ABNORMALLY_DRY:{level:1,name:"Abnormally Dry",description:"Going into drought: short-term dryness slowing growth of crops"},MODERATE:{level:2,name:"Moderate Drought",description:"Some crop damage, streams and wells low, water shortages developing"},SEVERE:{level:3,name:"Severe Drought",description:"Crop losses likely, water shortages common, water restrictions imposed"},EXTREME:{level:4,name:"Extreme Drought",description:"Major crop losses, widespread water shortages, emergency measures"}},us={NONE:{level:0,name:"Normal",description:"Precipitation within normal range"},ELEVATED:{level:1,name:"Elevated",description:"Above normal precipitation, minor flooding possible in low areas"},MODERATE:{level:2,name:"Moderate Risk",description:"Significant excess precipitation, flooding likely in flood-prone areas"},HIGH:{level:3,name:"High Risk",description:"Major flooding expected, evacuations may be necessary"}},ds={NONE:{level:0,name:"Normal",description:"Temperatures within seasonal norms"},ADVISORY:{level:1,name:"Heat Advisory",description:"3+ consecutive days of elevated temperatures"},WARNING:{level:2,name:"Heat Warning",description:"5+ consecutive days significantly above normal, health risk"},EXTREME:{level:3,name:"Extreme Heat",description:"Dangerous prolonged heat, serious health threat"}},ms={NONE:{level:0,name:"Normal",description:"Temperatures within seasonal norms"},ADVISORY:{level:1,name:"Cold Advisory",description:"3+ consecutive days of significantly below normal temperatures"},WARNING:{level:2,name:"Cold Warning",description:"5+ consecutive days well below normal, frostbite risk"},EXTREME:{level:3,name:"Extreme Cold",description:"Dangerous prolonged cold, life-threatening conditions"}},ha={NONE:{level:0,name:"Low",description:"Conditions not favorable for wildfire spread"},MODERATE:{level:1,name:"Moderate",description:"Fires can start, spread limited"},HIGH:{level:2,name:"High",description:"Fires start easily, spread at moderate rate"},VERY_HIGH:{level:3,name:"Very High",description:"Fires start very easily, spread rapidly"},EXTREME:{level:4,name:"Extreme",description:"Fire situation explosive, extreme fire behavior"}};class R0{constructor(){this.weatherGenerator=new qn,this.snowService=new As,this.conditionsCache=new Map}getEnvironmentalConditions(e,r){const s=`${e.id}:${r.year}:${r.month}:${r.day}`;if(this.conditionsCache.has(s))return this.conditionsCache.get(s);let l=this.calculateDrought(e,r);const c=this.calculateFlooding(e,r),d=this.calculateHeatWave(e,r),m=this.calculateColdSnap(e,r);let h=this.calculateWildfireRisk(e,r,l,d);const g=this.snowService.getAccumulation(e,r).snowDepth>=2,w=this.weatherGenerator.generateWeather(e,{...r,hour:12}).temperature<=32;g&&(l.level>0&&(l={...ri.NONE,precipDeficitPercent:l.precipDeficitPercent,actualPrecipDays:l.actualPrecipDays,expectedPrecipDays:l.expectedPrecipDays,lookbackDays:l.lookbackDays,gameplayImpacts:[],suppressedBySnow:!0}),h.level>0&&(h={...ha.NONE,riskScore:0,factors:h.factors,gameplayImpacts:[],suppressedBySnow:!0})),w&&m.consecutiveDays>=2&&h.level>0&&!h.suppressedBySnow&&(h={...ha.NONE,riskScore:Math.min(h.riskScore,10),factors:h.factors,gameplayImpacts:[],suppressedByFreezing:!0});const S=[];l.level>0&&S.push({type:"drought",...l}),c.level>0&&S.push({type:"flooding",...c}),d.level>0&&S.push({type:"heatWave",...d}),m.level>0&&S.push({type:"coldSnap",...m}),h.level>0&&S.push({type:"wildfireRisk",...h});const b={drought:l,flooding:c,heatWave:d,coldSnap:m,wildfireRisk:h,activeAlerts:S,hasActiveAlerts:S.length>0};return this.conditionsCache.set(s,b),b}calculateDrought(e,r){const{actualPrecipDays:l,expectedPrecipDays:c}=this.getPrecipitationHistory(e,r,30),d=c>0?(c-l)/c*100:0;let m;return d<15?m=ri.NONE:d<30?m=ri.ABNORMALLY_DRY:d<50?m=ri.MODERATE:d<70?m=ri.SEVERE:m=ri.EXTREME,{...m,precipDeficitPercent:Math.round(d),actualPrecipDays:l,expectedPrecipDays:c,lookbackDays:30,gameplayImpacts:this.getDroughtGameplayImpacts(m)}}calculateFlooding(e,r){const s=this.weatherGenerator.generateWeather(e,{...r,hour:12}),l=s.temperature,d=this.snowService.getAccumulation(e,r).snowDepth,m=l<=32,h=d>=2,p=14,{actualPrecipDays:g,expectedPrecipDays:x,heavyPrecipDays:w,liquidPrecipDays:S}=this.getPrecipitationHistoryDetailed(e,r,p),b=this.getSnowMeltRate(e,r,3),N=s.precipitation&&s.precipitationType==="rain"&&h;if(m&&h&&!N)return{...us.NONE,precipExcessPercent:0,actualPrecipDays:g,expectedPrecipDays:x,heavyPrecipDays:w,lookbackDays:p,suppressedByFrozenConditions:!0,gameplayImpacts:[]};let k=0;const C=x>0?(S-x)/x*100:S>0?50:0;k+=Math.min(40,Math.max(0,C*.4));const E=w/p;k+=E*40,b>=10?k+=30:b>=5?k+=20:b>=2&&(k+=10),N&&(k+=20,s.precipitationIntensity==="heavy"&&(k+=10)),k=Math.max(0,Math.min(100,k));let P;return k<20?P=us.NONE:k<40?P=us.ELEVATED:k<70?P=us.MODERATE:P=us.HIGH,{...P,floodScore:k,precipExcessPercent:Math.round(C),actualPrecipDays:g,liquidPrecipDays:S,expectedPrecipDays:x,heavyPrecipDays:w,snowMelt3Day:Math.round(b*10)/10,isRainOnSnow:N,lookbackDays:p,gameplayImpacts:this.getFloodingGameplayImpacts(P)}}getPrecipitationHistoryDetailed(e,r,s){let l=0,c=0,d=0;const m=this.getExpectedPrecipitationRate(e,r),h=Math.round(s*m);for(let p=0;p<s;p++){const g=xn(r,-p*24),x=this.weatherGenerator.generateWeather(e,{...g,hour:12});x.precipitation&&(l++,x.precipitationIntensity==="heavy"&&c++,x.precipitationType==="rain"&&d++)}return{actualPrecipDays:l,expectedPrecipDays:h,heavyPrecipDays:c,liquidPrecipDays:d}}getSnowMeltRate(e,r,s){const l=xn(r,-s*24),c=this.snowService.getAccumulation(e,l),d=this.snowService.getAccumulation(e,r);return Math.max(0,c.snowDepth-d.snowDepth)}calculateHeatWave(e,r){const l=this.weatherGenerator.generateWeather(e,{...r,hour:14}).temperature,c=85,d=90,m=95;if(l<c)return{...ds.NONE,consecutiveDays:0,degreesAboveNormal:0,gameplayImpacts:[]};const{consecutiveHotDays:h,tempAboveNormal:p}=this.getTemperatureHistory(e,r,"hot");let g;return h<3?g=ds.NONE:l<d||h<5||p<10?g=ds.ADVISORY:l<m||h<7||p<15?g=ds.WARNING:g=ds.EXTREME,{...g,consecutiveDays:h,degreesAboveNormal:Math.round(p),gameplayImpacts:this.getHeatWaveGameplayImpacts(g)}}calculateColdSnap(e,r){const l=this.weatherGenerator.generateWeather(e,{...r,hour:6}).temperature,c=25,d=10,m=0;if(l>c)return{...ms.NONE,consecutiveDays:0,degreesBelowNormal:0,gameplayImpacts:[]};const{consecutiveColdDays:h,tempBelowNormal:p}=this.getTemperatureHistory(e,r,"cold");let g;return h<3?g=ms.NONE:l>d||h<5||p<10?g=ms.ADVISORY:l>m||h<7||p<15?g=ms.WARNING:g=ms.EXTREME,{...g,consecutiveDays:h,degreesBelowNormal:Math.round(p),gameplayImpacts:this.getColdSnapGameplayImpacts(g)}}calculateWildfireRisk(e,r,s,l){const c=this.weatherGenerator.generateWeather(e,{...r,hour:14});let d=0;d+=s.level*10,d+=l.level*10,c.humidity<20?d+=20:c.humidity<30?d+=15:c.humidity<40?d+=10:c.humidity<50&&(d+=5),c.windSpeed>=30?d+=20:c.windSpeed>=20?d+=15:c.windSpeed>=15?d+=10:c.windSpeed>=10&&(d+=5);const{actualPrecipDays:m}=this.getPrecipitationHistory(e,r,7);m>3?d-=20:m>1&&(d-=10),d=Math.max(0,Math.min(100,d));let h;return d<20?h=ha.NONE:d<40?h=ha.MODERATE:d<60?h=ha.HIGH:d<80?h=ha.VERY_HIGH:h=ha.EXTREME,{...h,riskScore:d,factors:{droughtContribution:s.level*10,heatContribution:l.level*10,humidityContribution:c.humidity<50?Math.round((50-c.humidity)/2.5):0,windContribution:c.windSpeed>=10?Math.min(20,Math.round((c.windSpeed-10)/1.5)):0,recentRainReduction:m>1?m>3?-20:-10:0},gameplayImpacts:this.getWildfireGameplayImpacts(h)}}getPrecipitationHistory(e,r,s){let l=0,c=0;const d=this.getExpectedPrecipitationRate(e,r),m=Math.round(s*d);for(let h=0;h<s;h++){const p=xn(r,-h*24),g=this.weatherGenerator.generateWeather(e,{...p,hour:12});g.precipitation&&(l++,g.precipitationIntensity==="heavy"&&c++)}return{actualPrecipDays:l,expectedPrecipDays:m,heavyPrecipDays:c}}getExpectedPrecipitationRate(e,r){const s=e.climate||e.parameters||{},l=s.specialFactors||{},c=s.humidityProfile||{},d=this.getSeason(r.month),m=c[d];let h=.3;return m&&(h=m.mean/200),l.dryAir&&(h*=1-l.dryAir*.8),l.permanentIce&&l.permanentIce>.7&&(h*=.15),l.coldOceanCurrent&&(h*=1-l.coldOceanCurrent*.85),l.highRainfall&&(h*=1.6),l.hasMonsoonSeason&&(d==="summer"?h*=2.5:d==="winter"&&(h*=.3)),Math.max(.05,Math.min(.9,h))}getTemperatureHistory(e,r,s){let c=0,d=0;const m=this.getExpectedSeasonalTemp(e,r),h=s==="hot"?10:-10;for(let g=0;g<14;g++){const x=xn(r,-g*24),S=this.weatherGenerator.generateWeather(e,{...x,hour:14}).temperature-m;if(s==="hot"?S>=h:S<=h)g===c&&(c++,d+=Math.abs(S));else{if(c===0)continue;break}}const p=c>0?d/c:0;return{consecutiveHotDays:s==="hot"?c:0,consecutiveColdDays:s==="cold"?c:0,tempAboveNormal:s==="hot"?p:0,tempBelowNormal:s==="cold"?p:0}}getExpectedSeasonalTemp(e,r){const l=(e.climate||e.parameters||{}).temperatureProfile||{},c=this.getSeason(r.month),d=l[c];return d?d.mean:l.annual?.mean||60}getSeason(e){return e>=3&&e<=5?"spring":e>=6&&e<=8?"summer":e>=9&&e<=11?"fall":"winter"}getDroughtGameplayImpacts(e){const r=[];return e.level>=1&&r.push("Water sources may be scarce"),e.level>=2&&r.push("Crops and vegetation stressed","+10% wildfire risk"),e.level>=3&&r.push("Water rationing likely","Grazing animals affected","+25% wildfire risk"),e.level>=4&&r.push("Emergency water restrictions","Livestock deaths possible","Critical fire danger"),r}getFloodingGameplayImpacts(e){const r=[];return e.level>=1&&r.push("Low-lying areas soggy","Minor stream flooding"),e.level>=2&&r.push("Roads may be impassable","Bridges at risk","Basement flooding"),e.level>=3&&r.push("Evacuations likely","Severe property damage","Swift water dangers"),r}getHeatWaveGameplayImpacts(e){const r=[];return e.level>=1&&r.push("Heat exhaustion risk for strenuous activity"),e.level>=2&&r.push("Avoid midday exertion","Check on vulnerable individuals","Animals need extra water"),e.level>=3&&r.push("Heat stroke danger","Outdoor work hazardous","Fire restrictions likely"),r}getColdSnapGameplayImpacts(e){const r=[];return e.level>=1&&r.push("Frostbite risk with prolonged exposure"),e.level>=2&&r.push("Pipes may freeze","Livestock need shelter","Limit outdoor time"),e.level>=3&&r.push("Life-threatening cold","Frostbite in minutes","Emergency shelter needed"),r}getWildfireGameplayImpacts(e){const r=[];return e.level>=1&&r.push("Campfires require caution"),e.level>=2&&r.push("Open burning restricted","Watch for smoke"),e.level>=3&&r.push("No open flames","Have evacuation plan ready"),e.level>=4&&r.push("Extreme fire behavior possible","Evacuate if fire spotted"),r}clearCache(){this.conditionsCache.clear(),this.weatherGenerator.clearCache(),this.snowService.clearCache()}}const ad=[{force:0,windMin:0,windMax:1,waveHeight:0,seaState:"calm",description:"Calm",seaDescription:"Sea like a mirror"},{force:1,windMin:1,windMax:3,waveHeight:.1,seaState:"calm",description:"Light air",seaDescription:"Ripples without crests"},{force:2,windMin:4,windMax:7,waveHeight:.5,seaState:"smooth",description:"Light breeze",seaDescription:"Small wavelets, crests not breaking"},{force:3,windMin:8,windMax:12,waveHeight:2,seaState:"slight",description:"Gentle breeze",seaDescription:"Large wavelets, scattered whitecaps"},{force:4,windMin:13,windMax:18,waveHeight:4,seaState:"moderate",description:"Moderate breeze",seaDescription:"Small waves, frequent whitecaps"},{force:5,windMin:19,windMax:24,waveHeight:8,seaState:"moderate",description:"Fresh breeze",seaDescription:"Moderate waves, many whitecaps"},{force:6,windMin:25,windMax:31,waveHeight:13,seaState:"rough",description:"Strong breeze",seaDescription:"Large waves, white foam crests"},{force:7,windMin:32,windMax:38,waveHeight:19,seaState:"rough",description:"Near gale",seaDescription:"Sea heaps up, foam blown in streaks"},{force:8,windMin:39,windMax:46,waveHeight:25,seaState:"very_rough",description:"Gale",seaDescription:"Moderately high waves, crests break"},{force:9,windMin:47,windMax:54,waveHeight:32,seaState:"high",description:"Strong gale",seaDescription:"High waves, dense foam, spray"},{force:10,windMin:55,windMax:63,waveHeight:41,seaState:"very_high",description:"Storm",seaDescription:"Very high waves, surface white with foam"},{force:11,windMin:64,windMax:72,waveHeight:52,seaState:"phenomenal",description:"Violent storm",seaDescription:"Exceptionally high waves"},{force:12,windMin:73,windMax:999,waveHeight:60,seaState:"phenomenal",description:"Hurricane",seaDescription:"Air filled with foam and spray"}],O6={calm:"Calm",smooth:"Smooth",slight:"Slight",moderate:"Moderate",rough:"Rough",very_rough:"Very Rough",high:"High",very_high:"Very High",phenomenal:"Phenomenal"},Hr={excellent:{label:"Excellent",description:"Perfect sailing weather"},good:{label:"Good",description:"Favorable conditions for most vessels"},fair:{label:"Fair",description:"Manageable but requires attention"},challenging:{label:"Challenging",description:"Difficult sailing, experienced crew recommended"},hazardous:{label:"Hazardous",description:"Dangerous conditions, seek shelter if possible"},dangerous:{label:"Dangerous",description:"Life-threatening, stay in port"}};class L6{constructor(){this.seaStateCache=new Map,this.weatherGenerator=new qn}getSeaState(e,r,s){const l=`${e.id}:${r.year}:${r.month}:${r.day}:${r.hour}`;if(this.seaStateCache.has(l))return this.seaStateCache.get(l);const d=(e.climate||e.parameters||{}).specialFactors||{},m=s.windSpeed||0,h=this.calculateWaveHeight(m,d),p=this.getBeaufortScale(m),g=this.calculateSwell(d,s),x=this.assessSailingConditions(h,g,s,d),{hazards:w,effects:S}=this.generateHazardsAndEffects(h,g,s,d),b={waveHeight:h.height,waveHeightRange:h.range,seaCondition:h.seaCondition,beaufortScale:p.force,beaufortDescription:p.description,beaufortSeaDescription:p.seaDescription,swellHeight:g.height,swellPeriod:g.period,swellDirection:g.direction,combinedSeaHeight:Math.round((h.height+g.height*.5)*10)/10,sailingConditions:x.rating,sailingDescription:x.description,hazards:w,effects:S,_debug:{windSpeed:m,seaType:d.seaType||"open",fetchFactor:this.getFetchFactor(d),baseSwellHeight:d.baseSwellHeight||4,baseSwellPeriod:d.baseSwellPeriod||8}};return this.seaStateCache.set(l,b),b}calculateWaveHeight(e,r){const s=this.getBeaufortScale(e),l=this.getFetchFactor(r),c=s.waveHeight*l,d=Math.round(c*.6*10)/10,m=Math.round(c*1.4*10)/10;return{height:Math.round(c*10)/10,range:[d,m],seaCondition:s.seaState}}getFetchFactor(e){const r=e.seaType||"open";return{open:1,coastal:.7,enclosed:.5,gulf:.6,strait:.4}[r]||1}getBeaufortScale(e){for(const r of ad)if(e>=r.windMin&&e<=r.windMax)return r;return ad[ad.length-1]}calculateSwell(e,r){const s=e.baseSwellHeight||4,l=e.baseSwellPeriod||8,c=e.swellSource||"westerlies",d={trade:"NE",westerlies:"W",polar:"N",local:r.windDirection||"W"};let m=1;return r.condition?.includes("Storm")||r.condition?.includes("Thunder")?m=1.5:(r.condition==="Clear"||r.condition==="Sunny")&&(m=.8),e.stormFrequency&&(m*=1+e.stormFrequency*.3),{height:Math.round(s*m*10)/10,period:l,direction:d[c]||"W"}}assessSailingConditions(e,r,s,l){let c=100;e.height>20?c-=60:e.height>13?c-=40:e.height>8?c-=25:e.height>4&&(c-=10);const d=e.height+r.height*.5;d>25?c-=20:d>15&&(c-=10);const m=s.windSpeed||0;m>45?c-=40:m>30?c-=20:m>20&&(c-=10),m<5&&(c-=15),s.visibility==="poor"?c-=20:s.visibility==="moderate"&&(c-=10),s.precipitation&&(s.precipitationIntensity==="heavy"?c-=20:c-=10),l.icebergs&&(c-=l.icebergs*30),l.reefs&&(c-=l.reefs*20),l.fog&&(c-=l.fog*15),l.tidalCurrents&&(c-=l.tidalCurrents*15),c=Math.max(0,Math.min(100,c));let h,p;return c>=90?(h="excellent",p=Hr.excellent.description):c>=75?(h="good",p=Hr.good.description):c>=55?(h="fair",p=Hr.fair.description):c>=35?(h="challenging",p=Hr.challenging.description):c>=15?(h="hazardous",p=Hr.hazardous.description):(h="dangerous",p=Hr.dangerous.description),{rating:h,description:p,score:c}}generateHazardsAndEffects(e,r,s,l){const c=[],d=[];e.height>=20?(c.push("Extreme waves"),d.push("Ship damage possible without expert handling"),d.push("Deck work extremely dangerous")):e.height>=13?(c.push("High seas"),d.push("All crew should secure themselves"),d.push("Non-essential deck work suspended")):e.height>=8&&(c.push("Rough seas"),d.push("Seasickness likely for unaccustomed sailors"),d.push("Care needed when moving on deck"));const m=s.windSpeed||0;return m>=45?(c.push("Gale force winds"),d.push("Reduced sail or bare poles recommended")):m>=30&&(c.push("Strong winds"),d.push("Reef sails")),m<5&&(c.push("Becalmed"),d.push("No wind for sailing - row, drift, or wait")),(s.visibility==="poor"||l.fog>.5)&&(c.push("Reduced visibility"),d.push("Navigation by instruments or dead reckoning"),d.push("Risk of collision or grounding")),l.icebergs>.5&&(c.push("Iceberg danger"),d.push("Lookouts required at all times"),d.push("Reduced speed in ice waters")),l.reefs>.5&&(c.push("Reef hazards"),d.push("Local pilot recommended"),d.push("Daytime passage only advised")),l.tidalCurrents>.5&&(c.push("Strong currents"),d.push("Time passage for slack water if possible")),l.hurricaneRisk>.5&&s.condition?.includes("Storm")&&(c.push("Tropical storm activity"),d.push("Seek shelter immediately")),l.squalls>.3&&s.precipitation&&(c.push("Squalls"),d.push("Sudden wind shifts and heavy rain possible")),r.direction!==s.windDirection&&e.height>4&&r.height>3&&(c.push("Crossing seas"),d.push("Confused wave pattern, uncomfortable motion")),{hazards:c,effects:d}}getSeaStateForecast(e,r,s){const l=this.getSeaState(e,r,s),c=[1,2,3,6],d=[];for(const L of c){const A=xn(r,L),$=this.weatherGenerator.generateWeather(e,A),I=this.getSeaState(e,A,$);d.push({hoursAhead:L,waveHeight:I.waveHeight,seaCondition:I.seaCondition,sailingConditions:I.sailingConditions,windSpeed:$.windSpeed,beaufortScale:I.beaufortScale})}const m=l.waveHeight,h=d.find(L=>L.hoursAhead===3)?.waveHeight||m,p=d.find(L=>L.hoursAhead===6)?.waveHeight||m;let g="steady",x="Conditions expected to remain stable";const w=(h-m)/Math.max(m,1),S=(p-m)/Math.max(m,1);w>.5||S>.75?(g="deteriorating_rapidly",x="Conditions deteriorating rapidly - seek shelter"):w>.25||S>.5?(g="deteriorating",x="Seas building - conditions worsening"):w<-.5||S<-.75?(g="improving_rapidly",x="Conditions improving quickly"):(w<-.25||S<-.5)&&(g="improving",x="Seas calming - conditions improving");const b=l.sailingConditions,N=d.find(L=>L.hoursAhead===3)?.sailingConditions,k=["excellent","good","fair","challenging","hazardous","dangerous"],C=k.indexOf(b),E=k.indexOf(N);let P=null;E>C+1?P=`Sailing conditions expected to become ${N} within 3 hours`:E<C-1&&(P=`Sailing conditions expected to improve to ${N} within 3 hours`);const _=d.reduce((L,A)=>A.waveHeight>L.waveHeight?A:L,{waveHeight:m,hoursAhead:0,seaCondition:l.seaCondition});return{current:{waveHeight:m,seaCondition:l.seaCondition,sailingConditions:b},forecasts:d,trend:g,trendDescription:x,sailingTrendWarning:P,peakConditions:_.hoursAhead>0?{hoursAhead:_.hoursAhead,waveHeight:_.waveHeight,seaCondition:_.seaCondition}:null}}clearCache(){this.seaStateCache.clear()}}class _6{constructor(){this.weatherGenerator=new qn,this.sunService=Tv,this.moonService=A6,this.wandererService=Un,this.environmentalService=new R0,this.snowService=new As,this.seaStateService=new L6}getCurrentWeather(e,r){if(!e||!r)return console.warn("WeatherService: Missing region or date"),this.getDefaultWeather();const s=this.weatherGenerator.generateWeather(e,r),l=this.getCelestialData(e,r),c=this.isOceanRegion(e),d=c?this.getOceanEnvironmental():this.environmentalService.getEnvironmentalConditions(e,r),m=c?this.getOceanSnowAccumulation():this.snowService.getAccumulation(e,r),h=this.wandererService.getWandererEvent(e,r,s);let p=null;return c&&(p=this.seaStateService.getSeaState(e,r,s),p.forecast=this.seaStateService.getSeaStateForecast(e,r,s)),{...s,celestial:l,environmental:d,snowAccumulation:m,seaState:p,wanderer:h,timestamp:this.getTimestamp(r)}}isOceanRegion(e){if(!e)return!1;const r=e.climate||e.parameters||{};return r.specialFactors?.isOcean===!0||r.biome==="ocean"||e.biome==="ocean"}getOceanEnvironmental(){return{drought:{level:0,name:"N/A",description:"Ocean region",gameplayImpacts:[]},flooding:{level:0,name:"N/A",description:"Ocean region",gameplayImpacts:[]},heatWave:{level:0,name:"Normal",description:"Temperatures within seasonal norms",consecutiveDays:0,degreesAboveNormal:0,gameplayImpacts:[]},coldSnap:{level:0,name:"Normal",description:"Temperatures within seasonal norms",consecutiveDays:0,degreesBelowNormal:0,gameplayImpacts:[]},wildfireRisk:{level:0,name:"N/A",description:"Ocean region",gameplayImpacts:[]},activeAlerts:[],hasActiveAlerts:!1,isOceanRegion:!0}}getOceanSnowAccumulation(){return{snowDepth:0,snowWaterEquivalent:0,iceAccumulation:0,snowAge:0,groundCondition:{name:"Ocean",description:"Open water - no ground accumulation"},snowFillPercent:0,groundTemperature:null,groundTempCondition:null,canAccumulateSnow:!1,isSnowCovered:!1,isIcy:!1,travelImpact:["Sea conditions determine travel"],gameplayEffects:[],isOceanRegion:!0}}getCelestialData(e,r){const s=e.latitudeBand||"temperate",l=this.sunService.getFormattedTimes(s,r,!1),c=this.moonService.getFormattedMoonInfo(r,0,!1);return{sunriseTime:l.sunriseTime,sunsetTime:l.sunsetTime,dayLength:l.dayLength,twilightLevel:l.twilightLevel,isPermanentNight:l.isPermanentNight,distanceToSun:l.distanceToSun,moonPhase:c.phaseName,moonIcon:c.phaseIcon,moonIllumination:c.illumination,isWaxing:c.isWaxing,moonriseTime:c.moonriseTime,moonsetTime:c.moonsetTime,isMoonVisible:c.isMoonVisible,phaseAngle:c.phaseAngle}}getForecast(e,r,s=24){const l=[];for(let c=0;c<s;c++){const d=xn(r,c),m=this.getCurrentWeather(e,d);l.push({hour:d.hour,day:d.day,...m})}return l}getTimestamp(e){return`${jl(e.month)} ${e.day}, Year ${e.year}, Hour ${e.hour}`}getDefaultWeather(){return{temperature:70,feelsLike:70,condition:"Clear",windSpeed:5,windDirection:"N",humidity:50,precipitation:!1,precipitationType:null,precipitationIntensity:null,pattern:"Unknown",effects:[],celestial:null,environmental:{activeAlerts:[],hasActiveAlerts:!1},timestamp:"Unknown"}}groupIntoPeriods(e){if(!e||e.length===0)return[];const r=[];let s={condition:e[0].condition,precipitationType:e[0].precipitationType,hours:1,tempMin:e[0].temperature,tempMax:e[0].temperature,startHour:e[0].hour};for(let l=1;l<e.length;l++){const c=e[l],d=c.condition===s.condition,m=c.precipitationType===s.precipitationType;d&&m?(s.hours+=1,s.tempMin=Math.min(s.tempMin,c.temperature),s.tempMax=Math.max(s.tempMax,c.temperature)):(r.push(s),s={condition:c.condition,precipitationType:c.precipitationType,hours:1,tempMin:c.temperature,tempMax:c.temperature,startHour:c.hour})}return r.push(s),r}getDailyForecast(e,r,s=7){const l=[];for(let c=0;c<s;c++){const d=xn(r,c*24),m=[];for(let S=0;S<24;S++){const b={...d,hour:S},N=this.weatherGenerator.generateWeather(e,b);m.push(N)}const h=m.map(S=>S.temperature),p=m.map(S=>S.condition),g=m.filter(S=>S.precipitation).map(S=>S.precipitationType),x={};p.forEach(S=>x[S]=(x[S]||0)+1);const w=Object.keys(x).reduce((S,b)=>x[S]>x[b]?S:b);l.push({day:c,date:d,high:Math.max(...h),low:Math.min(...h),condition:w,precipitation:g.length>0,precipitationType:g[0]||null,pattern:m[12].pattern})}return l}clearCache(){this.weatherGenerator.clearCache(),this.environmentalService.clearCache(),this.snowService.clearCache(),this.wandererService.clearCache(),this.seaStateService.clearCache()}}const Yr=new _6,F6={Clear:"Clear Skies","Partly Cloudy":"Partly Cloudy",Cloudy:"Cloudy",Overcast:"Overcast","Light Rain":"Raining Lightly",Rain:"Raining","Heavy Rain":"Raining Heavily","Light Snow":"Snowing Lightly",Snow:"Snowing","Heavy Snow":"Snowing Heavily",Sleet:"Sleeting","Freezing Rain":"Freezing Rain",Fog:"Foggy",Mist:"Misty"},Rv=(n,e="standard")=>n&&(e==="descriptive"&&F6[n]||n),z6=n=>n==="descriptive"?"Misty, Raining Heavily, Snowing":"Mist, Heavy Rain, Snow",H6=({inline:n=!1})=>{const{worlds:e,deleteWorld:r}=Kn(),{conditionPhrasing:s,setConditionPhrasing:l,showSnowAccumulation:c,setShowSnowAccumulation:d}=j0(),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[x,w]=y.useState(!1),[S,b]=y.useState(!1),N=e.flatMap(E=>E.regions),k=()=>{e.forEach(E=>{r(E.id)}),h(!1),localStorage.clear(),alert("All data has been deleted. Refreshing page..."),window.location.reload()},C=()=>{Yr.clearCache(),alert("Weather cache cleared! Weather will regenerate on next view."),window.location.reload()};return n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"settings-inline",children:[a.jsx("h6",{className:"mb-3",children:"Help & Resources"}),a.jsxs("div",{className:"d-grid gap-2 mb-3",children:[a.jsxs(Se,{variant:"outline-info",onClick:()=>g(!0),children:[a.jsx(ja,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Weather Primer"]}),a.jsxs(Se,{variant:"outline-primary",onClick:()=>w(!0),children:[a.jsx(bl,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Gameplay Mechanics"]})]}),a.jsx("h6",{className:"mb-3 mt-4",children:"Settings"}),a.jsxs("div",{className:"d-grid gap-2 mb-3",children:[a.jsxs("div",{className:"phrasing-toggle mb-2",children:[a.jsx(xe.Label,{className:"mb-1",children:"Condition Phrasing"}),a.jsxs(xe.Select,{size:"sm",value:s,onChange:E=>l(E.target.value),children:[a.jsx("option",{value:"standard",children:"Standard (Mist, Heavy Rain)"}),a.jsx("option",{value:"descriptive",children:"Descriptive (Misty, Raining Heavily)"})]}),a.jsx(xe.Text,{className:"text-muted",children:z6(s)})]}),a.jsxs("div",{className:"snow-visual-toggle mb-2",children:[a.jsx(xe.Check,{type:"switch",id:"snow-accumulation-toggle",label:"Show Snow Accumulation Visual",checked:c,onChange:E=>d(E.target.checked)}),a.jsx(xe.Text,{className:"text-muted",children:"Display snow depth as visual fill on weather card"})]}),a.jsxs(Se,{variant:"outline-primary",onClick:()=>b(!0),children:[a.jsx(cp,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Edit World Name"]}),a.jsxs(Se,{variant:"outline-secondary",onClick:C,children:[a.jsx(up,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Clear Weather Cache"]})]}),a.jsx("h6",{className:"mb-3 mt-4",children:"Danger Zone"}),a.jsx("div",{className:"d-grid gap-2",children:a.jsxs(Se,{variant:"outline-danger",onClick:()=>h(!0),children:[a.jsx(dp,{})," Nuke All Data"]})}),a.jsx("div",{className:"version-info mt-4 text-center",children:a.jsxs("small",{className:"text-muted",children:["Build: ","e29cd31"," (2025-12-31)"]})})]}),a.jsx(mp,{show:p,onHide:()=>g(!1)}),a.jsx(hp,{show:x,onHide:()=>w(!1)}),a.jsx(fp,{show:S,onHide:()=>b(!1)}),a.jsxs(Re,{show:m,onHide:()=>h(!1),children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsx(Re.Title,{children:"Delete Everything?"})}),a.jsxs(Re.Body,{children:[a.jsxs("p",{className:"text-danger",children:[a.jsx("strong",{children:"DANGER:"})," This will permanently delete ALL data including:"]}),a.jsxs("ul",{children:[a.jsxs("li",{children:["All worlds (",e.length,")"]}),a.jsxs("li",{children:["All regions (",N.length,")"]}),a.jsx("li",{children:"All preferences and settings"})]}),a.jsx("p",{children:a.jsx("strong",{children:"This action cannot be undone."})}),a.jsx("p",{children:"The page will refresh after deletion."})]}),a.jsxs(Re.Footer,{children:[a.jsx(Se,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),a.jsx(Se,{variant:"danger",onClick:k,children:"Delete Everything"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(un,{align:"end",children:[a.jsx(un.Toggle,{variant:"link",className:"settings-toggle",children:""}),a.jsxs(un.Menu,{className:"settings-menu",children:[a.jsx(un.Header,{children:"Help & Resources"}),a.jsxs(un.Item,{onClick:()=>g(!0),children:[a.jsx(ja,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Weather Primer"]}),a.jsxs(un.Item,{onClick:()=>w(!0),children:[a.jsx(bl,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Gameplay Mechanics"]}),a.jsx(un.Divider,{}),a.jsx(un.Header,{children:"Settings"}),a.jsxs(un.Item,{onClick:()=>b(!0),children:[a.jsx(cp,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Edit World Name"]}),a.jsxs(un.Item,{onClick:()=>l(s==="standard"?"descriptive":"standard"),children:["Phrasing: ",s==="standard"?"Standard":"Descriptive"]}),a.jsxs(un.Item,{onClick:C,children:[a.jsx(up,{size:16,className:"me-2",style:{display:"inline",verticalAlign:"text-bottom"}}),"Clear Weather Cache"]}),a.jsx(un.Divider,{}),a.jsx(un.Header,{children:"Danger Zone"}),a.jsxs(un.Item,{onClick:()=>h(!0),className:"text-danger",children:[a.jsx(dp,{})," Nuke All Data"]})]})]}),a.jsx(mp,{show:p,onHide:()=>g(!1)}),a.jsx(hp,{show:x,onHide:()=>w(!1)}),a.jsx(fp,{show:S,onHide:()=>b(!1)}),a.jsxs(Re,{show:m,onHide:()=>h(!1),children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsx(Re.Title,{children:"Delete Everything?"})}),a.jsxs(Re.Body,{children:[a.jsxs("p",{className:"text-danger",children:[a.jsx("strong",{children:"DANGER:"})," This will permanently delete ALL data including:"]}),a.jsxs("ul",{children:[a.jsxs("li",{children:["All worlds (",e.length,")"]}),a.jsxs("li",{children:["All regions (",N.length,")"]}),a.jsx("li",{children:"All preferences and settings"})]}),a.jsx("p",{children:a.jsx("strong",{children:"This action cannot be undone."})}),a.jsx("p",{children:"The page will refresh after deletion."})]}),a.jsxs(Re.Footer,{children:[a.jsx(Se,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),a.jsx(Se,{variant:"danger",onClick:k,children:"Delete Everything"})]})]})]})};function W6(n,e,r){return Math.max(e,Math.min(n,r))}const pt={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function Sp(n,e,r){return e===0||Math.abs(e)===1/0?Math.pow(n,r*5):n*e*r/(e+r*n)}function bp(n,e,r,s=.15){return s===0?W6(n,e,r):n<e?-Sp(e-n,r-e,s)+e:n>r?+Sp(n-r,r-e,s)+r:n}function B6(n,[e,r],[s,l]){const[[c,d],[m,h]]=n;return[bp(e,c,d,s),bp(r,m,h,l)]}function $6(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function V6(n){var e=$6(n,"string");return typeof e=="symbol"?e:String(e)}function Dt(n,e,r){return e=V6(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Cp(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),r.push.apply(r,s)}return r}function bt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cp(Object(r),!0).forEach(function(s){Dt(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}const Mv={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function kp(n){return n?n[0].toUpperCase()+n.slice(1):""}const U6=["enter","leave"];function G6(n=!1,e){return n&&!U6.includes(e)}function Y6(n,e="",r=!1){const s=Mv[n],l=s&&s[e]||e;return"on"+kp(n)+kp(l)+(G6(r,l)?"Capture":"")}const K6=["gotpointercapture","lostpointercapture"];function q6(n){let e=n.substring(2).toLowerCase();const r=!!~e.indexOf("passive");r&&(e=e.replace("passive",""));const s=K6.includes(e)?"capturecapture":"capture",l=!!~e.indexOf(s);return l&&(e=e.replace("capture","")),{device:e,capture:l,passive:r}}function X6(n,e=""){const r=Mv[n],s=r&&r[e]||e;return n+s}function Bl(n){return"touches"in n}function Pv(n){return Bl(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Q6(n){return Array.from(n.touches).filter(e=>{var r,s;return e.target===n.currentTarget||((r=n.currentTarget)===null||r===void 0||(s=r.contains)===null||s===void 0?void 0:s.call(r,e.target))})}function Z6(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Dv(n){return Bl(n)?Z6(n)[0]:n}function $d(n,e){try{const r=e.clientX-n.clientX,s=e.clientY-n.clientY,l=(e.clientX+n.clientX)/2,c=(e.clientY+n.clientY)/2,d=Math.hypot(r,s);return{angle:-(Math.atan2(r,s)*180)/Math.PI,distance:d,origin:[l,c]}}catch{}return null}function J6(n){return Q6(n).map(e=>e.identifier)}function Np(n,e){const[r,s]=Array.from(n.touches).filter(l=>e.includes(l.identifier));return $d(r,s)}function id(n){const e=Dv(n);return Bl(n)?e.identifier:e.pointerId}function fi(n){const e=Dv(n);return[e.clientX,e.clientY]}const Ep=40,Tp=800;function Av(n){let{deltaX:e,deltaY:r,deltaMode:s}=n;return s===1?(e*=Ep,r*=Ep):s===2&&(e*=Tp,r*=Tp),[e,r]}function e8(n){var e,r;const{scrollX:s,scrollY:l,scrollLeft:c,scrollTop:d}=n.currentTarget;return[(e=s??c)!==null&&e!==void 0?e:0,(r=l??d)!==null&&r!==void 0?r:0]}function t8(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:r,altKey:s,metaKey:l,ctrlKey:c}=n;Object.assign(e,{shiftKey:r,altKey:s,metaKey:l,ctrlKey:c})}return e}function kl(n,...e){return typeof n=="function"?n(...e):n}function n8(){}function r8(...n){return n.length===0?n8:n.length===1?n[0]:function(){let e;for(const r of n)e=r.apply(this,arguments)||e;return e}}function Rp(n,e){return Object.assign({},e,n||{})}const a8=32;class Iv{constructor(e,r,s){this.ctrl=e,this.args=r,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:r,ingKey:s,args:l}=this;r[s]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=l,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const r=this.state,s=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=e.target,r.currentTarget=e.currentTarget,r.lastOffset=s.from?kl(s.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=e.timeStamp)}computeValues(e){const r=this.state;r._values=e,r.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:r,config:s,shared:l}=this;r.args=this.args;let c=0;if(e&&(r.event=e,s.preventDefault&&e.cancelable&&r.event.preventDefault(),r.type=e.type,l.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,l.locked=!!document.pointerLockElement,Object.assign(l,t8(e)),l.down=l.pressed=l.buttons%2===1||l.touches>0,c=e.timeStamp-r.timeStamp,r.timeStamp=e.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const A=r._delta.map(Math.abs);pt.addTo(r._distance,A)}this.axisIntent&&this.axisIntent(e);const[d,m]=r._movement,[h,p]=s.threshold,{_step:g,values:x}=r;if(s.hasCustomTransform?(g[0]===!1&&(g[0]=Math.abs(d)>=h&&x[0]),g[1]===!1&&(g[1]=Math.abs(m)>=p&&x[1])):(g[0]===!1&&(g[0]=Math.abs(d)>=h&&Math.sign(d)*h),g[1]===!1&&(g[1]=Math.abs(m)>=p&&Math.sign(m)*p)),r.intentional=g[0]!==!1||g[1]!==!1,!r.intentional)return;const w=[0,0];if(s.hasCustomTransform){const[A,$]=x;w[0]=g[0]!==!1?A-g[0]:0,w[1]=g[1]!==!1?$-g[1]:0}else w[0]=g[0]!==!1?d-g[0]:0,w[1]=g[1]!==!1?m-g[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(w);const S=r.offset,b=r._active&&!r._blocked||r.active;b&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=l[this.ingKey]=r._active,e&&(r.first&&("bounds"in s&&(r._bounds=kl(s.bounds,r)),this.setup&&this.setup()),r.movement=w,this.computeOffset()));const[N,k]=r.offset,[[C,E],[P,_]]=r._bounds;r.overflow=[N<C?-1:N>E?1:0,k<P?-1:k>_?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const L=r._active?s.rubberband||[0,0]:[0,0];if(r.offset=B6(r._bounds,r.offset,L),r.delta=pt.sub(r.offset,S),this.computeMovement(),b&&(!r.last||c>a8)){r.delta=pt.sub(r.offset,S);const A=r.delta.map(Math.abs);pt.addTo(r.distance,A),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&c>0&&(r.velocity=[A[0]/c,A[1]/c],r.timeDelta=c)}}emit(){const e=this.state,r=this.shared,s=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!s.triggerAllEvents)return;const l=this.handler(bt(bt(bt({},r),e),{},{[this.aliasKey]:e.values}));l!==void 0&&(e.memo=l)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function i8([n,e],r){const s=Math.abs(n),l=Math.abs(e);if(s>l&&s>r)return"x";if(l>s&&l>r)return"y"}class Is extends Iv{constructor(...e){super(...e),Dt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=pt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=pt.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const r=this.state,s=this.config;if(!r.axis&&e){const l=typeof s.axisThreshold=="object"?s.axisThreshold[Pv(e)]:s.axisThreshold;r.axis=i8(r._movement,l)}r._blocked=(s.lockDirection||!!s.axis)&&!r.axis||!!s.axis&&s.axis!==r.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const s8=n=>n,Mp=.15,Ov={enabled(n=!0){return n},eventOptions(n,e,r){return bt(bt({},r.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[Mp,Mp];case!1:return[0,0];default:return pt.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return pt.toVector(n)},transform(n,e,r){const s=n||r.shared.transform;return this.hasCustomTransform=!!s,s||s8},threshold(n){return pt.toVector(n,0)}},o8=0,Ca=bt(bt({},Ov),{},{axis(n,e,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(n=o8){return n},bounds(n={}){if(typeof n=="function")return c=>Ca.bounds(n(c));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:r=1/0,top:s=-1/0,bottom:l=1/0}=n;return[[e,r],[s,l]]}}),Pp={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class l8 extends Is{constructor(...e){super(...e),Dt(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const r=e._bounds.getBoundingClientRect(),s=e.currentTarget.getBoundingClientRect(),l={left:r.left-s.left+e.offset[0],right:r.right-s.right+e.offset[0],top:r.top-s.top+e.offset[1],bottom:r.bottom-s.bottom+e.offset[1]};e._bounds=Ca.bounds(l)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const r=this.config,s=this.state;if(e.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(e.buttons):r.pointerButtons!==-1&&r.pointerButtons!==e.buttons))return;const l=this.ctrl.setEventIds(e);r.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(l&&l.size>1&&s._pointerActive)&&(this.start(e),this.setupPointer(e),s._pointerId=id(e),s._pointerActive=!0,this.computeValues(fi(e)),this.computeInitial(),r.preventScrollAxis&&Pv(e)!=="mouse"?(s._active=!1,this.setupScrollPrevention(e)):r.delay>0?(this.setupDelayTrigger(e),r.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const r=this.state,s=this.config;if(!r._pointerActive)return;const l=id(e);if(r._pointerId!==void 0&&l!==r._pointerId)return;const c=fi(e);if(document.pointerLockElement===e.target?r._delta=[e.movementX,e.movementY]:(r._delta=pt.sub(c,r._values),this.computeValues(c)),pt.addTo(r._movement,r._delta),this.compute(e),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(e);return}if(s.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===s.preventScrollAxis||s.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const r=this.state,s=this.config;if(!r._active||!r._pointerActive)return;const l=id(e);if(r._pointerId!==void 0&&l!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[c,d]=r._distance;if(r.tap=c<=s.tapsThreshold&&d<=s.tapsThreshold,r.tap&&s.filterTaps)r._force=!0;else{const[m,h]=r._delta,[p,g]=r._movement,[x,w]=s.swipe.velocity,[S,b]=s.swipe.distance,N=s.swipe.duration;if(r.elapsedTime<N){const k=Math.abs(m/r.timeDelta),C=Math.abs(h/r.timeDelta);k>x&&Math.abs(p)>S&&(r.swipe[0]=Math.sign(m)),C>w&&Math.abs(g)>b&&(r.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const r=this.config,s=r.device;r.pointerLock&&e.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,c8(e);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const r=Pp[e.key];if(r){const s=this.state,l=e.shiftKey?10:e.altKey?.1:1;this.start(e),s._delta=r(this.config.keyboardDisplacement,l),s._keyboardActive=!0,pt.addTo(s._movement,s._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Pp&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const r=this.config.device;e(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(r,"change",this.pointerMove.bind(this)),e(r,"end",this.pointerUp.bind(this)),e(r,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function c8(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Os=typeof window<"u"&&window.document&&window.document.createElement;function Lv(){return Os&&"ontouchstart"in window}function u8(){return Lv()||Os&&window.navigator.maxTouchPoints>1}function d8(){return Os&&"onpointerdown"in window}function m8(){return Os&&"exitPointerLock"in window.document}function h8(){try{return"constructor"in GestureEvent}catch{return!1}}const Tn={isBrowser:Os,gesture:h8(),touch:Lv(),touchscreen:u8(),pointer:d8(),pointerLock:m8()},f8=250,p8=180,g8=.5,v8=50,y8=250,x8=10,Dp={mouse:0,touch:0,pen:8},w8=bt(bt({},Ca),{},{device(n,e,{pointer:{touch:r=!1,lock:s=!1,mouse:l=!1}={}}){return this.pointerLock=s&&Tn.pointerLock,Tn.touch&&r?"touch":this.pointerLock?"mouse":Tn.pointer&&!l?"pointer":Tn.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&n?f8:void 0,!(!Tn.touchscreen||r===!1))return n||(r!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:r=!0,buttons:s=1,keys:l=!0}={}}){return this.pointerButtons=s,this.keys=l,!this.pointerLock&&this.device==="pointer"&&r},threshold(n,e,{filterTaps:r=!1,tapsThreshold:s=3,axis:l=void 0}){const c=pt.toVector(n,r?s:l?1:0);return this.filterTaps=r,this.tapsThreshold=s,c},swipe({velocity:n=g8,distance:e=v8,duration:r=y8}={}){return{velocity:this.transform(pt.toVector(n)),distance:this.transform(pt.toVector(e)),duration:r}},delay(n=0){switch(n){case!0:return p8;case!1:return 0;default:return n}},axisThreshold(n){return n?bt(bt({},Dp),n):Dp},keyboardDisplacement(n=x8){return n}});function _v(n){const[e,r]=n.overflow,[s,l]=n._delta,[c,d]=n._direction;(e<0&&s>0&&c<0||e>0&&s<0&&c>0)&&(n._movement[0]=n._movementBound[0]),(r<0&&l>0&&d<0||r>0&&l<0&&d>0)&&(n._movement[1]=n._movementBound[1])}const j8=30,S8=100;class b8 extends Iv{constructor(...e){super(...e),Dt(this,"ingKey","pinching"),Dt(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:r,lastOffset:s}=this.state;e==="wheel"?this.state.offset=pt.add(r,s):this.state.offset=[(1+r[0])*s[0],r[1]+s[1]]}computeMovement(){const{offset:e,lastOffset:r}=this.state;this.state.movement=[e[0]/r[0],e[1]-r[1]]}axisIntent(){const e=this.state,[r,s]=e._movement;if(!e.axis){const l=Math.abs(r)*j8-Math.abs(s);l<0?e.axis="angle":l>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const r=this.state,s=this.ctrl.touchIds;if(r._active&&r._touchIds.every(c=>s.has(c))||s.size<2)return;this.start(e),r._touchIds=Array.from(s).slice(0,2);const l=Np(e,r._touchIds);l&&this.pinchStart(e,l)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const r=this.state,s=r._pointerEvents,l=this.ctrl.pointerIds;if(r._active&&Array.from(s.keys()).every(d=>l.has(d))||(s.size<2&&s.set(e.pointerId,e),r._pointerEvents.size<2))return;this.start(e);const c=$d(...Array.from(s.values()));c&&this.pinchStart(e,c)}pinchStart(e,r){const s=this.state;s.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const r=Np(e,this.state._touchIds);r&&this.pinchMove(e,r)}pointerMove(e){const r=this.state._pointerEvents;if(r.has(e.pointerId)&&r.set(e.pointerId,e),!this.state._active)return;const s=$d(...Array.from(r.values()));s&&this.pinchMove(e,s)}pinchMove(e,r){const s=this.state,l=s._values[1],c=r.angle-l;let d=0;Math.abs(c)>270&&(d+=Math.sign(c)),this.computeValues([r.distance,r.angle-360*d]),s.origin=r.origin,s.turns=d,s._movement=[s._values[0]/s._initial[0]-1,s._values[1]-s._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const r=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}r._pointerEvents.has(e.pointerId)&&r._pointerEvents.delete(e.pointerId),r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const r=this.state;r._active||(this.start(e),this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const r=this.state;this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY];const s=r._movement;r._movement=[e.scale-1,e.rotation],r._delta=pt.sub(r._movement,s),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const r=this.config.modifierKey;r&&(Array.isArray(r)?!r.find(s=>e[s]):!e[r])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const s=this.state;s._delta=[-Av(e)[1]/S8*s.offset[0],0],pt.addTo(s._movement,s._delta),_v(s),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const r=this.config.device;r&&(e(r,"start",this[r+"Start"].bind(this)),e(r,"change",this[r+"Move"].bind(this)),e(r,"end",this[r+"End"].bind(this)),e(r,"cancel",this[r+"End"].bind(this)),e("lostPointerCapture","",this[r+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const C8=bt(bt({},Ov),{},{device(n,e,{shared:r,pointer:{touch:s=!1}={}}){if(r.target&&!Tn.touch&&Tn.gesture)return"gesture";if(Tn.touch&&s)return"touch";if(Tn.touchscreen){if(Tn.pointer)return"pointer";if(Tn.touch)return"touch"}},bounds(n,e,{scaleBounds:r={},angleBounds:s={}}){const l=d=>{const m=Rp(kl(r,d),{min:-1/0,max:1/0});return[m.min,m.max]},c=d=>{const m=Rp(kl(s,d),{min:-1/0,max:1/0});return[m.min,m.max]};return typeof r!="function"&&typeof s!="function"?[l(),c()]:d=>[l(d),c(d)]},threshold(n,e,r){return this.lockDirection=r.axis==="lock",pt.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class k8 extends Is{constructor(...e){super(...e),Dt(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(fi(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const r=fi(e),s=this.state;s._delta=pt.sub(r,s._values),pt.addTo(s._movement,s._delta),this.computeValues(r),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const N8=bt(bt({},Ca),{},{mouseOnly:(n=!0)=>n});class E8 extends Is{constructor(...e){super(...e),Dt(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const r=this.state,s=e8(e);r._delta=pt.sub(s,r._values),pt.addTo(r._movement,r._delta),this.computeValues(s),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const T8=Ca;class R8 extends Is{constructor(...e){super(...e),Dt(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const r=this.state;r._delta=Av(e),pt.addTo(r._movement,r._delta),_v(r),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const M8=Ca;class P8 extends Is{constructor(...e){super(...e),Dt(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(fi(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const r=this.state;if(!r._active)return;r._active=!1;const s=fi(e);r._movement=r._delta=pt.sub(s,r._values),this.computeValues(s),this.compute(e),r.delta=r.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const D8=bt(bt({},Ca),{},{mouseOnly:(n=!0)=>n}),M0=new Map,Vd=new Map;function A8(n){M0.set(n.key,n.engine),Vd.set(n.key,n.resolver)}const I8={key:"drag",engine:l8,resolver:w8},O8={key:"hover",engine:P8,resolver:D8},L8={key:"move",engine:k8,resolver:N8},_8={key:"pinch",engine:b8,resolver:C8},F8={key:"scroll",engine:E8,resolver:T8},z8={key:"wheel",engine:R8,resolver:M8};function H8(n,e){if(n==null)return{};var r={},s=Object.keys(n),l,c;for(c=0;c<s.length;c++)l=s[c],!(e.indexOf(l)>=0)&&(r[l]=n[l]);return r}function W8(n,e){if(n==null)return{};var r=H8(n,e),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(l=0;l<c.length;l++)s=c[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(r[s]=n[s])}return r}const B8={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Tn.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},$8=["target","eventOptions","window","enabled","transform"];function ul(n={},e){const r={};for(const[s,l]of Object.entries(e))switch(typeof l){case"function":r[s]=l.call(r,n[s],s,n);break;case"object":r[s]=ul(n[s],l);break;case"boolean":l&&(r[s]=n[s]);break}return r}function V8(n,e,r={}){const s=n,{target:l,eventOptions:c,window:d,enabled:m,transform:h}=s,p=W8(s,$8);if(r.shared=ul({target:l,eventOptions:c,window:d,enabled:m,transform:h},B8),e){const g=Vd.get(e);r[e]=ul(bt({shared:r.shared},p),g)}else for(const g in p){const x=Vd.get(g);x&&(r[g]=ul(bt({shared:r.shared},p[g]),x))}return r}class Fv{constructor(e,r){Dt(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=r}add(e,r,s,l,c){const d=this._listeners,m=X6(r,s),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},p=bt(bt({},h),c);e.addEventListener(m,l,p);const g=()=>{e.removeEventListener(m,l,p),d.delete(g)};return d.add(g),g}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class U8{constructor(){Dt(this,"_timeouts",new Map)}add(e,r,s=140,...l){this.remove(e),this._timeouts.set(e,window.setTimeout(r,s,...l))}remove(e){const r=this._timeouts.get(e);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(e=>{window.clearTimeout(e)}),this._timeouts.clear()}}class G8{constructor(e){Dt(this,"gestures",new Set),Dt(this,"_targetEventStore",new Fv(this)),Dt(this,"gestureEventStores",{}),Dt(this,"gestureTimeoutStores",{}),Dt(this,"handlers",{}),Dt(this,"config",{}),Dt(this,"pointerIds",new Set),Dt(this,"touchIds",new Set),Dt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Y8(this,e)}setEventIds(e){if(Bl(e))return this.touchIds=new Set(J6(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,r){this.handlers=e,this.nativeHandlers=r}applyConfig(e,r){this.config=V8(e,r,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const r=this.config.shared,s={};let l;if(!(r.target&&(l=r.target(),!l))){if(r.enabled){for(const d of this.gestures){const m=this.config[d],h=Ap(s,m.eventOptions,!!l);if(m.enabled){const p=M0.get(d);new p(this,e,d).bind(h)}}const c=Ap(s,r.eventOptions,!!l);for(const d in this.nativeHandlers)c(d,"",m=>this.nativeHandlers[d](bt(bt({},this.state.shared),{},{event:m,args:e})),void 0,!0)}for(const c in s)s[c]=r8(...s[c]);if(!l)return s;for(const c in s){const{device:d,capture:m,passive:h}=q6(c);this._targetEventStore.add(l,d,"",s[c],{capture:m,passive:h})}}}}function ai(n,e){n.gestures.add(e),n.gestureEventStores[e]=new Fv(n,e),n.gestureTimeoutStores[e]=new U8}function Y8(n,e){e.drag&&ai(n,"drag"),e.wheel&&ai(n,"wheel"),e.scroll&&ai(n,"scroll"),e.move&&ai(n,"move"),e.pinch&&ai(n,"pinch"),e.hover&&ai(n,"hover")}const Ap=(n,e,r)=>(s,l,c,d={},m=!1)=>{var h,p;const g=(h=d.capture)!==null&&h!==void 0?h:e.capture,x=(p=d.passive)!==null&&p!==void 0?p:e.passive;let w=m?s:Y6(s,l,g);r&&x&&(w+="Passive"),n[w]=n[w]||[],n[w].push(c)},K8=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function q8(n){const e={},r={},s=new Set;for(let l in n)K8.test(l)?(s.add(RegExp.lastMatch),r[l]=n[l]):e[l]=n[l];return[r,e,s]}function ii(n,e,r,s,l,c){if(!n.has(r)||!M0.has(s))return;const d=r+"Start",m=r+"End",h=p=>{let g;return p.first&&d in e&&e[d](p),r in e&&(g=e[r](p)),p.last&&m in e&&e[m](p),g};l[s]=h,c[s]=c[s]||{}}function X8(n,e){const[r,s,l]=q8(n),c={};return ii(l,r,"onDrag","drag",c,e),ii(l,r,"onWheel","wheel",c,e),ii(l,r,"onScroll","scroll",c,e),ii(l,r,"onPinch","pinch",c,e),ii(l,r,"onMove","move",c,e),ii(l,r,"onHover","hover",c,e),{handlers:c,config:e,nativeHandlers:s}}function Q8(n,e={},r,s){const l=ut.useMemo(()=>new G8(n),[]);if(l.applyHandlers(n,s),l.applyConfig(e,r),ut.useEffect(l.effect.bind(l)),ut.useEffect(()=>l.clean.bind(l),[]),e.target===void 0)return l.bind.bind(l)}function Z8(n){return n.forEach(A8),function(r,s){const{handlers:l,nativeHandlers:c,config:d}=X8(r,s||{});return Q8(l,d,void 0,c)}}function J8(n,e){return Z8([I8,_8,F8,z8,L8,O8])(n,e||{})}const zv={polar:"rgba(240, 248, 255, 0.3)",subarctic:"rgba(173, 216, 230, 0.3)",boreal:"rgba(102, 178, 178, 0.3)",temperate:"rgba(144, 238, 144, 0.3)",subtropical:"rgba(189, 218, 87, 0.3)",tropical:"rgba(255, 200, 87, 0.3)"},ej={polar:"rgba(240, 248, 255, 0.5)",subarctic:"rgba(173, 216, 230, 0.5)",boreal:"rgba(102, 178, 178, 0.5)",temperate:"rgba(144, 238, 144, 0.5)",subtropical:"rgba(189, 218, 87, 0.5)",tropical:"rgba(255, 200, 87, 0.5)"},P0={polar:"Polar",subarctic:"Subarctic",boreal:"Boreal",temperate:"Temperate",subtropical:"Subtropical",tropical:"Tropical"};function Hv(n,e){if(!e||!n)return[];const{milesPerPixel:r,topEdgeDistanceFromCenter:s}=e,l=n*r,c=s,d=s+l,m=[];for(const[h,[p,g]]of Object.entries(b0))if(g>c&&p<d){const x=Math.max(0,(p-c)/r),w=Math.min(n,(g-c)/r);m.push({name:h,label:P0[h],color:zv[h],topPx:x,bottomPx:w,heightPx:w-x,minMiles:p,maxMiles:g})}return m.sort((h,p)=>h.topPx-p.topPx)}function Ip(n,e,r){if(!r||n<0||n>e)return null;const{milesPerPixel:s,topEdgeDistanceFromCenter:l}=r,c=l+n*s;for(const[d,[m,h]]of Object.entries(b0))if(c>=m&&c<h)return d;return null}function tj(n,e,r){if(!r||!n||!e)return[];const{milesPerPixel:s,topEdgeDistanceFromCenter:l}=r,c=e*s,d=n/2,m=-l/s,h=[];for(const[p,[g,x]]of Object.entries(b0)){const w=l,S=l+c;if(x<=w||g>=S)continue;const b=g/s,N=x/s,k=Op(b,n,e,d,m),C=Op(N,n,e,d,m);(k||C)&&h.push({name:p,label:P0[p],color:zv[p],strokeColor:ej[p],innerRadiusPx:b,outerRadiusPx:N,centerXPx:d,centerYPx:m,innerArc:k,outerArc:C,minMiles:g,maxMiles:x})}return h}function Op(n,e,r,s,l){const c=l-n,d=l+n;if(d<0||c>r)return null;const m=Math.max(0,c),h=Math.min(r,d),p=[],g=50;for(let x=0;x<=g;x++){const w=m+(h-m)*(x/g),S=w-l,b=n*n-S*S;if(b>=0){const N=Math.sqrt(b),k=s-N,C=s+N,E=Math.max(0,k),P=Math.min(e,C);E<P&&p.push({y:w,leftX:E,rightX:P})}}return p.length===0?null:{points:p,visibleTopY:m,visibleBottomY:h,radius:n}}function nj(n,e,r){const{innerArc:s,outerArc:l,centerXPx:c,centerYPx:d,innerRadiusPx:m,outerRadiusPx:h}=n;if(!l||l.points.length<2)return"";const p=l.points,g=s?s.points:[];let x="";const w=p[0];x=`M ${w.leftX} ${w.y}`;for(let b=1;b<p.length;b++)x+=` L ${p[b].leftX} ${p[b].y}`;const S=p[p.length-1];x+=` L ${S.rightX} ${S.y}`;for(let b=p.length-2;b>=0;b--)x+=` L ${p[b].rightX} ${p[b].y}`;if(g.length>=2){const b=g[0];x+=` L ${b.rightX} ${b.y}`;for(let k=1;k<g.length;k++)x+=` L ${g[k].rightX} ${g[k].y}`;const N=g[g.length-1];x+=` L ${N.leftX} ${N.y}`;for(let k=g.length-2;k>=0;k--)x+=` L ${g[k].leftX} ${g[k].y}`}return x+=" Z",x}function Wv(n,e,r){if(!r?.milesPerPixel)return 0;const s=e.x-n.x,l=e.y-n.y;return Math.sqrt(s*s+l*l)*r.milesPerPixel}function Lp(n,e){if(!n||n.length<2||!e?.milesPerPixel)return 0;let r=0;for(let s=1;s<n.length;s++)r+=Wv(n[s-1],n[s],e);return r}function sd(n){return!n||n.length===0?"":n.map(e=>`${e.x},${e.y}`).join(" ")}function _p(n){return n<.1?`${Math.round(n*5280).toLocaleString()} ft`:n<10?`${n.toFixed(1)} mi`:`${Math.round(n).toLocaleString()} mi`}const od=["#e74c3c","#3498db","#2ecc71","#f39c12","#9b59b6","#1abc9c","#e91e63","#00bcd4"];function rj(n){const e=new Set(n?.map(s=>s.color)||[]);return od.find(s=>!e.has(s))||od[n?.length%od.length||0]}function _r(n,e){if(!n||n.length<3||!e?.milesPerPixel)return 0;let r=0;for(let s=0;s<n.length;s++){const l=n[s],c=n[(s+1)%n.length];r+=Wv(l,c,e)}return r}function Fr(n,e){if(!n||n.length<3||!e?.milesPerPixel)return 0;let r=0;for(let l=0;l<n.length;l++){const c=n[l],d=n[(l+1)%n.length];r+=c.x*d.y,r-=d.x*c.y}r=Math.abs(r)/2;const s=e.milesPerPixel;return r*s*s}function Vn(n){return!n||n.length===0?"":n.map(e=>`${e.x},${e.y}`).join(" ")}function aj(n,e,r){if(!r||r.length<3)return!1;let s=!1;for(let l=0,c=r.length-1;l<r.length;c=l++){const d=r[l].x,m=r[l].y,h=r[c].x,p=r[c].y;m>e!=p>e&&n<(h-d)*(e-m)/(p-m)+d&&(s=!s)}return s}function Fp(n,e,r,s=10){if(!r||r.length===0)return null;let l=null,c=s;for(const d of r){const m=d.x-n,h=d.y-e,p=Math.sqrt(m*m+h*h);p<c&&(c=p,l={...d,distance:p})}return l}function ij(n,e,r=[],s=[],l=12){let c=null,d=l;for(const m of r){if(!m.vertices||m.vertices.length===0)continue;const h=Fp(n,e,m.vertices,d);h&&h.distance<d&&(d=h.distance,c={regionType:"weather",regionId:m.id,vertex:{x:h.x,y:h.y},distance:h.distance})}for(const m of s){if(!m.vertices||m.vertices.length===0)continue;const h=Fp(n,e,m.vertices,d);h&&h.distance<d&&(d=h.distance,c={regionType:"political",regionId:m.id,vertex:{x:h.x,y:h.y},distance:h.distance})}return c}function il(n){return n<.01?`${Math.round(n*640).toLocaleString()} acres`:n<1?`${n.toFixed(2)} sq mi`:n<100?`${n.toFixed(1)} sq mi`:`${Math.round(n).toLocaleString()} sq mi`}const sj=["#3498db","#2ecc71","#9b59b6","#1abc9c","#5dade2","#58d68d"],oj=["#e74c3c","#f39c12","#8e44ad","#d35400","#c0392b","#e67e22"];function zp(n,e){const r=new Set(n?.map(l=>l.color)||[]);return e.find(l=>!r.has(l))||e[n?.length%e.length||0]}function lj(n,e,r,s,l,c){const d=l-r,m=c-s,h=d*d+m*m;if(h===0)return{x:r,y:s,t:0};const p=Math.max(0,Math.min(1,((n-r)*d+(e-s)*m)/h));return{x:r+p*d,y:s+p*m,t:p}}function ld(n,e,r,s=null,l=15){let c=null,d=l;for(const m of r)if(m.id!==s&&!(!m.vertices||m.vertices.length<3))for(let h=0;h<m.vertices.length;h++){const p=m.vertices[h],g=m.vertices[(h+1)%m.vertices.length],x=lj(n,e,p.x,p.y,g.x,g.y),w=n-x.x,S=e-x.y,b=Math.sqrt(w*w+S*S);b<d&&(d=b,c={regionId:m.id,regionName:m.name,edgeIndex:h,insertAfterIndex:h,vertex1:{...p},vertex2:{...g},projectedPoint:{x:x.x,y:x.y},distance:b,t:x.t})}return c}function cj(n,e,r,s=null){for(const l of r)if(l.id!==s&&!(!l.vertices||l.vertices.length<3)&&aj(n,e,l.vertices))return{regionId:l.id,regionName:l.name};return null}function cd(n,e,r,s=null,l=12){let c=null,d=l;for(const m of r)if(m.id!==s&&!(!m.vertices||m.vertices.length===0))for(const h of m.vertices){const p=h.x-n,g=h.y-e,x=Math.sqrt(p*p+g*g);x<d&&(d=x,c={regionId:m.id,vertex:{...h},distance:x})}return c}const Hp=2e3,uj=.85,dj=n=>new Promise((e,r)=>{const s=new Image;s.onload=()=>{const l=s.width,c=s.height,d=Math.max(l,c);if(d<=Hp){e({dataUrl:n,originalWidth:l,originalHeight:c,newWidth:l,newHeight:c,wasCompressed:!1,scaleFactor:1});return}const m=Hp/d,h=Math.round(l*m),p=Math.round(c*m),g=document.createElement("canvas");g.width=h,g.height=p;const x=g.getContext("2d");x.imageSmoothingEnabled=!0,x.imageSmoothingQuality="high",x.drawImage(s,0,0,h,p);const w=g.toDataURL("image/jpeg",uj);e({dataUrl:w,originalWidth:l,originalHeight:c,newWidth:h,newHeight:p,wasCompressed:!0,scaleFactor:m})},s.onerror=()=>{r(new Error("Failed to load image for compression"))},s.src=n}),Wp=({show:n,onHide:e,continent:r})=>{const{updateContinentMap:s}=Kn(),l=y.useRef(null),[c,d]=y.useState(null),[m,h]=y.useState(.5),[p,g]=y.useState(0),[x,w]=y.useState([]),[S,b]=y.useState(!1),[N,k]=y.useState({width:0,height:0}),[C,E]=y.useState(1),[P,_]=y.useState(!1);y.useEffect(()=>{n&&r&&(d(r.mapImage||null),r.mapScale?(h(r.mapScale.userMilesPerPixel||r.mapScale.milesPerPixel||.5),g(r.mapScale.topEdgeDistanceFromCenter||0),r.mapScale.originalSize?(k(r.mapScale.originalSize),E(r.mapScale.scaleFactor||1),_(r.mapScale.scaleFactor&&r.mapScale.scaleFactor!==1)):(k({width:0,height:0}),E(1),_(!1))):(h(.5),g(0),k({width:0,height:0}),E(1),_(!1)))},[n,r]),y.useEffect(()=>{if(N.height>0){const H={milesPerPixel:m,topEdgeDistanceFromCenter:p},ie=Hv(N.height,H);w(ie)}},[m,p,N.height]);const L=async H=>{const ie=H.target.files[0];if(!ie)return;b(!0);const se=new FileReader;se.onload=async ee=>{try{const te=ee.target.result,ce=await dj(te);d(ce.dataUrl),k({width:ce.originalWidth,height:ce.originalHeight}),E(ce.scaleFactor),_(ce.wasCompressed)}catch(te){console.error("Error processing image:",te)}finally{b(!1)}},se.readAsDataURL(ie)},A=()=>{d(null),k({width:0,height:0}),E(1),_(!1),w([]),l.current&&(l.current.value="")},$=()=>{if(!r)return;if(!c){s(r.id,null,null),e();return}const H=parseFloat(m)||.5,se={milesPerPixel:H/C,topEdgeDistanceFromCenter:parseFloat(p)||0,originalSize:N,scaleFactor:C,userMilesPerPixel:H};s(r.id,c,se),e()},I=H=>{N.width===0&&N.height===0&&k({width:H.target.naturalWidth,height:H.target.naturalHeight})},X=N.height*m,re=p+X;return a.jsxs(Re,{show:n,onHide:e,size:"lg",className:"map-config-modal",scrollable:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsxs(Re.Title,{children:[a.jsx(T0,{className:"me-2",size:24,style:{display:"inline",verticalAlign:"text-bottom"}}),r?.name||"Continent"," Map"]})}),a.jsxs(Re.Body,{children:[P&&a.jsxs(Rt,{variant:"info",className:"mb-3",children:["Your image was compressed for storage. Enter scale values based on your original image dimensions (",N.width,"  ",N.height," px) - we'll handle the rest automatically."]}),a.jsxs("div",{className:"upload-section mb-4",children:[a.jsx("h5",{children:"Map Image"}),S?a.jsx("div",{className:"upload-dropzone",children:a.jsx("p",{className:"upload-text",children:"Compressing image..."})}):c?a.jsxs("div",{className:"map-preview-container",children:[a.jsx("button",{className:"remove-map-btn",onClick:A,title:"Remove map",children:a.jsx(fs,{size:20})}),a.jsxs("div",{className:"map-preview-wrapper",children:[a.jsx("img",{src:c,alt:"World map preview",className:"map-preview-image",onLoad:I}),x.map(H=>a.jsx("div",{className:"band-overlay-preview",style:{top:`${H.topPx/N.height*100}%`,height:`${H.heightPx/N.height*100}%`,backgroundColor:H.color},children:a.jsx("span",{className:"band-label",children:H.label})},H.name))]}),N.width>0&&a.jsxs("p",{className:"image-dimensions",children:[N.width,"  ",N.height," px",P&&a.jsx("span",{className:"compressed-badge",children:" (compressed for storage)"})]})]}):a.jsxs("div",{className:"upload-dropzone",onClick:()=>l.current?.click(),children:[a.jsx(c6,{size:48,className:"upload-icon"}),a.jsx("p",{className:"upload-text",children:"Click to upload a map image"}),a.jsx("p",{className:"upload-hint",children:"PNG, JPG, or WebP recommended"})]}),a.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:L,style:{display:"none"}})]}),c&&a.jsxs("div",{className:"scale-section",children:[a.jsx("h5",{children:"Scale Configuration"}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Miles per Pixel"}),a.jsx(xe.Control,{type:"number",step:"0.1",min:"0.01",value:m,onChange:H=>h(H.target.value),className:"scale-input"}),a.jsx(xe.Text,{className:"text-muted",children:"How many miles does each pixel represent?"})]}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsxs(xe.Label,{children:["Distance from Top Edge to Center: ",a.jsxs("strong",{children:[Number(p).toLocaleString()," miles"]})]}),a.jsx(xe.Range,{min:0,max:6e3,step:50,value:p,onChange:H=>g(Number(H.target.value)),className:"distance-slider"}),a.jsxs("div",{className:"slider-labels",children:[a.jsx("span",{children:"0 (Center)"}),a.jsx("span",{children:"6,000 mi (Near Rim)"})]}),a.jsx(xe.Text,{className:"text-muted",children:"Drag to position the map - watch the bands update in the preview above"})]}),a.jsxs("div",{className:"coverage-info",children:[a.jsx("h6",{children:"Map Coverage"}),a.jsxs("ul",{children:[a.jsxs("li",{children:["Top edge: ",a.jsxs("strong",{children:[p.toLocaleString()," miles"]})," from center"]}),a.jsxs("li",{children:["Bottom edge: ",a.jsxs("strong",{children:[Math.round(re).toLocaleString()," miles"]})," from center"]}),a.jsxs("li",{children:["Map height: ",a.jsxs("strong",{children:[Math.round(X).toLocaleString()," miles"]})]})]}),x.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h6",{children:"Visible Climate Bands"}),a.jsx("div",{className:"visible-bands-list",children:x.map(H=>a.jsx("span",{className:"band-chip",style:{borderColor:H.color.replace("0.3","0.8")},children:H.label},H.name))})]})]})]})]}),a.jsxs(Re.Footer,{children:[a.jsx(Se,{variant:"secondary",onClick:e,children:"Cancel"}),a.jsx(Se,{variant:"primary",onClick:$,children:"Save Map"})]})]})},mj=({continent:n,drawingMode:e,onStartPathDrawing:r,onFinishPathDrawing:s,onCancelPathDrawing:l,activePath:c,selectedPathId:d,onSelectPath:m,onStartWeatherRegionDrawing:h,onFinishWeatherRegionDrawing:p,onCancelWeatherRegionDrawing:g,activeWeatherRegion:x,selectedWeatherRegionId:w,onSelectWeatherRegion:S,onStartPoliticalRegionDrawing:b,onFinishPoliticalRegionDrawing:N,onCancelPoliticalRegionDrawing:k,activePoliticalRegion:C,selectedPoliticalRegionId:E,onSelectPoliticalRegion:P})=>{const{updatePath:_,deletePath:L,updateWeatherRegion:A,deleteWeatherRegion:$,updatePoliticalRegion:I,deletePoliticalRegion:X}=Kn(),[re,H]=y.useState(null),[ie,se]=y.useState(null),[ee,te]=y.useState(""),ce=n?.paths||[],ge=n?.weatherRegions||[],V=n?.politicalRegions||[],Z=e==="path",U=e==="weatherRegion",R=e==="politicalRegion",B=ye=>{e==="none"&&H(re===ye?null:ye)},oe=ye=>{se(ye.id),te(ye.name)},K=(ye,be)=>{if(!ee.trim()){he();return}ye==="path"?_(n.id,be,{name:ee.trim()}):ye==="weather"?A(n.id,be,{name:ee.trim()}):ye==="political"&&I(n.id,be,{name:ee.trim()}),he()},he=()=>{se(null),te("")},ne=(ye,be)=>{ye==="path"?_(n.id,be.id,{isVisible:!be.isVisible}):ye==="weather"?A(n.id,be.id,{isVisible:!be.isVisible}):ye==="political"&&I(n.id,be.id,{isVisible:!be.isVisible})},we=(ye,be)=>{ye==="path"?(d===be&&m(null),L(n.id,be)):ye==="weather"?(w===be&&S(null),$(n.id,be)):ye==="political"&&(E===be&&P(null),X(n.id,be))},Ce=(ye,be,Ze)=>{ye==="path"?_(n.id,be,{color:Ze}):ye==="weather"?A(n.id,be,{color:Ze}):ye==="political"&&I(n.id,be,{color:Ze})};if(!n)return null;const Oe=(ye,be,Ze,Ue,dt)=>a.jsxs("div",{className:`tool-item ${Ze?"selected":""} ${be.isVisible?"":"hidden-item"}`,onClick:()=>Ue(be.id===(Ze?be.id:null)?null:be.id),children:[a.jsx("input",{type:"color",value:be.color,onChange:Be=>Ce(ye,be.id,Be.target.value),onClick:Be=>Be.stopPropagation(),className:"item-color-picker"}),ie===be.id?a.jsxs("div",{className:"item-name-edit",onClick:Be=>Be.stopPropagation(),children:[a.jsx(xe.Control,{type:"text",size:"sm",value:ee,onChange:Be=>te(Be.target.value),onKeyDown:Be=>{Be.key==="Enter"&&K(ye,be.id),Be.key==="Escape"&&he()},autoFocus:!0}),a.jsx(Se,{variant:"link",size:"sm",onClick:()=>K(ye,be.id),children:a.jsx(tl,{size:12})}),a.jsx(Se,{variant:"link",size:"sm",onClick:he,children:a.jsx(fs,{size:12})})]}):a.jsxs("div",{className:"item-info",children:[a.jsx("span",{className:"item-name",children:be.name}),a.jsx("span",{className:"item-measure",children:dt})]}),a.jsxs("div",{className:"item-actions",onClick:Be=>Be.stopPropagation(),children:[a.jsx(Se,{variant:"link",size:"sm",onClick:()=>oe(be),title:"Rename",children:a.jsx(cl,{size:12})}),a.jsx(Se,{variant:"link",size:"sm",onClick:()=>ne(ye,be),title:be.isVisible?"Hide":"Show",children:be.isVisible?a.jsx(E0,{size:12}):a.jsx(F3,{size:12})}),a.jsx(Se,{variant:"link",size:"sm",onClick:()=>we(ye,be.id),className:"delete-btn",title:"Delete",children:a.jsx(Ev,{size:12})})]})]},be.id);return a.jsxs("div",{className:"map-tools-panel",children:[a.jsxs("div",{className:`tool-section ${Z||re==="paths"?"expanded":""}`,children:[a.jsxs("div",{className:"tool-section-header",onClick:()=>B("paths"),children:[a.jsx("span",{className:"section-icon",children:a.jsx(Hd,{size:14})}),a.jsx("span",{className:"section-title",children:"Paths"}),ce.length>0&&a.jsx("span",{className:"section-count",children:ce.length}),a.jsx("span",{className:"section-chevron",children:Z||re==="paths"?a.jsx(ed,{size:14}):a.jsx(td,{size:14})})]}),(Z||re==="paths")&&a.jsxs("div",{className:"tool-section-content",children:[Z?a.jsxs("div",{className:"drawing-row",children:[a.jsxs("span",{className:"drawing-status",children:["Drawing (",c?.waypoints?.length||0," pts)"]}),c?.waypoints?.length>=2&&a.jsx("span",{className:"drawing-measure",children:_p(c.totalDistanceMiles||0)}),a.jsxs("div",{className:"drawing-buttons",children:[a.jsx(Se,{variant:"success",size:"sm",onClick:s,disabled:!c?.waypoints?.length||c.waypoints.length<2,children:a.jsx(tl,{size:14})}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:l,children:a.jsx(fs,{size:14})})]})]}):a.jsxs(Se,{variant:"outline-primary",size:"sm",onClick:r,className:"draw-btn",disabled:e!=="none",children:[a.jsx(Hd,{size:14})," Draw Path"]}),ce.length>0&&a.jsx("div",{className:"item-list",children:ce.map(ye=>Oe("path",ye,d===ye.id,m,_p(ye.totalDistanceMiles||0)))})]})]}),a.jsxs("div",{className:`tool-section weather ${U||re==="weather"?"expanded":""}`,children:[a.jsxs("div",{className:"tool-section-header",onClick:()=>B("weather"),children:[a.jsx("span",{className:"section-icon",children:a.jsx(ja,{size:14})}),a.jsx("span",{className:"section-title",children:"Weather"}),ge.length>0&&a.jsx("span",{className:"section-count",children:ge.length}),a.jsx("span",{className:"section-chevron",children:U||re==="weather"?a.jsx(ed,{size:14}):a.jsx(td,{size:14})})]}),(U||re==="weather")&&a.jsxs("div",{className:"tool-section-content",children:[U?a.jsxs("div",{className:"drawing-row weather",children:[a.jsxs("span",{className:"drawing-status",children:["Drawing (",x?.vertices?.length||0," pts)"]}),x?.vertices?.length>=3&&a.jsx("span",{className:"drawing-measure",children:il(x.areaSquareMiles||0)}),a.jsxs("div",{className:"drawing-buttons",children:[a.jsx(Se,{variant:"success",size:"sm",onClick:p,disabled:!x?.vertices?.length||x.vertices.length<3,children:a.jsx(tl,{size:14})}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:g,children:a.jsx(fs,{size:14})})]})]}):a.jsxs(Se,{variant:"outline-info",size:"sm",onClick:h,className:"draw-btn",disabled:e!=="none",children:[a.jsx(ja,{size:14})," Draw Region"]}),ge.length>0&&a.jsx("div",{className:"item-list",children:ge.map(ye=>Oe("weather",ye,w===ye.id,S,il(ye.areaSquareMiles||0)))})]})]}),a.jsxs("div",{className:`tool-section political ${R||re==="political"?"expanded":""}`,children:[a.jsxs("div",{className:"tool-section-header",onClick:()=>B("political"),children:[a.jsx("span",{className:"section-icon",children:a.jsx(zd,{size:14})}),a.jsx("span",{className:"section-title",children:"Political"}),V.length>0&&a.jsx("span",{className:"section-count",children:V.length}),a.jsx("span",{className:"section-chevron",children:R||re==="political"?a.jsx(ed,{size:14}):a.jsx(td,{size:14})})]}),(R||re==="political")&&a.jsxs("div",{className:"tool-section-content",children:[R?a.jsxs("div",{className:"drawing-row political",children:[a.jsxs("span",{className:"drawing-status",children:["Drawing (",C?.vertices?.length||0," pts)"]}),C?.vertices?.length>=3&&a.jsx("span",{className:"drawing-measure",children:il(C.areaSquareMiles||0)}),a.jsxs("div",{className:"drawing-buttons",children:[a.jsx(Se,{variant:"success",size:"sm",onClick:N,disabled:!C?.vertices?.length||C.vertices.length<3,children:a.jsx(tl,{size:14})}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:k,children:a.jsx(fs,{size:14})})]})]}):a.jsxs(Se,{variant:"outline-warning",size:"sm",onClick:b,className:"draw-btn",disabled:e!=="none",children:[a.jsx(zd,{size:14})," Draw Region"]}),V.length>0&&a.jsx("div",{className:"item-list",children:V.map(ye=>Oe("political",ye,E===ye.id,P,il(ye.areaSquareMiles||0)))})]})]})]})},hj=({continent:n,onPlaceLocation:e,onSelectRegion:r})=>{const{activeWorld:s,groupedRegions:l,createPath:c,updatePath:d,createWeatherRegion:m,updateWeatherRegion:h,createPoliticalRegion:p,updatePoliticalRegion:g,deletePoliticalRegionVertex:x,insertPoliticalRegionVertex:w,updateLinkedPoliticalVertices:S,setPoliticalVertexSharedId:b}=Kn(),N=y.useRef(null),k=y.useRef(null),[C,E]=y.useState({width:0,height:0}),[P,_]=y.useState({width:0,height:0}),[L,A]=y.useState(!1),[$,I]=y.useState(null),[X,re]=y.useState("none"),[H,ie]=y.useState(null),[se,ee]=y.useState(null),[te,ce]=y.useState(null),[ge,V]=y.useState(null),[Z,U]=y.useState(null),[R,B]=y.useState(null),[oe,K]=y.useState(null),[he,ne]=y.useState(null),we=y.useRef(null),[Ce,Oe]=y.useState(null),ye=y.useRef(null),[be,Ze]=y.useState(null),[Ue,dt]=y.useState(null),[Be,At]=y.useState(!1),[gt,nn]=y.useState(!1),[Lt,vt]=y.useState(!1),[me,Pe]=y.useState(!1),[je,ze]=y.useState(!1),[Xe,Ne]=y.useState(1),[Je,nt]=y.useState({x:0,y:0}),[Ht,Pn]=y.useState(!1),Y=y.useRef(null);y.useRef({initialZoom:1,initialPan:{x:0,y:0}});const q=n?.mapImage,z=n?.mapScale,J=z&&C.height>0?Hv(C.height,z):[],ae=z&&C.width>0&&C.height>0?tj(C.width,C.height,z):[],ke=n?(l.byContinent[n.id]||[]).filter(M=>M.mapPosition):[],Le=y.useMemo(()=>{if(!z||C.width===0||P.width===0)return null;const M=z.milesPerPixel,Q=P.width/C.width,pe=M/(Q*Xe),rt=120*pe;let Me=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3].find(tt=>tt>=rt)||5e3;const at=Me/pe;return{miles:Me,width:at,label:Me>=1e3?`${Me/1e3}k mi`:`${Me} mi`}},[z,C.width,P.width,Xe]),Ye=M=>{E({width:M.target.naturalWidth,height:M.target.naturalHeight});const Q=M.target.getBoundingClientRect();_({width:Q.width,height:Q.height})};y.useEffect(()=>{const M=()=>{if(k.current){const pe=k.current.getBoundingClientRect();pe.width>0&&_({width:pe.width,height:pe.height})}},Q=setTimeout(M,50);return window.addEventListener("resize",M),()=>{clearTimeout(Q),window.removeEventListener("resize",M)}},[q]);const et=y.useCallback(M=>{const Q=M.currentTarget.querySelector?.("img")||M.target.closest(".map-image-wrapper")?.querySelector("img");if(!Q)return null;const pe=Q.getBoundingClientRect(),ve=C.width/pe.width,rt=C.height/pe.height,qe=(M.clientX-pe.left)*ve,Me=(M.clientY-pe.top)*rt;return qe<0||qe>C.width||Me<0||Me>C.height?null:{x:Math.round(qe),y:Math.round(Me)}},[C]),qr=y.useCallback(()=>{re("path"),ee(null),ie({waypoints:[],color:rj(n?.paths||[]),totalDistanceMiles:0})},[n?.paths]),fr=y.useCallback(()=>{if(!H||H.waypoints.length<2||!n){re("none"),ie(null);return}const M=(n.paths?.length||0)+1;c(n.id,{name:`Path ${M}`,waypoints:H.waypoints,color:H.color,totalDistanceMiles:H.totalDistanceMiles}),re("none"),ie(null)},[H,n,c]),pr=y.useCallback(()=>{re("none"),ie(null)},[]),bi=y.useCallback(M=>{if(!H)return;const Q={id:`temp-${Date.now()}`,x:M.x,y:M.y},pe=[...H.waypoints,Q],ve=Lp(pe,z);ie({...H,waypoints:pe,totalDistanceMiles:ve})},[H,z]),Ls=y.useCallback(()=>{re("weatherRegion"),V(null),ce({vertices:[],color:zp(n?.weatherRegions||[],sj),perimeterMiles:0,areaSquareMiles:0})},[n?.weatherRegions]),_s=y.useCallback(()=>{if(!te||te.vertices.length<3||!n){re("none"),ce(null);return}const M=(n.weatherRegions?.length||0)+1;m(n.id,{name:`Weather Zone ${M}`,vertices:te.vertices,color:te.color,perimeterMiles:te.perimeterMiles,areaSquareMiles:te.areaSquareMiles}),re("none"),ce(null),vt(!0)},[te,n,m]),Fs=y.useCallback(()=>{re("none"),ce(null)},[]),Ci=y.useCallback(M=>{if(!te)return;const Q=ij(M.x,M.y,n?.weatherRegions||[],n?.politicalRegions||[],12);let pe={x:M.x,y:M.y};Q&&(pe={x:Q.vertex.x,y:Q.vertex.y});const ve={id:`temp-${Date.now()}`,x:pe.x,y:pe.y},rt=[...te.vertices,ve];ce({...te,vertices:rt,perimeterMiles:_r(rt,z),areaSquareMiles:Fr(rt,z)})},[te,n,z]),ki=y.useCallback(()=>{re("politicalRegion"),B(null),U({vertices:[],color:zp(n?.politicalRegions||[],oj),perimeterMiles:0,areaSquareMiles:0})},[n?.politicalRegions]),zs=y.useCallback(()=>{if(!Z||Z.vertices.length<3||!n){re("none"),U(null);return}const M=(n.politicalRegions?.length||0)+1;p(n.id,{name:`Kingdom ${M}`,vertices:Z.vertices,color:Z.color,perimeterMiles:Z.perimeterMiles,areaSquareMiles:Z.areaSquareMiles}),re("none"),U(null),Pe(!0)},[Z,n,p]),Xr=y.useCallback(()=>{re("none"),U(null)},[]),ka=y.useCallback(M=>{if(!Z)return;let Q={x:M.x,y:M.y},pe=null;const ve=cd(M.x,M.y,n?.politicalRegions||[],null,12);if(ve)Q={x:ve.vertex.x,y:ve.vertex.y},ve.vertex.sharedId?pe=ve.vertex.sharedId:(pe=tn(),b(n.id,ve.regionId,ve.vertex.id,pe));else{const Me=ld(M.x,M.y,n?.politicalRegions||[],null,15);Me&&(Q={x:Me.projectedPoint.x,y:Me.projectedPoint.y},pe=tn(),w(n.id,Me.regionId,{x:Q.x,y:Q.y,sharedId:pe},Me.insertAfterIndex))}const rt={id:`temp-${Date.now()}`,x:Q.x,y:Q.y,sharedId:pe},qe=[...Z.vertices,rt];U({...Z,vertices:qe,perimeterMiles:_r(qe,z),areaSquareMiles:Fr(qe,z)}),K(null)},[Z,n,z,w,b]),Qr=y.useCallback((M,Q,pe)=>{M.stopPropagation(),M.preventDefault();const ve=et(M);ve&&(ne({pathId:Q,waypointId:pe}),we.current=ve)},[et]),Vl=y.useCallback((M,Q,pe)=>{M.stopPropagation(),M.preventDefault();const ve=et(M);if(!ve)return;const rt={regionId:Q,vertexId:pe.id,vertex:pe};Oe(rt),ye.current=rt,we.current=ve},[et]),Zr=y.useCallback((M,Q,pe)=>{if(M.stopPropagation(),M.preventDefault(),M.touches.length!==1)return;const ve={regionId:Q,vertexId:pe.id,vertex:pe};Oe(ve),ye.current=ve},[]),Na=y.useCallback(M=>{if(M.stopPropagation(),M.preventDefault(),!ye.current||M.touches.length!==1)return;const Q=M.touches[0],pe=Ei(Q.clientX,Q.clientY);pe&&Jr(pe)},[Ei,Jr]),Ea=y.useCallback(M=>{M.stopPropagation(),ye.current&&(Oe(null),ye.current=null,we.current=null)},[]),Ni=y.useCallback((M,Q,pe)=>{M.preventDefault(),M.stopPropagation();const ve=[],rt=30;for(const qe of n?.politicalRegions||[])if(qe.id!==Q)for(const Me of qe.vertices||[]){const at=Me.x-pe.x,tt=Me.y-pe.y,it=Math.sqrt(at*at+tt*tt);it<rt&&ve.push({regionId:qe.id,regionName:qe.name,vertex:Me,distance:it})}ve.sort((qe,Me)=>qe.distance-Me.distance),dt({x:M.clientX,y:M.clientY,regionId:Q,vertex:pe,nearbyVertices:ve,canDelete:(n?.politicalRegions?.find(qe=>qe.id===Q)?.vertices?.length||0)>3})},[n?.politicalRegions]),Ul=y.useCallback(()=>{if(!Ue||!n)return;const M=n.politicalRegions?.find(Q=>Q.id===Ue.regionId);if(M){const Q=M.vertices.filter(pe=>pe.id!==Ue.vertex.id);x(n.id,Ue.regionId,Ue.vertex.id),g(n.id,Ue.regionId,{perimeterMiles:_r(Q,z),areaSquareMiles:Fr(Q,z)})}dt(null)},[Ue,n,x,g,z]),Gl=y.useCallback((M,Q)=>{if(!Ue||!n)return;const pe=Ue.vertex;let ve;pe.sharedId&&Q.sharedId||pe.sharedId?(ve=pe.sharedId,b(n.id,M,Q.id,ve)):Q.sharedId?(ve=Q.sharedId,b(n.id,Ue.regionId,pe.id,ve)):(ve=tn(),b(n.id,Ue.regionId,pe.id,ve),b(n.id,M,Q.id,ve)),S(n.id,ve,{x:pe.x,y:pe.y}),dt(null)},[Ue,n,b,S]),Yl=y.useCallback(()=>{dt(null)},[]),Xn=y.useCallback(M=>{if(!z||C.height===0)return;const Q=M.currentTarget.querySelector("img");if(!Q)return;const pe=Q.getBoundingClientRect(),ve=C.height/pe.height,rt=(M.clientY-pe.top)*ve,qe=Ip(rt,C.height,z);if(I(qe),X==="politicalRegion"&&n?.politicalRegions){const Me=et(M);if(Me){const at=cd(Me.x,Me.y,n.politicalRegions,null,12);if(at)K({type:"vertex",x:at.vertex.x,y:at.vertex.y,regionId:at.regionId,vertex:at.vertex});else{const tt=ld(Me.x,Me.y,n.politicalRegions,null,15);if(tt)K({type:"edge",x:tt.projectedPoint.x,y:tt.projectedPoint.y,regionId:tt.regionId,regionName:tt.regionName,edgeIndex:tt.edgeIndex,insertAfterIndex:tt.insertAfterIndex,vertex1:tt.vertex1,vertex2:tt.vertex2});else{const it=cj(Me.x,Me.y,n.politicalRegions,null);K(it?{type:"warning",x:Me.x,y:Me.y,regionId:it.regionId,regionName:it.regionName}:null)}}}else K(null)}else oe&&K(null);if(X==="none"&&R&&me&&n?.politicalRegions){const Me=et(M);if(Me){const at=n.politicalRegions.find(tt=>tt.id===R);if(at&&at.vertices.length>=3)if(cd(Me.x,Me.y,[at],null,12))Ze(null);else{const it=ld(Me.x,Me.y,[at],null,15);Ze(it?{regionId:at.id,edgeIndex:it.edgeIndex,insertAfterIndex:it.insertAfterIndex,x:it.projectedPoint.x,y:it.projectedPoint.y,vertex1:it.vertex1,vertex2:it.vertex2}:null)}else Ze(null)}else Ze(null)}else be&&Ze(null);if(he&&n){const Me=et(M);if(!Me)return;const at=n.paths?.find(Nt=>Nt.id===he.pathId);if(!at)return;const tt=at.waypoints.map(Nt=>Nt.id===he.waypointId?{...Nt,x:Me.x,y:Me.y}:Nt),it=Lp(tt,z);d(n.id,he.pathId,{waypoints:tt,totalDistanceMiles:it})}if(Ce&&n){const Me=et(M);if(!Me)return;const at=Ce.vertex;if(at.sharedId){S(n.id,at.sharedId,{x:Me.x,y:Me.y});for(const tt of n.politicalRegions||[])if(tt.vertices?.some(Nt=>Nt.sharedId===at.sharedId)){const Nt=tt.vertices.map(Zt=>Zt.sharedId===at.sharedId?{...Zt,x:Me.x,y:Me.y}:Zt);g(n.id,tt.id,{perimeterMiles:_r(Nt,z),areaSquareMiles:Fr(Nt,z)})}}else{const tt=n.politicalRegions?.find(it=>it.id===Ce.regionId)?.vertices.map(it=>it.id===Ce.vertexId?{...it,x:Me.x,y:Me.y}:it)||[];g(n.id,Ce.regionId,{vertices:tt,perimeterMiles:_r(tt,z),areaSquareMiles:Fr(tt,z)})}}},[z,C,he,Ce,n,et,d,g,S,X,oe,R,me,be]),Hs=y.useCallback(()=>{ne(null),Oe(null),we.current=null},[]),Ws=M=>{if(we.current)return;const Q=et(M);if(Q){if(X==="path"){bi(Q);return}if(X==="weatherRegion"){Ci(Q);return}if(X==="politicalRegion"){ka(Q);return}if(be&&R&&n){const pe=n.politicalRegions?.find(ve=>ve.id===R);if(pe){const ve={x:be.x,y:be.y,sharedId:null},rt=[...pe.vertices];rt.splice(be.insertAfterIndex+1,0,ve),w(n.id,R,ve,be.insertAfterIndex),g(n.id,R,{perimeterMiles:_r(rt,z),areaSquareMiles:Fr(rt,z)})}Ze(null);return}if(je&&z&&e){const pe=Ip(Q.y,C.height,z);pe&&(e({x:Q.x,y:Q.y,latitudeBand:pe}),ze(!1))}}},Kl=()=>{I(null),K(null),Ze(null),he&&(ne(null),we.current=null),Ce&&(Oe(null),we.current=null),Ht&&(Pn(!1),Y.current=null)},Bs=y.useCallback(()=>{Ne(M=>Math.min(M*1.5,5))},[]),$s=y.useCallback(()=>{Ne(M=>Math.max(M/1.5,1))},[]),Vs=y.useCallback(()=>{Ne(1),nt({x:0,y:0})},[]),Us=y.useCallback(M=>{if(M.ctrlKey||M.metaKey){M.preventDefault();const Q=M.deltaY>0?.9:1.1;Ne(pe=>Math.min(Math.max(pe*Q,1),5))}},[]),ql=y.useCallback(M=>{(M.button===1||M.button===0&&M.shiftKey)&&(M.preventDefault(),Pn(!0),Y.current={x:M.clientX-Je.x,y:M.clientY-Je.y})},[Je]),Xl=y.useCallback(M=>{Ht&&Y.current&&nt({x:M.clientX-Y.current.x,y:M.clientY-Y.current.y})},[Ht]),xt=y.useCallback(()=>{Pn(!1),Y.current=null},[]),Ei=y.useCallback((M,Q)=>{const pe=N.current?.querySelector("img");if(!pe)return null;const ve=pe.getBoundingClientRect(),rt=C.width/ve.width,qe=C.height/ve.height,Me=Math.round((M-ve.left)*rt),at=Math.round((Q-ve.top)*qe);return Me<0||Me>C.width||at<0||at>C.height?null:{x:Me,y:at}},[C]),Jr=y.useCallback(M=>{const Q=ye.current;if(!Q||!n)return;const pe=Q.vertex;if(pe.sharedId){S(n.id,pe.sharedId,{x:M.x,y:M.y});for(const ve of n.politicalRegions||[])if(ve.vertices?.some(qe=>qe.sharedId===pe.sharedId)){const qe=ve.vertices.map(Me=>Me.sharedId===pe.sharedId?{...Me,x:M.x,y:M.y}:Me);g(n.id,ve.id,{perimeterMiles:_r(qe,z),areaSquareMiles:Fr(qe,z)})}}else{const ve=n.politicalRegions?.find(rt=>rt.id===Q.regionId)?.vertices.map(rt=>rt.id===Q.vertexId?{...rt,x:M.x,y:M.y}:rt)||[];g(n.id,Q.regionId,{vertices:ve,perimeterMiles:_r(ve,z),areaSquareMiles:Fr(ve,z)})}},[n,z,S,g]),Gs=J8({onPinch:({first:M,offset:[Q],origin:[pe,ve],delta:[rt,qe],memo:Me})=>{if(M)return{initialZoom:Xe,lastOrigin:[pe,ve]};if(!Me)return Me;const at=Math.min(Math.max(Me.initialZoom*Q,1),5);Ne(at);const tt=pe-Me.lastOrigin[0],it=ve-Me.lastOrigin[1];return(Math.abs(tt)>.5||Math.abs(it)>.5)&&nt(Nt=>({x:Nt.x+tt,y:Nt.y+it})),{...Me,lastOrigin:[pe,ve]}},onPinchEnd:()=>{ye.current&&(Oe(null),ye.current=null)},onDrag:({pinching:M,cancel:Q,delta:[pe,ve],last:rt,xy:[qe,Me],touches:at,event:tt,tap:it})=>{if(it)return;if(M){Q();return}const Nt=at||tt?.touches?.length||0;if(Nt>=2){nt(Zt=>({x:Zt.x+pe,y:Zt.y+ve}));return}if(ye.current&&Nt<=1){const Zt=Ei(qe,Me);Zt&&Jr(Zt),rt&&(Oe(null),ye.current=null,we.current=null)}},onDragEnd:()=>{we.current=null}},{eventOptions:{passive:!1},drag:{filterTaps:!0,pointer:{touch:!0},threshold:5},pinch:{scaleBounds:{min:.2,max:5},rubberband:!0}}),Ta=(M,Q)=>{if(M.stopPropagation(),X==="path"&&Q.mapPosition){bi({x:Q.mapPosition.x,y:Q.mapPosition.y});return}if(X==="weatherRegion"&&Q.mapPosition){Ci({x:Q.mapPosition.x,y:Q.mapPosition.y});return}if(X==="politicalRegion"&&Q.mapPosition){ka({x:Q.mapPosition.x,y:Q.mapPosition.y});return}r&&r(Q.id)};return n?q?a.jsxs("div",{className:"world-map-view",children:[a.jsxs("div",{className:"map-header",children:[a.jsx("h5",{children:n.name}),a.jsxs("div",{className:"map-header-controls",children:[e&&a.jsx(Se,{variant:je?"primary":"outline-secondary",size:"sm",onClick:()=>ze(!je),title:je?"Cancel adding location":"Add a new location",className:"layer-toggle",children:a.jsx(nl,{size:14})}),a.jsx("div",{className:"header-divider"}),a.jsx(Se,{variant:gt?"primary":"outline-secondary",size:"sm",onClick:()=>nn(!gt),title:gt?"Hide climate bands":"Show climate bands",className:"layer-toggle",children:a.jsx(Wd,{size:14})}),a.jsx(Se,{variant:Be?"primary":"outline-secondary",size:"sm",onClick:()=>At(!Be),title:Be?"Hide paths":"Show paths",className:"layer-toggle",children:a.jsx(Hd,{size:14})}),a.jsx(Se,{variant:Lt?"info":"outline-secondary",size:"sm",onClick:()=>vt(!Lt),title:Lt?"Hide weather regions":"Show weather regions",className:"layer-toggle",children:a.jsx(ja,{size:14})}),a.jsx(Se,{variant:me?"warning":"outline-secondary",size:"sm",onClick:()=>Pe(!me),title:me?"Hide political regions":"Show political regions",className:"layer-toggle",children:a.jsx(zd,{size:14})}),a.jsx("div",{className:"header-divider"}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:$s,disabled:Xe<=1,title:"Zoom out",children:a.jsx(p6,{size:14})}),a.jsxs("span",{className:"zoom-level",children:[Math.round(Xe*100),"%"]}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:Bs,disabled:Xe>=5,title:"Zoom in",children:a.jsx(h6,{size:14})}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:Vs,disabled:Xe<=1,title:"Reset zoom",children:a.jsx(J3,{size:14})}),a.jsx("div",{className:"header-divider"}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:()=>A(!0),title:"Map settings",children:a.jsx(n6,{size:16})})]})]}),a.jsxs("div",{ref:N,className:`map-container ${X!=="none"?"drawing-mode":""} ${je?"placing-mode":""} ${he?"dragging":""} ${Ht?"panning":""}`,onClick:Ws,onMouseMove:M=>{Xn(M),Xl(M)},onMouseUp:M=>{Hs(),xt()},onMouseDown:ql,onMouseLeave:Kl,onWheel:Us,...Gs(),children:[a.jsxs("div",{className:"map-image-wrapper",style:{transform:`scale(${Xe}) translate(${Je.x/Xe}px, ${Je.y/Xe}px)`,transformOrigin:"center center"},children:[a.jsx("img",{ref:k,src:q,alt:"World map",className:"map-image",onLoad:Ye,draggable:!1}),C.width>0&&a.jsxs("svg",{className:"band-overlay-svg",viewBox:`0 0 ${C.width} ${C.height}`,preserveAspectRatio:"xMidYMid meet",children:[gt&&ae.map(M=>{const Q=nj(M,C.width,C.height);if(!Q)return null;const pe=M.outerArc?.points?.[0]?.y??0,ve=C.width-10;return a.jsxs("g",{className:$===M.name?"hovered":"",children:[a.jsx("path",{d:Q,fill:M.color,stroke:M.strokeColor,strokeWidth:"1",className:"band-path"}),a.jsx("text",{x:ve,y:pe+15,className:"band-label-svg",textAnchor:"end",children:M.label})]},M.name)}),Lt&&n?.weatherRegions?.filter(M=>M.isVisible).map(M=>a.jsxs("g",{className:`map-region weather-region ${ge===M.id?"selected":""}`,onClick:Q=>{Q.stopPropagation(),V(M.id===ge?null:M.id)},children:[a.jsx("polygon",{points:Vn(M.vertices),fill:M.color,fillOpacity:"0.3",stroke:M.color,strokeWidth:"2",className:"region-polygon"}),a.jsx("polygon",{points:Vn(M.vertices),fill:"transparent",stroke:"transparent",strokeWidth:"10",style:{cursor:"pointer"}}),ge===M.id&&M.vertices.map((Q,pe)=>a.jsx("circle",{cx:Q.x,cy:Q.y,r:"6",className:"vertex-marker",fill:M.color,stroke:"white",strokeWidth:"2",style:{cursor:"grab"}},Q.id))]},M.id)),te&&te.vertices.length>0&&a.jsxs("g",{className:"map-region weather-region active-drawing",children:[te.vertices.length>=3?a.jsx("polygon",{points:Vn(te.vertices),fill:te.color,fillOpacity:"0.2",stroke:te.color,strokeWidth:"2",strokeDasharray:"8 4",className:"region-polygon"}):a.jsx("polyline",{points:Vn(te.vertices),fill:"none",stroke:te.color,strokeWidth:"2",strokeDasharray:"8 4"}),te.vertices.map((M,Q)=>a.jsx("circle",{cx:M.x,cy:M.y,r:"6",className:`vertex-marker drawing ${Q===0?"start":""}`,fill:te.color,stroke:"white",strokeWidth:"2"},M.id))]}),me&&n?.politicalRegions?.filter(M=>M.isVisible&&M.id!==R).map(M=>a.jsxs("g",{className:"map-region political-region",onClick:Q=>{X!=="politicalRegion"&&(Q.stopPropagation(),B(M.id))},children:[a.jsx("polygon",{points:Vn(M.vertices),fill:M.color,fillOpacity:"0.2",stroke:M.color,strokeWidth:"3",strokeDasharray:"12 4",className:"region-polygon political",style:{pointerEvents:X==="politicalRegion"?"none":"auto"}}),a.jsx("polygon",{points:Vn(M.vertices),fill:"transparent",stroke:"transparent",strokeWidth:"10",style:{cursor:X==="politicalRegion"?"crosshair":"pointer",pointerEvents:X==="politicalRegion"?"none":"auto"}})]},M.id)),me&&R&&n?.politicalRegions?.filter(M=>M.isVisible&&M.id===R).map(M=>a.jsxs("g",{className:`map-region political-region ${R===M.id?"selected":""}`,onClick:Q=>{X!=="politicalRegion"&&(be||(Q.stopPropagation(),B(M.id===R?null:M.id)))},children:[a.jsx("polygon",{points:Vn(M.vertices),fill:M.color,fillOpacity:"0.2",stroke:M.color,strokeWidth:"3",strokeDasharray:"12 4",className:"region-polygon political",style:{pointerEvents:X==="politicalRegion"?"none":"auto"}}),a.jsx("polygon",{points:Vn(M.vertices),fill:"transparent",stroke:"transparent",strokeWidth:"10",style:{cursor:X==="politicalRegion"?"crosshair":"pointer",pointerEvents:X==="politicalRegion"?"none":"auto"}}),R===M.id&&M.vertices.map((Q,pe)=>a.jsxs("g",{children:[a.jsx("circle",{cx:Q.x,cy:Q.y,r:"20",fill:"transparent",style:{cursor:"grab",touchAction:"none"},onMouseDown:ve=>Vl(ve,M.id,Q),onTouchStart:ve=>Zr(ve,M.id,Q),onTouchMove:Na,onTouchEnd:Ea,onContextMenu:ve=>Ni(ve,M.id,Q)}),a.jsx("circle",{cx:Q.x,cy:Q.y,r:"6",className:`vertex-marker political ${Q.sharedId?"shared":""}`,fill:M.color,stroke:Q.sharedId?"#2ecc71":"white",strokeWidth:Q.sharedId?3:2,style:{cursor:"grab",pointerEvents:"none"}})]},Q.id))]},M.id)),X==="politicalRegion"&&me&&n?.politicalRegions?.filter(M=>M.isVisible).map(M=>a.jsx("g",{className:"snappable-vertices",children:M.vertices.map(Q=>a.jsx("circle",{cx:Q.x,cy:Q.y,r:"8",fill:"rgba(46, 204, 113, 0.2)",stroke:"rgba(46, 204, 113, 0.5)",strokeWidth:"1",className:"snappable-vertex-marker",style:{pointerEvents:"none"}},Q.id))},`snap-${M.id}`)),oe&&X==="politicalRegion"&&a.jsxs("g",{className:"snap-preview",children:[oe.type==="vertex"&&a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:oe.x,cy:oe.y,r:"12",fill:"none",stroke:"#2ecc71",strokeWidth:"3",className:"snap-vertex-ring"}),a.jsx("circle",{cx:oe.x,cy:oe.y,r:"5",fill:"#2ecc71"})]}),oe.type==="edge"&&a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:oe.vertex1.x,y1:oe.vertex1.y,x2:oe.vertex2.x,y2:oe.vertex2.y,stroke:"#2ecc71",strokeWidth:"4",className:"snap-edge-highlight"}),a.jsx("circle",{cx:oe.x,cy:oe.y,r:"6",fill:"#2ecc71",stroke:"white",strokeWidth:"2"})]}),oe.type==="warning"&&a.jsx(a.Fragment,{children:a.jsx("circle",{cx:oe.x,cy:oe.y,r:"10",fill:"none",stroke:"#e74c3c",strokeWidth:"3",strokeDasharray:"4 2",className:"snap-warning-ring"})})]}),be&&X==="none"&&a.jsxs("g",{className:"edge-subdivide-preview",children:[a.jsx("line",{x1:be.vertex1.x,y1:be.vertex1.y,x2:be.vertex2.x,y2:be.vertex2.y,stroke:"#3498db",strokeWidth:"4",className:"snap-edge-highlight",style:{pointerEvents:"none"}}),a.jsx("circle",{cx:be.x,cy:be.y,r:"8",fill:"#3498db",stroke:"white",strokeWidth:"2",className:"snap-vertex-ring",style:{pointerEvents:"none"}}),a.jsx("text",{x:be.x,y:be.y+1,fill:"white",fontSize:"12",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"middle",style:{pointerEvents:"none"},children:"+"})]}),Z&&Z.vertices.length>0&&a.jsxs("g",{className:"map-region political-region active-drawing",children:[Z.vertices.length>=3?a.jsx("polygon",{points:Vn(Z.vertices),fill:Z.color,fillOpacity:"0.15",stroke:Z.color,strokeWidth:"3",strokeDasharray:"8 4",className:"region-polygon political"}):a.jsx("polyline",{points:Vn(Z.vertices),fill:"none",stroke:Z.color,strokeWidth:"3",strokeDasharray:"8 4"}),Z.vertices.map((M,Q)=>a.jsx("circle",{cx:M.x,cy:M.y,r:"6",className:`vertex-marker drawing political ${Q===0?"start":""}`,fill:Z.color,stroke:"white",strokeWidth:"2"},M.id))]}),Be&&n?.paths?.filter(M=>M.isVisible).map(M=>a.jsxs("g",{className:`map-path ${se===M.id?"selected":""}`,onClick:Q=>{Q.stopPropagation(),ee(M.id===se?null:M.id)},children:[a.jsx("polyline",{points:sd(M.waypoints),fill:"none",stroke:M.color,strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",className:"path-line"}),a.jsx("polyline",{points:sd(M.waypoints),fill:"none",stroke:"transparent",strokeWidth:"12",strokeLinecap:"round",strokeLinejoin:"round",style:{cursor:"pointer"}}),se===M.id&&M.waypoints.map((Q,pe)=>a.jsx("circle",{cx:Q.x,cy:Q.y,r:"8",className:`waypoint-marker ${pe===0?"start":""} ${pe===M.waypoints.length-1?"end":""}`,fill:M.color,stroke:"white",strokeWidth:"2",onMouseDown:ve=>Qr(ve,M.id,Q.id),style:{cursor:"grab"}},Q.id))]},M.id)),H&&H.waypoints.length>0&&a.jsxs("g",{className:"map-path active-drawing",children:[a.jsx("polyline",{points:sd(H.waypoints),fill:"none",stroke:H.color,strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 4",className:"path-line"}),H.waypoints.map((M,Q)=>a.jsx("circle",{cx:M.x,cy:M.y,r:"6",className:`waypoint-marker drawing ${Q===0?"start":""}`,fill:H.color,stroke:"white",strokeWidth:"2"},M.id))]})]}),ke.map(M=>a.jsxs("div",{className:`location-pin ${r?"clickable":""}`,style:{left:`${M.mapPosition.x/C.width*100}%`,top:`${M.mapPosition.y/C.height*100}%`,transform:`translate(-50%, -100%) scale(${1/Xe})`},title:M.name,onClick:Q=>Ta(Q,M),children:[a.jsx(nl,{size:24,className:"pin-icon"}),a.jsx("span",{className:"pin-label",children:M.name})]},M.id))]}),X==="path"?a.jsxs("div",{className:"click-hint drawing",children:["Click to add waypoints",H?.waypoints?.length>=2&&" - Click checkmark to finish"]}):X==="weatherRegion"?a.jsxs("div",{className:"click-hint drawing weather",children:["Click to add vertices (min 3) - click near existing vertices to snap",te?.vertices?.length>=3&&" - Click checkmark to finish"]}):X==="politicalRegion"?a.jsxs("div",{className:`click-hint drawing political ${oe?.type==="edge"?"snap-edge":oe?.type==="vertex"?"snap-vertex":oe?.type==="warning"?"snap-warning":""}`,children:[oe?.type==="edge"?a.jsx(a.Fragment,{children:"Click to snap to edge and create shared border"}):oe?.type==="vertex"?a.jsx(a.Fragment,{children:"Click to snap to vertex and share corner"}):oe?.type==="warning"?a.jsxs(a.Fragment,{children:["Warning: Inside ",oe.regionName," - will create overlap"]}):a.jsx(a.Fragment,{children:"Click to add vertices (min 3) - hover near borders to snap"}),Z?.vertices?.length>=3&&" - Click checkmark to finish"]}):je&&a.jsxs("div",{className:"click-hint placing",children:["Click to place a new location",$&&a.jsxs("span",{className:"hint-band",children:[" in ",P0[$]]})]}),Le&&a.jsxs("div",{className:"scale-bar",children:[a.jsx("div",{className:"scale-bar-line",style:{width:Le.width}}),a.jsx("span",{className:"scale-bar-label",children:Le.label})]})]}),q&&z&&a.jsx(mj,{continent:n,drawingMode:X,onStartPathDrawing:qr,onFinishPathDrawing:fr,onCancelPathDrawing:pr,activePath:H,selectedPathId:se,onSelectPath:ee,onStartWeatherRegionDrawing:Ls,onFinishWeatherRegionDrawing:_s,onCancelWeatherRegionDrawing:Fs,activeWeatherRegion:te,selectedWeatherRegionId:ge,onSelectWeatherRegion:V,onStartPoliticalRegionDrawing:ki,onFinishPoliticalRegionDrawing:zs,onCancelPoliticalRegionDrawing:Xr,activePoliticalRegion:Z,selectedPoliticalRegionId:R,onSelectPoliticalRegion:B}),gt&&J.length>0&&a.jsx("div",{className:"band-legend",children:J.map(M=>a.jsxs("div",{className:"legend-item",children:[a.jsx("span",{className:"legend-color",style:{backgroundColor:M.color.replace("0.3","0.6")}}),a.jsx("span",{className:"legend-label",children:M.label}),a.jsxs("span",{className:"legend-range",children:[M.minMiles.toLocaleString(),"-",M.maxMiles.toLocaleString()," mi"]})]},M.name))}),a.jsx(Wp,{show:L,onHide:()=>A(!1),continent:n}),Ue&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"vertex-context-backdrop",onClick:Yl}),a.jsxs("div",{className:"vertex-context-menu",style:{left:Ue.x,top:Ue.y},children:[a.jsx("div",{className:"context-menu-header",children:"Vertex Options"}),a.jsxs("button",{className:"context-menu-item danger",onClick:Ul,disabled:!Ue.canDelete,title:Ue.canDelete?"Delete this vertex":"Cannot delete: polygon needs at least 3 vertices",children:["Delete Vertex",!Ue.canDelete&&a.jsx("span",{className:"context-menu-hint",children:"(min 3)"})]}),Ue.nearbyVertices.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"context-menu-divider"}),a.jsx("div",{className:"context-menu-section",children:"Link to:"}),Ue.nearbyVertices.map(M=>a.jsxs("button",{className:"context-menu-item",onClick:()=>Gl(M.regionId,M.vertex),children:[M.regionName,a.jsxs("span",{className:"context-menu-hint",children:["(",Math.round(M.distance),"px)"]})]},`${M.regionId}-${M.vertex.id}`))]}),Ue.nearbyVertices.length===0&&!Ue.vertex.sharedId&&a.jsx("div",{className:"context-menu-info",children:"No nearby vertices to link"}),Ue.vertex.sharedId&&a.jsx("div",{className:"context-menu-info linked",children:" Already linked"})]})]})]}):a.jsxs("div",{className:"world-map-empty",children:[a.jsx(nl,{size:48,className:"empty-icon"}),a.jsx("h5",{children:"No Map Configured"}),a.jsxs("p",{children:["Upload a map image for ",n.name," to visualize its geography and place locations."]}),a.jsxs(Se,{variant:"primary",onClick:()=>A(!0),children:[a.jsx(Nv,{size:18,className:"me-2"}),"Add Map"]}),a.jsx(Wp,{show:L,onHide:()=>A(!1),continent:n})]}):a.jsxs("div",{className:"world-map-empty",children:[a.jsx(nl,{size:48,className:"empty-icon"}),a.jsx("h5",{children:"No Continent Selected"}),a.jsx("p",{children:"Select a continent to view its map."})]})},fj=({show:n,onHide:e,region:r})=>{const{updateRegion:s,worldContinents:l}=Kn(),[c,d]=y.useState(""),[m,h]=y.useState(""),[p,g]=y.useState("temperate"),[x,w]=y.useState(""),S=C0(p),b=x?Od(p,x):null;y.useEffect(()=>{n&&r&&(d(r.name||""),h(r.continentId||""),g(r.latitudeBand||"temperate"),w(r.templateId||""))},[n,r]),y.useEffect(()=>{S.length>0&&(S.some(E=>E.id===x)||w(S[0].id))},[p,S,x]);const N=C=>{if(C.preventDefault(),!c.trim()){alert("Please enter a region name");return}if(!x){alert("Please select a template");return}const E={name:c.trim(),continentId:m||null,latitudeBand:p,templateId:x};if(p!==r.latitudeBand||x!==r.templateId){const P=Od(p,x);P&&(E.climate=ba(P))}s(r.id,E),e()},k=pv();return r?a.jsxs(Re,{show:n,onHide:e,size:"lg",centered:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsx(Re.Title,{children:"Edit Region"})}),a.jsx(Re.Body,{children:a.jsxs(xe,{onSubmit:N,children:[a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Region Name"}),a.jsx(xe.Control,{type:"text",placeholder:"e.g., The Scorching Wastes, Frostpeak Mountains",value:c,onChange:C=>d(C.target.value),autoFocus:!0})]}),l.length>0&&a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Continent"}),a.jsxs(xe.Select,{value:m,onChange:C=>h(C.target.value),children:[a.jsx("option",{value:"",children:"Uncategorized"}),l.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]}),a.jsx(xe.Text,{className:"text-muted",children:"Move this location to a different continent"})]}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Latitude Band"}),a.jsx(xe.Select,{value:p,onChange:C=>g(C.target.value),children:k.map(C=>a.jsxs("option",{value:C.key,children:[C.label," (",C.range,")"]},C.key))}),a.jsx(xe.Text,{className:"text-muted",children:"Determines sunrise/sunset times and seasonal variation"})]}),a.jsxs(xe.Group,{className:"mb-3",children:[a.jsx(xe.Label,{children:"Region Template"}),a.jsx(xe.Select,{value:x,onChange:C=>w(C.target.value),children:S.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))}),a.jsx(xe.Text,{className:"text-muted",children:"Changing template will update climate settings"})]}),b&&a.jsxs(Rt,{variant:"info",children:[a.jsx(Rt.Heading,{children:b.name}),a.jsx("p",{className:"mb-2",children:b.description}),b.gameplayImpact&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{}),a.jsxs("p",{className:"mb-0",children:[a.jsx("strong",{children:"Gameplay Impact:"})," ",b.gameplayImpact]})]})]})]})}),a.jsxs(Re.Footer,{children:[a.jsx(Se,{variant:"secondary",onClick:e,children:"Cancel"}),a.jsx(Se,{variant:"primary",onClick:N,children:"Save Changes"})]})]}):null},pj=({show:n,onHide:e,regions:r,activeRegion:s,onSelectRegion:l,onAddLocation:c,onDeleteRegions:d,worldName:m,currentDate:h})=>{const{activeWorld:p,worldContinents:g,groupedRegions:x,toggleContinentCollapsed:w,createContinent:S,updateContinent:b,deleteContinent:N}=Kn(),[k,C]=y.useState(!1),[E,P]=y.useState({top:0,right:0}),_=y.useRef(null),[L,A]=y.useState(!1),[$,I]=y.useState(new Set),[X,re]=y.useState(null),[H,ie]=y.useState(!1),[se,ee]=y.useState(null),[te,ce]=y.useState(""),[ge,V]=y.useState(!1),[Z,U]=y.useState(null),[R,B]=y.useState(null),[oe,K]=y.useState(""),he=y.useMemo(()=>X&&g.find(je=>je.id===X)||null,[X,g]),ne=y.useMemo(()=>{if(!r||!h)return{};const je={};return r.forEach(ze=>{try{const Xe=Yr.getCurrentWeather(ze,h),Ne=[];for(let Je=0;Je<24;Je++){const nt={...h,hour:Je},Ht=Yr.getCurrentWeather(ze,nt);Ne.push(Ht.temperature)}je[ze.id]={temp:Math.round(Xe.temperature),condition:Xe.condition,high:Math.round(Math.max(...Ne)),low:Math.round(Math.min(...Ne))}}catch{je[ze.id]=null}}),je},[r,h,n]),we=()=>{C(!1),A(!1),I(new Set),re(null),ee(null),V(!1),ce(""),U(null),B(null),K("")},Ce=je=>{ee({...je,continentId:he?.id}),ie(!0)},Oe=()=>{ie(!1),ee(null)},ye=je=>{l(je),we(),e()},be=()=>{te.trim()&&(S(te.trim()),ce(""),V(!1))},Ze=je=>{B(je.id),K(je.name)},Ue=()=>{oe.trim()&&R&&(b(R,{name:oe.trim()}),B(null),K(""))},dt=()=>{B(null),K("")},Be=(je,ze)=>{window.confirm(`Delete "${ze}"? Locations will be moved to Uncategorized.`)&&N(je)},At=je=>{L?I(ze=>{const Xe=new Set(ze);return Xe.has(je)?Xe.delete(je):Xe.add(je),Xe}):(l(je),we(),e())},gt=()=>{s&&(we(),e())},nn=()=>{$.size===r.length?I(new Set):I(new Set(r.map(je=>je.id)))},Lt=()=>{if($.size===0)return;const je=$.size,ze=je===1?"Delete this region?":`Delete ${je} regions?`;window.confirm(ze)&&($.forEach(Xe=>{d(Xe)}),I(new Set),A(!1))},vt=()=>{if(_.current){const je=_.current.getBoundingClientRect();P({top:je.bottom+8,right:window.innerWidth-je.right})}C(!0)},me=()=>{C(!1),A(!0)},Pe=()=>{A(!1),I(new Set)};return n?he?a.jsxs("div",{className:"locations-fullpage",children:[a.jsxs("div",{className:"locations-header",children:[a.jsx("button",{className:"back-button",onClick:()=>re(null),"aria-label":"Back to locations",children:a.jsx(op,{})}),a.jsx("h1",{className:"locations-title",children:he.name}),a.jsx("div",{className:"header-spacer"})]}),a.jsx("div",{className:"map-view-container",children:a.jsx(hj,{continent:he,onPlaceLocation:Ce,onSelectRegion:ye})}),a.jsx(Ld,{show:H,onHide:Oe,initialLatitudeBand:se?.latitudeBand,mapPosition:se,initialContinentId:se?.continentId})]}):a.jsxs("div",{className:"locations-fullpage",children:[a.jsxs("div",{className:"locations-header",children:[a.jsx("button",{className:`back-button ${s?"":"disabled"}`,onClick:gt,disabled:!s,"aria-label":"Back to weather",children:a.jsx(op,{})}),a.jsx("h1",{className:"locations-title",children:L?"Edit Locations":"Locations"}),!L&&a.jsx("button",{ref:_,className:"settings-trigger",onClick:vt,children:""}),L&&a.jsx("div",{className:"header-spacer"})]}),k&&gs.createPortal(a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"popover-overlay",onClick:()=>C(!1)}),a.jsxs("div",{className:"settings-popover",style:{top:E.top,right:E.right},children:[a.jsxs("div",{className:"settings-popover-header",children:[a.jsx("span",{children:"Settings"}),a.jsx("button",{className:"picker-close-btn",onClick:()=>C(!1),children:""})]}),a.jsxs("div",{className:"settings-popover-content",children:[r&&r.length>0&&a.jsx("button",{className:"settings-popover-btn",onClick:me,children:"Edit Locations"}),a.jsx(H6,{inline:!0})]})]})]}),document.body),a.jsx("div",{className:"world-header",children:L?a.jsx(xe.Check,{type:"checkbox",id:"select-all",label:"Select All",checked:r&&$.size===r.length,onChange:nn,className:"select-all-check"}):a.jsxs("small",{children:[a.jsx(y3,{})," ",m]})}),a.jsx("div",{className:"locations-scroll-area",children:a.jsxs(Bu,{variant:"flush",className:"location-list",children:[g.map(je=>{const ze=x.byContinent[je.id]||[],Xe=R===je.id;return a.jsxs("div",{className:"continent-group",children:[Xe?a.jsxs("div",{className:"continent-header continent-header-editing",children:[a.jsx(xe.Control,{type:"text",value:oe,onChange:Ne=>K(Ne.target.value),onKeyDown:Ne=>{Ne.key==="Enter"&&Ue(),Ne.key==="Escape"&&dt()},autoFocus:!0,className:"continent-edit-input"}),a.jsxs("div",{className:"continent-edit-actions",children:[a.jsx(Se,{variant:"primary",size:"sm",onClick:Ue,disabled:!oe.trim(),children:"Save"}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:dt,children:"Cancel"}),a.jsx(Se,{variant:"outline-danger",size:"sm",onClick:()=>Be(je.id,je.name),title:"Delete continent",children:a.jsx(Ev,{size:14})})]})]}):a.jsxs("div",{className:"continent-header",onClick:()=>!L&&w(je.id),children:[a.jsxs("div",{className:"continent-header-left",children:[je.isCollapsed?a.jsx(w3,{className:"collapse-icon"}):a.jsx(x3,{className:"collapse-icon"}),a.jsx("span",{className:"continent-name",children:je.name}),a.jsxs("span",{className:"continent-count",children:["(",ze.length,")"]})]}),a.jsx("div",{className:"continent-header-right",children:!L&&a.jsxs(a.Fragment,{children:[a.jsx(Se,{variant:"link",size:"sm",className:"continent-edit-btn",onClick:Ne=>{Ne.stopPropagation(),Ze(je)},title:"Edit continent",children:a.jsx(cl,{size:14})}),a.jsx(Se,{variant:"link",size:"sm",className:"continent-map-btn",onClick:Ne=>{Ne.stopPropagation(),re(je.id)},title:"View map",children:a.jsx(T0,{size:14})})]})})]}),!je.isCollapsed&&ze.map(Ne=>{const Je=ne[Ne.id],nt=$.has(Ne.id);return a.jsxs(Bu.Item,{action:!0,active:!L&&s?.id===Ne.id,onClick:()=>At(Ne.id),className:`location-list-item continent-region ${L?"edit-mode":""} ${nt?"selected":""}`,children:[L&&a.jsx(xe.Check,{type:"checkbox",checked:nt,onChange:()=>{},className:"edit-checkbox"}),a.jsxs("div",{className:"location-item-content",children:[a.jsxs("div",{className:"location-item-name",children:[Ne.name,!L&&s?.id===Ne.id&&a.jsx("span",{className:"active-indicator",children:""})]}),Je&&a.jsx("div",{className:"location-item-condition",children:Je.condition})]}),!L&&Je&&a.jsxs("div",{className:"location-item-weather",children:[a.jsxs("div",{className:"location-item-temp",children:[Je.temp,""]}),a.jsxs("div",{className:"location-item-highlow",children:[a.jsxs("span",{className:"high",children:["H:",Je.high,""]})," ",a.jsxs("span",{className:"low",children:["L:",Je.low,""]})]})]}),!L&&a.jsx(Se,{variant:"link",size:"sm",className:"region-edit-btn",onClick:Ht=>{Ht.stopPropagation(),U(Ne)},children:a.jsx(cl,{size:14})})]},Ne.id)})]},je.id)}),x.uncategorized.length>0&&a.jsxs("div",{className:"continent-group uncategorized",children:[a.jsxs("div",{className:"continent-header uncategorized-header",children:[a.jsx("span",{className:"continent-name",children:"Uncategorized"}),a.jsxs("span",{className:"continent-count",children:["(",x.uncategorized.length,")"]})]}),x.uncategorized.map(je=>{const ze=ne[je.id],Xe=$.has(je.id);return a.jsxs(Bu.Item,{action:!0,active:!L&&s?.id===je.id,onClick:()=>At(je.id),className:`location-list-item ${L?"edit-mode":""} ${Xe?"selected":""}`,children:[L&&a.jsx(xe.Check,{type:"checkbox",checked:Xe,onChange:()=>{},className:"edit-checkbox"}),a.jsxs("div",{className:"location-item-content",children:[a.jsxs("div",{className:"location-item-name",children:[je.name,!L&&s?.id===je.id&&a.jsx("span",{className:"active-indicator",children:""})]}),ze&&a.jsx("div",{className:"location-item-condition",children:ze.condition})]}),!L&&ze&&a.jsxs("div",{className:"location-item-weather",children:[a.jsxs("div",{className:"location-item-temp",children:[ze.temp,""]}),a.jsxs("div",{className:"location-item-highlow",children:[a.jsxs("span",{className:"high",children:["H:",ze.high,""]})," ",a.jsxs("span",{className:"low",children:["L:",ze.low,""]})]})]}),!L&&a.jsx(Se,{variant:"link",size:"sm",className:"region-edit-btn",onClick:Ne=>{Ne.stopPropagation(),U(je)},children:a.jsx(cl,{size:14})})]},je.id)})]}),r&&r.length===0&&g.length===0&&a.jsxs("div",{className:"no-locations",children:[a.jsx("p",{children:"No locations yet"}),a.jsx("p",{className:"no-locations-hint",children:"Add a continent or location to get started"})]}),!L&&a.jsx("div",{className:"add-continent-section",children:ge?a.jsxs("div",{className:"new-continent-input",children:[a.jsx(xe.Control,{type:"text",placeholder:"Continent name...",value:te,onChange:je=>ce(je.target.value),onKeyDown:je=>{je.key==="Enter"&&be(),je.key==="Escape"&&V(!1)},autoFocus:!0}),a.jsx(Se,{variant:"primary",size:"sm",onClick:be,disabled:!te.trim(),children:"Add"}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:()=>{V(!1),ce("")},children:"Cancel"})]}):a.jsxs(Se,{variant:"link",className:"add-continent-btn",onClick:()=>V(!0),children:[a.jsx(Nv,{size:14,className:"me-1"}),"Add Continent"]})})]})}),a.jsx("div",{className:"add-location-footer",children:L?a.jsxs("div",{className:"edit-mode-actions",children:[a.jsx(Se,{variant:"outline-secondary",onClick:Pe,children:"Cancel"}),a.jsxs(Se,{variant:"danger",onClick:Lt,disabled:$.size===0,children:["Delete",$.size>0?` (${$.size})`:""]})]}):a.jsx(Se,{variant:"outline-primary",className:"w-100",onClick:()=>{c(),we(),e()},children:"+ Add Location"})}),a.jsx(Ld,{show:H,onHide:Oe,initialLatitudeBand:se?.latitudeBand,mapPosition:se}),a.jsx(fj,{show:!!Z,onHide:()=>U(null),region:Z})]}):null};function Bp(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1"},child:[]}]})(n)}function gj(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"},child:[]}]})(n)}function $p(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5"},child:[]}]})(n)}function Ud(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"},child:[]}]})(n)}function Gd(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708z"},child:[]}]})(n)}function vj(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"},child:[]}]})(n)}function Vp(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},child:[]}]})(n)}function yj(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"},child:[]},{tag:"path",attr:{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},child:[]}]})(n)}function Up(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(n)}function ud(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41z"},child:[]}]})(n)}function Gp(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793V8.866l-3.4 1.963-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495L7 8 3.6 6.037l-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 1 1 .966-.258l.495 1.849L7.5 7.134V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 1 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v3.927l3.4-1.963.496-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l3.4 1.963 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-3.4-1.963v3.927l1.353 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5z"},child:[]}]})(n)}function Yp(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a.5.5 0 0 1-.5-.5v-1.293l-.646.647a.5.5 0 0 1-.707-.708L7.5 12.793v-1.086l-.646.647a.5.5 0 0 1-.707-.708L7.5 10.293V8.866l-1.236.713-.495 1.85a.5.5 0 1 1-.966-.26l.237-.882-.94.542-.496 1.85a.5.5 0 1 1-.966-.26l.237-.882-1.12.646a.5.5 0 0 1-.5-.866l1.12-.646-.884-.237a.5.5 0 1 1 .26-.966l1.848.495.94-.542-.882-.237a.5.5 0 1 1 .258-.966l1.85.495L7 8l-1.236-.713-1.849.495a.5.5 0 1 1-.258-.966l.883-.237-.94-.542-1.85.495a.5.5 0 0 1-.258-.966l.883-.237-1.12-.646a.5.5 0 1 1 .5-.866l1.12.646-.237-.883a.5.5 0 0 1 .966-.258l.495 1.849.94.542-.236-.883a.5.5 0 0 1 .966-.258l.495 1.849 1.236.713V5.707L6.147 4.354a.5.5 0 1 1 .707-.708l.646.647V3.207L6.147 1.854a.5.5 0 1 1 .707-.708l.646.647V.5a.5.5 0 0 1 1 0v1.293l.647-.647a.5.5 0 1 1 .707.708L8.5 3.207v1.086l.647-.647a.5.5 0 1 1 .707.708L8.5 5.707v1.427l1.236-.713.495-1.85a.5.5 0 1 1 .966.26l-.236.882.94-.542.495-1.85a.5.5 0 1 1 .966.26l-.236.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.883.237a.5.5 0 1 1-.26.966l-1.848-.495-.94.542.883.237a.5.5 0 1 1-.26.966l-1.848-.495L9 8l1.236.713 1.849-.495a.5.5 0 0 1 .259.966l-.883.237.94.542 1.849-.495a.5.5 0 0 1 .259.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.236.883a.5.5 0 1 1-.966.258l-.495-1.849-.94-.542.236.883a.5.5 0 0 1-.966.258L9.736 9.58 8.5 8.866v1.427l1.354 1.353a.5.5 0 0 1-.707.708l-.647-.647v1.086l1.354 1.353a.5.5 0 0 1-.707.708l-.647-.647V15.5a.5.5 0 0 1-.5.5"},child:[]}]})(n)}function dd(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"},child:[]}]})(n)}function md(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 12.5a1.5 1.5 0 1 1-2-1.415V2.5a.5.5 0 0 1 1 0v8.585a1.5 1.5 0 0 1 1 1.415"},child:[]},{tag:"path",attr:{d:"M5.5 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0zM8 1a1.5 1.5 0 0 0-1.5 1.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0l-.166-.15V2.5A1.5 1.5 0 0 0 8 1"},child:[]}]})(n)}function xj(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 12.5a1.5 1.5 0 1 1-2-1.415V9.5a.5.5 0 0 1 1 0v1.585A1.5 1.5 0 0 1 5 12.5"},child:[]},{tag:"path",attr:{d:"M1 2.5a2.5 2.5 0 0 1 5 0v7.55a3.5 3.5 0 1 1-5 0zM3.5 1A1.5 1.5 0 0 0 2 2.5v7.987l-.167.15a2.5 2.5 0 1 0 3.333 0L5 10.486V2.5A1.5 1.5 0 0 0 3.5 1m5 1a.5.5 0 0 1 .5.5v1.293l.646-.647a.5.5 0 0 1 .708.708L9 5.207v1.927l1.669-.963.495-1.85a.5.5 0 1 1 .966.26l-.237.882 1.12-.646a.5.5 0 0 1 .5.866l-1.12.646.884.237a.5.5 0 1 1-.26.966l-1.848-.495L9.5 8l1.669.963 1.849-.495a.5.5 0 1 1 .258.966l-.883.237 1.12.646a.5.5 0 0 1-.5.866l-1.12-.646.237.883a.5.5 0 1 1-.966.258L10.67 9.83 9 8.866v1.927l1.354 1.353a.5.5 0 0 1-.708.708L9 12.207V13.5a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5"},child:[]}]})(n)}function hd(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.036 3.314a.5.5 0 0 1 .65-.278l1.757.703a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.757-.703a.5.5 0 1 1 .372.928l-1.758.703a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0L.314 3.964a.5.5 0 0 1-.278-.65m0 3a.5.5 0 0 1 .65-.278l1.757.703a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.757-.703a.5.5 0 1 1 .372.928l-1.758.703a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0L.314 6.964a.5.5 0 0 1-.278-.65m0 3a.5.5 0 0 1 .65-.278l1.757.703a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.757-.703a.5.5 0 1 1 .372.928l-1.758.703a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0L.314 9.964a.5.5 0 0 1-.278-.65m0 3a.5.5 0 0 1 .65-.278l1.757.703a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.014-.406a2.5 2.5 0 0 1 1.857 0l1.015.406a1.5 1.5 0 0 0 1.114 0l1.757-.703a.5.5 0 1 1 .372.928l-1.758.703a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0l-1.014-.406a1.5 1.5 0 0 0-1.114 0l-1.015.406a2.5 2.5 0 0 1-1.857 0l-1.757-.703a.5.5 0 0 1-.278-.65"},child:[]}]})(n)}function wj(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M203.97 23l-18.032 4.844 11.656 43.468c-25.837 8.076-50.32 21.653-71.594 40.75L94.53 80.594l-13.218 13.22 31.376 31.374c-19.467 21.125-33.414 45.53-41.813 71.343l-42.313-11.343-4.843 18.063 42.25 11.313c-6.057 27.3-6.157 55.656-.345 83L23.72 308.78l4.843 18.064 41.812-11.22c6.693 21.225 17.114 41.525 31.25 59.876l-29.97 52.688-16.81 29.593 29.56-16.842 52.657-29.97c18.41 14.216 38.784 24.69 60.094 31.407l-11.22 41.844 18.033 4.81 11.218-41.905c27.345 5.808 55.698 5.686 83-.375l11.312 42.28 18.063-4.81-11.344-42.376c25.812-8.4 50.217-22.315 71.342-41.78l31.375 31.373 13.22-13.218-31.47-31.47c19.09-21.266 32.643-45.738 40.72-71.563l43.53 11.657 4.813-18.063-43.625-11.686c5.68-27.044 5.576-55.06-.344-82.063l43.97-11.78-4.813-18.063L440.908 197c-6.73-20.866-17.08-40.79-31.032-58.844l29.97-52.656 16.842-29.563-29.593 16.844-52.656 29.97c-17.998-13.875-37.874-24.198-58.657-30.906l11.783-44L309.5 23l-11.78 43.97c-27-5.925-55.02-6.05-82.064-.376L203.97 23zm201.56 85L297.25 298.313l-.75.437-40.844-40.875-148.72 148.72-2.186 1.25 109.125-191.75 41.78 41.78L405.532 108zm-149.686 10.594c21.858 0 43.717 5.166 63.594 15.47l-116.625 66.342-2.22 1.28-1.28 2.22-66.25 116.406c-26.942-52.04-18.616-117.603 25.03-161.25 26.99-26.988 62.38-40.468 97.75-40.468zm122.72 74.594c26.994 52.054 18.67 117.672-25.002 161.343-43.66 43.662-109.263 52.005-161.312 25.033l116.438-66.282 2.25-1.25 1.25-2.25 66.375-116.592z"},child:[]}]})(n)}function jj(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M199.256 74.5v285H27.744l25.998 78H380.255l104-78h-267v-285h-18zm18 18c36.787 88.85 64.94 216 0 250h208c22-34-11.905-164.76-208-250zm-36 0c-33.046 69.333-50 200-144 250h144v-250z"},child:[]}]})(n)}function Sj(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M319.61 20.654c13.145 33.114 13.144 33.115-5.46 63.5 33.114-13.145 33.116-13.146 63.5 5.457-13.145-33.114-13.146-33.113 5.457-63.498-33.114 13.146-33.113 13.145-63.498-5.459zM113.024 38.021c-11.808 21.04-11.808 21.04-35.724 24.217 21.04 11.809 21.04 11.808 24.217 35.725 11.808-21.04 11.808-21.04 35.724-24.217-21.04-11.808-21.04-11.808-24.217-35.725zm76.55 56.184c-.952 50.588-.95 50.588-41.991 80.18 50.587.95 50.588.95 80.18 41.99.95-50.588.95-50.588 41.99-80.18-50.588-.95-50.588-.95-80.18-41.99zm191.177 55.885c-.046 24.127-.048 24.125-19.377 38.564 24.127.047 24.127.046 38.566 19.375.047-24.126.046-24.125 19.375-38.564-24.126-.047-24.125-.046-38.564-19.375zm-184.086 83.88c-1.191.024-2.36.07-3.492.134-18.591 1.064-41.868 8.416-77.445 22.556L76.012 433.582c78.487-20.734 132.97-21.909 170.99-4.615V247.71c-18.076-8.813-31.79-13.399-46.707-13.737a91.166 91.166 0 0 0-3.629-.002zm122.686 11.42c-2.916-.026-5.81.011-8.514.098-12.81.417-27.638 2.215-45.84 4.522V427.145c43.565-7.825 106.85-4.2 171.244 7.566l-39.78-177.197c-35.904-8.37-56.589-11.91-77.11-12.123zm2.289 16.95c18.889.204 36.852 2.768 53.707 5.02l4.437 16.523c-23.78-3.75-65.966-4.906-92.467-.98l-.636-17.805c11.959-2.154 23.625-2.88 34.959-2.758zm-250.483 4.658l-10.617 46.004h24.094l10.326-46.004H71.158zm345.881 0l39.742 177.031 2.239 9.973 22.591-.152-40.855-186.852h-23.717zm-78.857 57.82c16.993.026 33.67.791 49.146 2.223l3.524 17.174c-32.645-3.08-72.58-2.889-102.995 0l-.709-17.174c16.733-1.533 34.04-2.248 51.034-2.223zm-281.793 6.18l-6.924 30.004h24.394l6.735-30.004H56.389zm274.418 27.244c4.656.021 9.487.085 14.716.203l2.555 17.498c-19.97-.471-47.115.56-59.728 1.05l-.7-17.985c16.803-.493 29.189-.828 43.157-.766zm41.476.447c8.268.042 16.697.334 24.121.069l2.58 17.74c-8.653-.312-24.87-.83-32.064-.502l-2.807-17.234a257.25 257.25 0 0 1 8.17-.073zm-326.97 20.309l-17.985 77.928 25.035-.17 17.455-77.758H45.313zm303.164 11.848c19.608-.01 38.66.774 56.449 2.572l2.996 20.787c-34.305-4.244-85.755-7.697-119.1-3.244l-.14-17.922c20.02-1.379 40.186-2.183 59.795-2.193zm-166.606 44.05c-30.112.09-67.916 6.25-115.408 19.76l-7.22 2.053 187.759-1.27v-6.347c-16.236-9.206-37.42-14.278-65.13-14.196zm134.41 6.174c-19.63.067-37.112 1.439-51.283 4.182v10.064l177.594-1.203c-44.322-8.634-89.137-13.17-126.31-13.043zM26 475v18h460v-18H26z"},child:[]}]})(n)}function ws(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M169.9 19.76C109.8 19.4 56.01 32.11 26.37 60.2c-1.81 1.71-3.56 3.39-5.27 5.05V491.9h35.92c-17.04-44.3-24.83-95.2-22.74-134.1 15.94 37.1 29.87 91.8 57.44 134.1h58.18c-28.4-36.1-54.81-80.2-76.19-119.5-6.47-11.9-11.98-24.2-16.52-39.1 23.69 47.6 98.31 119.3 144.41 158.6h47.9c-18.8-15.2-30.3-33.4-39.1-49.3 23.1 20.3 49.9 36.6 80.1 49.3h70.6c-6.9-2.1-14.1-4.3-21.6-6.8-80.6-26.6-171-95-215.1-140.5-3.8-3.8-6.4-8.4-7.2-13.3-.8-5 .4-10 2.7-14 4.6-7.9 12.4-12.9 21.3-16.7 8.9-3.8 19.2-6.4 29.4-6.9s20.4 1.2 29.1 5.9c2 1.1 4 2.2 6.1 3.3-35.9-90.1.5-169 137-160.5-8.9-4.8-17.7-9.1-26.2-13l-97 11.5s43-18 62.5-25c-7.3-2.3-14.3-4.4-21.2-6-67.5 10.2-140 69.4-164.24 134.1-3.66-26.7 1.12-97.2 99.14-140.3-41 3.1-72.8 20.1-95.5 45.3-29.16 32.4-53.97 79.7-55.77 126.1-5.74-53 7.68-103.5 42.45-138C125.2 99.19 170 84.29 214.6 85.45 263.5 86.8 321.3 105.5 365.4 138c44.1 32.4 57.2 57.2 72.7 69.7 1.8-16.6-5-34.8-17.2-53.1 14.2 3.4 29 7.3 44.7 12.1-8.3-32.7-33-60.8-67-83.4 23.2 4.45 41.7 7.77 45.2.49-15.8-22.75-63.6-51.55-129.9-40.3-46.2-15.15-97-23.44-144-23.73zM365.2 189.9c-4.6-.1-9.1 2.2-13 7.1-4 4.9-6.8 12.3-7 20.7-.2 8.3 2.2 15.8 5.9 20.9 3.7 5.1 8.1 7.6 12.7 7.7 4.6.1 9.2-2.1 13.1-7 3.9-4.9 6.7-12.3 6.9-20.7.3-8.4-2.2-15.8-5.9-20.9-3.6-5.1-8.1-7.6-12.7-7.8zm-79.8 30.4c-19.9 2.6-37.5 10.9-57.1 18.8l6.1 16 49.1-15.1 36.7 11.1-25.9 56.7c-17.8-4.4-32.7-6.1-52.9-5.6l-21.9 55 16.7 12.2 19.9-43.2 51.2 4.9 30.4 46.4-5.9 45.3 18.6 8.1 9.6-52.4c-4-15.5-11.5-33.9-21.8-49.7l28.3-51.4 36.3 32.1 2 43.8 17.2 1.1c.8-16.6 2.4-32.2-.5-46-3.2-15.2-18.5-36.4-36.2-52.2-6.1 5-13.7 8.2-21.9 8-11-.3-20.6-6.5-26.8-15.1-4.1-5.7-6.9-12.5-8.3-19.9-13.7-4.2-25.4-8.4-42.9-8.9zm-111.2 91.8c-.9 0-1.9.1-2.9.1-7.9.4-16.3 2-23.1 4.9-6.7 2.9-11.5 6.9-12.8 9.1-.6 1.2-.6 1.6-.5 2.2.1.7.5 1.8 2.3 3.8 41.7 43 132.3 110.9 207.9 135.9 62.5 20.8 100.1 24.3 120.5 21.2 10.2-1.6 15.9-4.7 18.9-7.5 2.4-2.2 3.2-4.2 3.6-6.1-1-1.1-2.7-2.6-5.3-4.6-5.4-4.1-13.9-9.6-24.4-15.9-21-12.5-50.4-28.3-82.6-45-1-.5-2.1-1.1-3.1-1.6l-8.7 47.5-51.8-22.1 6.9-52.3-.5-.8c-18.8-9.5-37.4-18.9-55.1-27.9l-20.1 43.6-45.7-33 14.7-36.9c-7.6-4-14.9-7.8-21.3-11.3-3.9-2.2-10.1-3.2-16.9-3.3z"},child:[]}]})(n)}function bj(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M63.6 33c-17.23 0-31 13.77-31 31s13.77 31 31 31 31-13.77 31-31-13.77-31-31-31zm171.7 6.74l-122.7 25.6c-.4 14.13-6.9 26.86-16.83 35.56l42.83 114.5 11.5-20.8-41.2-110.1 115-24 9.4-17.15zm8.5 21.9L161.7 210.8l53.6 16.9 71.4-129.9zM48.6 110.6V479h30V110.6c-4.73 1.6-9.77 2.4-15 2.4s-10.27-.8-15-2.4zm288 29.3l-59.2 107.4 62.3 19.6 46.8-85zm99.9 84.1l-34.4 62.5 53.5 16.9 23.8-43.2z"},child:[]}]})(n)}const Cj=({seaState:n})=>{const[e,r]=y.useState(!1),[s,l]=y.useState(!1);if(!n)return null;const c=b=>{switch(b){case"deteriorating_rapidly":return{icon:a.jsx($p,{}),color:"#dc3545",label:"Building Fast"};case"deteriorating":return{icon:a.jsx($p,{}),color:"#ff8c00",label:"Building"};case"improving_rapidly":return{icon:a.jsx(Bp,{}),color:"#28a745",label:"Calming Fast"};case"improving":return{icon:a.jsx(Bp,{}),color:"#5cb85c",label:"Calming"};default:return{icon:a.jsx(vj,{}),color:"#6c757d",label:"Steady"}}},d=b=>({excellent:"#28a745",good:"#5cb85c",fair:"#f0ad4e",challenging:"#ff8c00",hazardous:"#dc3545",dangerous:"#8b0000"})[b]||"#6c757d",m=b=>({calm:"#4a90d9",smooth:"#5da0e9",slight:"#70b0f0",moderate:"#f0ad4e",rough:"#ff8c00",very_rough:"#dc3545",high:"#c9302c",very_high:"#a02020",phenomenal:"#8b0000"})[b]||"#6c757d",h=d(n.sailingConditions),p=m(n.seaCondition),g=n.hazards&&n.hazards.length>0,x=n.effects&&n.effects.length>0,w=n.forecast,S=w?c(w.trend):null;return a.jsx(He,{className:"sea-state-card mb-3",children:a.jsxs(He.Body,{children:[a.jsxs("div",{className:"section-label",children:[a.jsx(ws,{})," SEA STATE"]}),a.jsxs("div",{className:"sea-state-hero",children:[a.jsxs("div",{className:"wave-height-display",children:[a.jsx("span",{className:"wave-height-value",children:n.waveHeight}),a.jsx("span",{className:"wave-height-unit",children:"ft"}),S&&w.trend!=="steady"&&a.jsx("span",{className:"trend-indicator",style:{color:S.color},children:S.icon})]}),a.jsx("div",{className:"sea-condition-label",style:{color:p},children:O6[n.seaCondition]||n.seaCondition}),a.jsxs("div",{className:"beaufort-info",children:["Force ",n.beaufortScale," - ",n.beaufortDescription]})]}),w&&a.jsxs("div",{className:"forecast-section",children:[a.jsxs("div",{className:"forecast-header",onClick:()=>l(!s),role:"button",tabIndex:0,onKeyDown:b=>b.key==="Enter"&&l(!s),children:[a.jsxs("span",{className:"forecast-trend",style:{color:S?.color},children:[a.jsx(l3,{className:"forecast-icon"}),S?.label,": ",w.trendDescription]}),s?a.jsx(Gd,{}):a.jsx(Ud,{})]}),a.jsx(js,{in:s,children:a.jsxs("div",{className:"forecast-details",children:[w.sailingTrendWarning&&a.jsxs("div",{className:"sailing-trend-warning",children:[a.jsx(ip,{})," ",w.sailingTrendWarning]}),w.peakConditions&&w.peakConditions.waveHeight>n.waveHeight*1.25&&a.jsxs("div",{className:"peak-warning",children:["Peak: ",w.peakConditions.waveHeight,"ft waves expected in ",w.peakConditions.hoursAhead,"h"]}),a.jsx("div",{className:"hourly-forecast",children:w.forecasts.map((b,N)=>a.jsxs("div",{className:"forecast-hour",children:[a.jsxs("div",{className:"forecast-hour-label",children:["+",b.hoursAhead,"h"]}),a.jsxs("div",{className:"forecast-hour-waves",children:[b.waveHeight,"ft"]}),a.jsx("div",{className:"forecast-hour-sailing",style:{color:d(b.sailingConditions)},children:Hr[b.sailingConditions]?.label||b.sailingConditions})]},N))})]})})]}),g&&a.jsxs("div",{className:"hazards-banner",children:[a.jsx(ip,{className:"hazard-icon"}),a.jsx("div",{className:"hazard-badges",children:n.hazards.map((b,N)=>a.jsx(Ke,{className:"hazard-badge",children:b},N))})]}),a.jsxs(mi,{className:"g-3 mt-2",children:[a.jsx(kt,{xs:6,md:4,children:a.jsxs("div",{className:"sea-state-item",children:[a.jsx("div",{className:"sea-state-icon",children:a.jsx(ws,{})}),a.jsx("div",{className:"sea-state-label",children:"SWELL"}),a.jsxs("div",{className:"sea-state-value",children:[n.swellHeight,"ft @ ",n.swellPeriod,"s"]})]})}),a.jsx(kt,{xs:6,md:4,children:a.jsxs("div",{className:"sea-state-item",children:[a.jsx("div",{className:"sea-state-icon",children:a.jsx(wj,{})}),a.jsx("div",{className:"sea-state-label",children:"SWELL FROM"}),a.jsx("div",{className:"sea-state-value",children:n.swellDirection})]})}),a.jsx(kt,{xs:6,md:4,children:a.jsxs("div",{className:"sea-state-item",children:[a.jsx("div",{className:"sea-state-icon",children:a.jsx(jj,{})}),a.jsx("div",{className:"sea-state-label",children:"SAILING"}),a.jsx("div",{className:"sea-state-value",style:{color:h},children:Hr[n.sailingConditions]?.label||n.sailingConditions})]})}),a.jsx(kt,{xs:6,md:4,children:a.jsxs("div",{className:"sea-state-item",children:[a.jsx("div",{className:"sea-state-icon",children:a.jsx(ws,{})}),a.jsx("div",{className:"sea-state-label",children:"COMBINED"}),a.jsxs("div",{className:"sea-state-value",children:[n.combinedSeaHeight,"ft"]})]})}),a.jsx(kt,{xs:6,md:4,children:a.jsxs("div",{className:"sea-state-item",children:[a.jsx("div",{className:"sea-state-icon",children:a.jsx(bj,{})}),a.jsx("div",{className:"sea-state-label",children:"WAVE RANGE"}),a.jsxs("div",{className:"sea-state-value",children:[n.waveHeightRange[0],"-",n.waveHeightRange[1],"ft"]})]})}),a.jsx(kt,{xs:6,md:4,children:a.jsxs("div",{className:"sea-state-item sea-description",children:[a.jsx("div",{className:"sea-state-label",children:"CONDITIONS"}),a.jsx("div",{className:"sea-state-value-small",children:n.beaufortSeaDescription})]})})]}),x&&a.jsxs("div",{className:"effects-section mt-3",children:[a.jsxs("div",{className:"effects-header",onClick:()=>r(!e),role:"button",tabIndex:0,onKeyDown:b=>b.key==="Enter"&&r(!e),children:[a.jsxs("span",{children:["Sailing Effects (",n.effects.length,")"]}),e?a.jsx(Gd,{}):a.jsx(Ud,{})]}),a.jsx(js,{in:e,children:a.jsx("div",{className:"effects-list",children:n.effects.map((b,N)=>a.jsx("div",{className:"effect-item",children:b},N))})})]})]})})},fd=n=>{const e=Math.sin(n*9999)*1e4;return e-Math.floor(e)},kj=(n,e)=>{const r=(n||"default").split("").reduce((h,p)=>h+p.charCodeAt(0),0)+e,s=100,l=25,c=5+Math.floor(fd(r)*3),d=[];d.push({x:-5,y:l});for(let h=0;h<=c;h++){const g=h/c*(s+10)-5,x=r+h*137,w=fd(x),S=fd(x+1),N=h%2===1?5+w*8:15+w*8,k=(S-.5)*8;d.push({x:g+k,y:N})}d.push({x:105,y:l});let m=`M ${d[0].x} ${d[0].y}`;for(let h=1;h<d.length;h++){const p=d[h-1],g=d[h],x=(p.x+g.x)/2,w=(p.y+g.y)/2;m+=` Q ${p.x+(g.x-p.x)*.5} ${p.y} ${x} ${w}`}return m+=" L 105 30 L -5 30 Z",m},Nj=({region:n,weather:e,world:r,currentDate:s,weatherService:l})=>{const[c,d]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[x,w]=y.useState(!1),[S,b]=y.useState(!1),{conditionPhrasing:N,showSnowAccumulation:k}=j0();if(!n||!e)return a.jsx("div",{className:"primary-display",children:a.jsx("div",{className:"location-hero",children:"Select a location to view weather"})});const C=n.templateId&&n.latitudeBand?fn[n.latitudeBand]?.[n.templateId]:null,E=e.temperature,P=e.feelsLike,_=e.condition,L=Rv(_,N),A=l?.getDailyForecast?.(n,s,1)?.[0],$=A?.high??null,I=A?.low??null,X=P&&Math.abs(E-P)>=3,re=s?.hour??12,H=Vr(e?.celestial?.sunriseTime),ie=Vr(e?.celestial?.sunsetTime),se=N0(re,H,ie),ee=()=>{const K=L?.toLowerCase()||"";return K.includes("clear")||K.includes("sunny")?se?a.jsx(i3,{}):a.jsx(Wl,{}):K.includes("cloud")?se?a.jsx(ap,{}):a.jsx(Hl,{}):K.includes("rain")?a.jsx(yv,{}):K.includes("storm")||K.includes("thunder")?a.jsx(Sv,{}):K.includes("snow")?a.jsx(xv,{}):K.includes("fog")||K.includes("mist")?a.jsx(k0,{}):se?a.jsx(ap,{}):a.jsx(_d,{})},te=L?.toLowerCase()||"",ce=!se&&(te.includes("snow")||te.includes("fog"))?"text-dark":"text-light",ge=k&&e.snowAccumulation&&e.snowAccumulation.snowFillPercent>10,V=e.environmental||{activeAlerts:[],hasActiveAlerts:!1},Z=V.hasActiveAlerts,U=()=>{if(!Z)return"secondary";const K=Math.max(...V.activeAlerts.map(he=>he.level));return K>=4?"danger":K>=3||K>=2?"warning":"info"},R=K=>({drought:"Drought",flooding:"Flood Risk",heatWave:"Heat Wave",coldSnap:"Cold Snap",wildfireRisk:"Wildfire Risk"})[K]||K,B=e.effects&&e.effects.length>0,oe=B?a.jsx(gl,{id:"condition-tooltip",children:"Click for condition effects"}):null;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`primary-display ${ce}${ge?" snow-covered":""}`,children:[a.jsx("div",{className:"location-hero",children:n.name}),a.jsxs("div",{className:"temperature-hero",children:[Math.round(E),""]}),e.windSpeed>0&&a.jsxs("div",{className:"wind-hero",children:[a.jsx(o3,{className:"wind-icon"}),a.jsx("span",{className:"wind-speed",children:e.windSpeed}),a.jsx("span",{className:"wind-unit",children:"mph"}),e.windDirection&&a.jsx("span",{className:"wind-direction",children:e.windDirection})]}),a.jsxs("div",{className:"condition-line",children:[a.jsx("span",{className:"condition-icon",children:ee()}),a.jsxs("span",{className:"condition-text",children:[L,B&&a.jsx(Ed,{placement:"bottom",overlay:oe,children:a.jsx(Up,{className:"info-icon clickable",onClick:()=>h(!0)})})]}),$!==null&&I!==null&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"condition-separator",children:""}),a.jsxs("span",{className:"high-low-inline",children:["H:",Math.round($)," L:",Math.round(I),""]})]})]}),a.jsx("div",{className:`feels-like-hero ${X?"":"feels-like-hidden"}`,children:X?`Feels like ${Math.round(P)}`:""}),a.jsxs("div",{className:"info-badges",children:[e.snowAccumulation&&a.jsx(Ke,{bg:"dark",className:"info-badge ground-badge",onClick:()=>w(!0),children:e.snowAccumulation.snowDepth>0?a.jsxs(a.Fragment,{children:[a.jsx(Yp,{className:"badge-icon"}),e.snowAccumulation.snowDepth,'" snow']}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"badge-icon",children:""}),e.snowAccumulation.groundCondition?.name||"Ground"]})}),e.seaState&&a.jsxs(Ke,{bg:"info",className:"info-badge sea-state-badge",onClick:()=>b(!0),children:[a.jsx(ws,{className:"badge-icon"}),e.seaState.waveHeight,"ft - ",e.seaState.seaCondition]}),Z&&a.jsxs(Ke,{bg:U(),className:"info-badge alerts-badge",onClick:()=>g(!0),children:[a.jsx(Vp,{className:"badge-icon"}),V.activeAlerts.length," Alert",V.activeAlerts.length>1?"s":""]}),C&&a.jsxs(Ke,{bg:"secondary",className:"info-badge biome-badge",onClick:()=>d(!0),children:[a.jsx(Up,{className:"badge-icon"}),C.name]})]}),k&&e.snowAccumulation&&e.snowAccumulation.snowFillPercent>0&&a.jsx("div",{className:"snow-accumulation-overlay",style:{height:`${Math.min(e.snowAccumulation.snowFillPercent*.6,60)}%`},onClick:()=>w(!0),title:`${e.snowAccumulation.snowDepth}" snow on ground - click for details`,children:a.jsx("svg",{className:"snow-drift-edge",viewBox:"0 0 100 30",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:kj(n?.id,s?.day||1),fill:"rgb(248, 251, 255)"})})})]}),a.jsxs(Re,{show:c,onHide:()=>d(!1),centered:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsx(Re.Title,{children:C?.name||"Regional Template"})}),a.jsx(Re.Body,{children:C?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Description:"})," ",C.description]}),C.gameplayImpact&&a.jsxs("p",{children:[a.jsx("strong",{children:"Gameplay Impact:"})," ",C.gameplayImpact]})]}):a.jsx("p",{children:"No template details available."})}),a.jsx(Re.Footer,{children:a.jsx(Se,{variant:"secondary",onClick:()=>d(!1),children:"Close"})})]}),B&&a.jsxs(Re,{show:m,onHide:()=>h(!1),centered:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsxs(Re.Title,{children:[L," - Effects"]})}),a.jsx(Re.Body,{children:e.effects&&e.effects.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h6",{children:"Active Effects"}),a.jsx("ul",{children:e.effects.map((K,he)=>a.jsx("li",{children:K},he))})]})}),a.jsx(Re.Footer,{children:a.jsx(Se,{variant:"secondary",onClick:()=>h(!1),children:"Close"})})]}),a.jsxs(Re,{show:p,onHide:()=>g(!1),centered:!0,size:"lg",children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsxs(Re.Title,{children:[a.jsx(Vp,{className:"me-2",style:{color:"#f59e0b"}}),"Environmental Conditions"]})}),a.jsx(Re.Body,{children:V.activeAlerts.length>0?V.activeAlerts.map((K,he)=>a.jsxs("div",{className:"alert-item mb-4",children:[a.jsxs("h5",{className:"d-flex align-items-center gap-2",children:[a.jsx(Ke,{bg:K.level>=3?"danger":K.level>=2?"warning":"info",children:K.name}),a.jsxs("span",{className:"text-muted fs-6",children:["(",R(K.type),")"]})]}),a.jsx("p",{className:"mb-2",children:K.description}),K.type==="drought"&&a.jsxs("p",{className:"small text-muted mb-2",children:["Precipitation deficit: ",K.precipDeficitPercent,"% below normal over ",K.lookbackDays," days (",K.actualPrecipDays," precip days vs ",K.expectedPrecipDays," expected)"]}),K.type==="flooding"&&a.jsxs("p",{className:"small text-muted mb-2",children:["Precipitation excess: ",K.precipExcessPercent,"% above normal over ",K.lookbackDays," days (",K.heavyPrecipDays," heavy precip days)"]}),K.type==="heatWave"&&a.jsxs("p",{className:"small text-muted mb-2",children:[K.consecutiveDays," consecutive days averaging ",K.degreesAboveNormal,"F above normal"]}),K.type==="coldSnap"&&a.jsxs("p",{className:"small text-muted mb-2",children:[K.consecutiveDays," consecutive days averaging ",K.degreesBelowNormal,"F below normal"]}),K.type==="wildfireRisk"&&a.jsxs("p",{className:"small text-muted mb-2",children:["Risk score: ",K.riskScore,"/100 (Drought: +",K.factors.droughtContribution,", Heat: +",K.factors.heatContribution,", Low humidity: +",K.factors.humidityContribution,", Wind: +",K.factors.windContribution,", Recent rain: ",K.factors.recentRainReduction,")"]}),K.gameplayImpacts&&K.gameplayImpacts.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{className:"small",children:"Gameplay Impacts:"}),a.jsx("ul",{className:"small mb-0",children:K.gameplayImpacts.map((ne,we)=>a.jsx("li",{children:ne},we))})]})]},he)):a.jsx("p",{children:"No active environmental alerts."})}),a.jsx(Re.Footer,{children:a.jsx(Se,{variant:"secondary",onClick:()=>g(!1),children:"Close"})})]}),a.jsxs(Re,{show:x,onHide:()=>w(!1),centered:!0,children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsxs(Re.Title,{children:[a.jsx(Yp,{className:"me-2",style:{color:"#60a5fa"}}),"Ground & Snow Conditions"]})}),a.jsx(Re.Body,{children:e.snowAccumulation?a.jsxs(a.Fragment,{children:[e.snowAccumulation.snowDepth>0&&a.jsxs("div",{className:"snow-detail-section mb-3",children:[a.jsx("h6",{children:"Snow Accumulation"}),a.jsxs("p",{className:"mb-1",children:[a.jsxs("strong",{children:[e.snowAccumulation.snowDepth,'"']})," of snow on the ground"]}),a.jsxs("p",{className:"small text-muted mb-0",children:["Water equivalent: ",e.snowAccumulation.snowWaterEquivalent,'"',e.snowAccumulation.snowAge>24&&`  Snow age: ${Math.floor(e.snowAccumulation.snowAge/24)} days`]})]}),e.snowAccumulation.iceAccumulation>0&&a.jsxs("div",{className:"snow-detail-section mb-3",children:[a.jsx("h6",{children:"Ice Accumulation"}),a.jsxs("p",{className:"mb-1",children:[a.jsxs("strong",{children:[e.snowAccumulation.iceAccumulation,'"']})," of ice on surfaces"]}),a.jsx("p",{className:"small text-muted mb-0",children:e.snowAccumulation.iceAccumulation>=.25?"Severe - extremely treacherous conditions":"Moderate - use caution on surfaces"})]}),a.jsxs("div",{className:"snow-detail-section mb-3",children:[a.jsx("h6",{children:"Ground Condition"}),a.jsx("p",{className:"mb-1",children:a.jsx("strong",{children:e.snowAccumulation.groundCondition.name})}),a.jsx("p",{className:"small text-muted mb-0",children:e.snowAccumulation.groundCondition.description})]}),e.snowAccumulation.travelImpact&&e.snowAccumulation.travelImpact.length>0&&a.jsxs("div",{className:"snow-detail-section mb-3",children:[a.jsx("h6",{children:"Travel Conditions"}),a.jsx("ul",{className:"small mb-0",children:e.snowAccumulation.travelImpact.map((K,he)=>a.jsx("li",{children:K},he))})]}),e.snowAccumulation.gameplayEffects&&e.snowAccumulation.gameplayEffects.length>0&&a.jsxs("div",{className:"snow-detail-section",children:[a.jsx("h6",{children:"Gameplay Effects"}),a.jsx("ul",{className:"small mb-0",children:e.snowAccumulation.gameplayEffects.map((K,he)=>a.jsx("li",{children:K},he))})]}),e.snowAccumulation.snowDepth===0&&e.snowAccumulation.iceAccumulation===0&&a.jsx("p",{className:"text-muted",children:"No snow or ice accumulation at this time."})]}):a.jsx("p",{children:"Ground condition data not available."})}),a.jsx(Re.Footer,{children:a.jsx(Se,{variant:"secondary",onClick:()=>w(!1),children:"Close"})})]}),e.seaState&&a.jsxs(Re,{show:S,onHide:()=>b(!1),centered:!0,size:"lg",children:[a.jsx(Re.Header,{closeButton:!0,children:a.jsxs(Re.Title,{children:[a.jsx(ws,{className:"me-2",style:{color:"#4a90d9"}}),"Sea Conditions"]})}),a.jsx(Re.Body,{children:a.jsx(Cj,{seaState:e.seaState})}),a.jsx(Re.Footer,{children:a.jsx(Se,{variant:"secondary",onClick:()=>b(!1),children:"Close"})})]})]})},Ej=({region:n,currentDate:e})=>{const[r,s]=y.useState(null),[l,c]=y.useState(null);y.useEffect(()=>{if(n&&e){const p=Yr.getDailyForecast(n,e,7);s(p)}},[n,e]);const d=(p,g)=>p===0?"Today":p===1?"Tmrw":`${jl(g.month,!0)} ${g.day}`,m=p=>{const g=p?.toLowerCase()||"";return g.includes("clear")||g.includes("sunny")?a.jsx(Wl,{}):g.includes("partly")?a.jsx(_d,{}):g.includes("cloud")?a.jsx(Hl,{}):g.includes("rain")?a.jsx(yv,{}):g.includes("storm")||g.includes("thunder")?a.jsx(Sv,{}):g.includes("snow")?a.jsx(xv,{}):g.includes("fog")||g.includes("mist")?a.jsx(k0,{}):a.jsx(_d,{})},h=p=>{c(l===p?null:p)};return r?a.jsxs("div",{className:"week-forecast-strip",children:[a.jsx("div",{className:"forecast-scroll-container",children:r.map(p=>a.jsxs("div",{className:`day-card ${l===p.day?"expanded":""} ${p.day===0?"today":""}`,onClick:()=>h(p.day),children:[a.jsx("div",{className:"day-label",children:d(p.day,p.date)}),a.jsx("div",{className:"day-icon",children:m(p.condition)}),a.jsxs("div",{className:"day-temps",children:[a.jsxs("span",{className:"temp-high",children:[p.high,""]}),a.jsxs("span",{className:"temp-low",children:[p.low,""]})]}),p.precipitation&&a.jsx("div",{className:"day-precip",children:a.jsx(s3,{})})]},p.day))}),l!==null&&r[l]&&a.jsxs("div",{className:"expanded-details",children:[a.jsxs("div",{className:"expanded-date",children:[jl(r[l].date.month,!0)," ",r[l].date.day]}),a.jsx("div",{className:"expanded-condition",children:r[l].condition}),r[l].precipitationType&&a.jsx("div",{className:"expanded-precip",children:r[l].precipitationType}),a.jsx("div",{className:"expanded-pattern",children:r[l].pattern})]})]}):null},Tj=({region:n,currentDate:e,currentWeather:r})=>{const[s,l]=y.useState(!1),[c,d]=y.useState(null),{conditionPhrasing:m}=j0(),h=()=>{if(!n||!e)return;const x=Yr.getForecast(n,e,24),w=Yr.groupIntoPeriods(x);d({periods:w,pattern:r?.pattern||"Unknown",warnings:r?.effects||[]}),l(!0)},p=x=>Rv(x,m),g=(x,w)=>x===w?`${x}F`:`${x}-${w}F`;return a.jsx(He,{className:"druidcraft-forecast mb-3",children:a.jsxs(He.Body,{children:[a.jsxs("div",{className:"section-label",children:[a.jsx(Sj,{})," Druidcraft Cantrip"]}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("div",{className:"forecast-subtitle",children:"24-Hour Prediction"}),a.jsx(Se,{variant:s?"success":"outline-success",size:"sm",onClick:h,children:s?"Cast Again":"Cast Druidcraft"})]}),s&&c&&a.jsxs("div",{className:"forecast-content",children:[a.jsxs("div",{className:"current-weather mb-3",children:[a.jsx("strong",{children:"Current Conditions:"})," ",p(r?.condition)||"Unknown",", ",r?.temperature||"--","F",r?.feelsLike!==r?.temperature&&a.jsxs("span",{children:[" (feels like ",r?.feelsLike,"F)"]})]}),a.jsx("div",{className:"forecast-title mb-2",children:a.jsx("strong",{children:"Next 24 Hours:"})}),a.jsx("div",{className:"weather-periods",children:c.periods.map((x,w)=>a.jsxs("div",{className:"weather-period",children:[a.jsxs("span",{className:"period-duration",children:[x.hours," ",x.hours===1?"hr":"hrs"]}),a.jsx("span",{className:"period-separator",children:"-"}),a.jsx("span",{className:"period-condition",children:p(x.condition)}),a.jsx("span",{className:"period-separator",children:","}),a.jsx("span",{className:"period-temp",children:g(x.tempMin,x.tempMax)})]},w))}),a.jsx("div",{className:"pattern-info mt-3",children:a.jsxs("small",{children:[a.jsx("strong",{children:"Pattern:"})," ",c.pattern]})}),c.warnings&&c.warnings.length>0&&a.jsxs("div",{className:"warnings mt-2 alert alert-warning p-2 mb-0",children:[a.jsx("strong",{children:" Warnings:"}),a.jsx("ul",{className:"mb-0 mt-1",children:c.warnings.map((x,w)=>a.jsx("li",{children:a.jsx("small",{children:x})},w))})]}),a.jsx("div",{className:"cantrip-note mt-2",children:a.jsx("small",{className:"text-muted",children:a.jsx("em",{children:"You innately sense the natural patterns of wind, temperature, and precipitation in your immediate surroundings."})})})]}),!s&&a.jsx("div",{className:"text-muted",children:a.jsx("small",{children:a.jsx("em",{children:"Cast Druidcraft to predict the weather for the next 24 hours at your current location."})})})]})})},Rj=({weather:n})=>{const[e,r]=y.useState(!1);if(!n)return null;const{celestial:s}=n,l=n?.wanderer,c=l?.occurred&&l?.eventType==="streak";return a.jsx(He,{className:"details-card mb-3",children:a.jsxs(He.Body,{className:"p-0",children:[a.jsxs("button",{className:"details-toggle",onClick:()=>r(!e),"aria-expanded":e,"aria-controls":"details-content",children:[a.jsxs("span",{className:"details-toggle-text",children:[e?"Hide Details":"Show Details",c&&!e&&a.jsx("span",{className:"wanderer-indicator",title:"Celestial event occurred!",children:""})]}),a.jsx("span",{className:"details-toggle-icon",children:e?a.jsx(Gd,{}):a.jsx(Ud,{})})]}),a.jsx(js,{in:e,children:a.jsx("div",{id:"details-content",children:a.jsxs("div",{className:"details-content-inner",children:[c&&a.jsxs("div",{className:"wanderer-streak-alert",children:[a.jsx("span",{className:"streak-icon",children:""}),a.jsx("span",{className:"streak-text",children:l.displaySummary}),!l.wasObservable&&a.jsxs("span",{className:"streak-visibility",children:["(",l.visibilityBlocker,")"]})]}),a.jsxs("div",{className:"details-section",children:[a.jsx("div",{className:"section-sublabel",children:"Conditions"}),a.jsxs(mi,{className:"g-2",children:[a.jsx(kt,{xs:6,sm:3,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(q4,{})}),a.jsx("div",{className:"detail-label",children:"Humidity"}),a.jsxs("div",{className:"detail-value",children:[n.humidity||0,"%"]})]})}),a.jsx(kt,{xs:6,sm:3,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(vv,{})}),a.jsx("div",{className:"detail-label",children:"Pressure"}),a.jsx("div",{className:"detail-value",children:n.pressure?`${n.pressure}"`:"N/A"}),n.pressureTrend&&a.jsxs("div",{className:"detail-trend",children:[n.pressureTrend==="rising"&&"",n.pressureTrend==="falling"&&"",n.pressureTrend==="steady"&&""]})]})}),a.jsx(kt,{xs:6,sm:3,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(Hl,{})}),a.jsx("div",{className:"detail-label",children:"Clouds"}),a.jsx("div",{className:"detail-value",children:n.cloudCover!==void 0?`${n.cloudCover}%`:"N/A"})]})}),a.jsx(kt,{xs:6,sm:3,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(k0,{})}),a.jsx("div",{className:"detail-label",children:"Visibility"}),a.jsx("div",{className:"detail-value",children:n.visibility!==void 0?`${n.visibility} mi`:"N/A"})]})})]})]}),s&&a.jsxs("div",{className:"details-section",children:[a.jsx("div",{className:"section-sublabel",children:"Celestial"}),a.jsxs(mi,{className:"g-2",children:[a.jsx(kt,{xs:6,sm:4,md:!0,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(wv,{})}),a.jsx("div",{className:"detail-label",children:"Sunrise"}),a.jsx("div",{className:"detail-value",children:s.sunriseTime||"--"})]})}),a.jsx(kt,{xs:6,sm:4,md:!0,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(jv,{})}),a.jsx("div",{className:"detail-label",children:"Sunset"}),a.jsx("div",{className:"detail-value",children:s.sunsetTime||"--"})]})}),a.jsx(kt,{xs:6,sm:4,md:!0,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(Wl,{})}),a.jsx("div",{className:"detail-label",children:"Daylight"}),a.jsx("div",{className:"detail-value",children:s.dayLength||"--"})]})}),a.jsx(kt,{xs:6,sm:6,md:!0,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(r3,{})}),a.jsx("div",{className:"detail-label",children:"Moonrise"}),a.jsx("div",{className:"detail-value",children:s.moonriseTime||"--"})]})}),a.jsx(kt,{xs:6,sm:6,md:!0,children:a.jsxs("div",{className:"detail-item",children:[a.jsx("div",{className:"detail-icon",children:a.jsx(a3,{})}),a.jsx("div",{className:"detail-label",children:"Moonset"}),a.jsx("div",{className:"detail-value",children:s.moonsetTime||"--"})]})})]})]})]})})})]})})},Mj=()=>{const n=new URL(window.location.href);n.searchParams.get("test")==="true"?n.searchParams.delete("test"):n.searchParams.set("test","true"),window.location.href=n.toString()},Pj=({weatherData:n})=>{const[e,r]=y.useState(!1);if(!n||!n._debug||!n._debug.temperatureBreakdown)return null;const s=n._debug,l=s.temperatureBreakdown;return a.jsxs("div",{className:"weather-debug",children:[a.jsxs("div",{className:"weather-debug-header",children:[a.jsxs("button",{className:"weather-debug-toggle",onClick:()=>r(!e),children:[e?"":""," Debug Console"]}),a.jsx("button",{className:"weather-debug-test-toggle",onClick:Mj,title:"Open Test Harness",children:" Test Harness"})]}),e&&a.jsxs("div",{className:"weather-debug-content",children:[a.jsxs("div",{className:"debug-section",children:[a.jsx("h5",{children:"Weather Pattern"}),a.jsxs("div",{className:"debug-grid",children:[a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Current Pattern:"}),a.jsx("span",{className:"debug-value",children:n.pattern})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Pattern Day:"}),a.jsxs("span",{className:"debug-value",children:["Day ",s.dayOfPattern||"?"]})]})]})]}),a.jsx("h5",{className:"mt-3",children:"Temperature Analysis"}),a.jsxs("div",{className:"debug-grid",children:[a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Current Season:"}),a.jsx("span",{className:"debug-value",children:l.season})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Expected Mean:"}),a.jsxs("span",{className:"debug-value",children:[l.expectedSeasonMean,"F"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Expected Range:"}),a.jsx("span",{className:"debug-value",children:l.expectedSeasonRange})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Seasonal Base Temp:"}),a.jsxs("span",{className:"debug-value",children:[l.seasonalBase,"F"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Daily Variation:"}),a.jsxs("span",{className:"debug-value",children:[l.dailyVariation>0?"+":"",l.dailyVariation,"F"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Pattern Influence:"}),a.jsxs("span",{className:"debug-value",children:[l.patternInfluence>0?"+":"",l.patternInfluence,"F"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Weather Pattern Mod:"}),a.jsxs("span",{className:"debug-value",children:[s.patternTempMod>0?"+":"",s.patternTempMod,"F"]})]}),a.jsxs("div",{className:"debug-item highlight",children:[a.jsx("span",{className:"debug-label",children:"Final Calculated:"}),a.jsxs("span",{className:"debug-value",children:[Math.round(l.finalTemp+s.patternTempMod),"F"]})]}),a.jsxs("div",{className:"debug-item highlight",children:[a.jsx("span",{className:"debug-label",children:"Actual Display:"}),a.jsxs("span",{className:"debug-value",children:[n.temperature,"F"]})]})]}),a.jsxs("div",{className:"debug-formula",children:[a.jsx("strong",{children:"Formula:"})," ",l.seasonalBase,"F (seasonal) + ",l.dailyVariation,"F (time of day) + ",l.patternInfluence,"F (temp pattern) + ",s.patternTempMod,"F (weather pattern) = ",n.temperature,"F"]}),a.jsx("h4",{children:"Weather Pattern"}),a.jsxs("div",{className:"debug-grid",children:[a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Pattern Type:"}),a.jsx("span",{className:"debug-value",children:n.pattern})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Day of Pattern:"}),a.jsx("span",{className:"debug-value",children:s.dayOfPattern})]})]}),s.atmospheric&&a.jsxs(a.Fragment,{children:[a.jsx("h5",{className:"mt-3",children:"Atmospheric Data"}),a.jsxs("div",{className:"debug-grid",children:[a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Pressure:"}),a.jsxs("span",{className:"debug-value",children:[n.pressure,'" ',n.pressureTrend]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Base Humidity:"}),a.jsxs("span",{className:"debug-value",children:[s.atmospheric.baseHumidity,"%"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Enhanced Humidity:"}),a.jsxs("span",{className:"debug-value",children:[s.atmospheric.enhancedHumidity,"%"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Cloud Cover:"}),a.jsxs("span",{className:"debug-value",children:[n.cloudCover,"% (",n.cloudCoverType,")"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Visibility:"}),a.jsxs("span",{className:"debug-value",children:[n.visibility," mi (",n.visibilityDescription,")"]})]}),a.jsxs("div",{className:"debug-item",children:[a.jsx("span",{className:"debug-label",children:"Atmospheric Feels-Like Contribution:"}),a.jsxs("span",{className:"debug-value",children:[s.atmospheric.atmosphericFeelsLikeContribution>0?"+":"",s.atmospheric.atmosphericFeelsLikeContribution,"F"]})]})]})]})]})]})},Gt={year:1,daysToTest:365,hoursToTest:[0,6,12,18],latitudeBands:["polar","subarctic","boreal","temperate","subtropical","tropical","special"],seasonalTransitionDays:{springEquinox:{center:80,start:75,end:85},summerSolstice:{center:172,start:167,end:177},fallEquinox:{center:266,start:261,end:271},winterSolstice:{center:356,start:351,end:361}}},oi={hoursToAnalyze:720,startDate:{year:1,month:1,day:15,hour:0},freezingThreshold:32},Nl={startMonth:6,startDay:1,daysToAnalyze:60,hoursToTest:[12,14,16,18,20],minThunderstormFactor:.5,yearsToTest:5},D0={startDate:{year:1,month:1,day:15,hour:0},daysToAnalyze:90,hourToCheck:12,winterTempThreshold:40,thresholds:{snowDepthForSuppression:2,freezingTemp:32,significantMeltRate:3,rapidMeltThreshold:5}},El={startMonth:6,startDay:1,daysToAnalyze:60,hoursToTest:[6,10,12,14,16,18,20],minSummerMean:70,feelsLikeDifferenceThreshold:3,yearsToTest:3},dn={temperature:{min:-100,max:150},humidity:{min:0,max:100},pressure:{min:28,max:32},cloudCover:{min:0,max:100},maxTempChangePerHour:15,maxWeeklySeasonalJump:12,expectedTempDeviation:15,biomeSimilarityThreshold:3},Dj="modulepreload",Aj=function(n){return"/WeatherMaster/"+n},Kp={},$l=function(e,r,s){let l=Promise.resolve();if(r&&r.length>0){let p=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var d=p;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),h=m?.nonce||m?.getAttribute("nonce");l=p(r.map(g=>{if(g=Aj(g),g in Kp)return;Kp[g]=!0;const x=g.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":Dj,x||(S.as="script"),S.crossOrigin="",S.href=g,h&&S.setAttribute("nonce",h),document.head.appendChild(S),x)return new Promise((b,N)=>{S.addEventListener("load",b),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(m){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=m,window.dispatchEvent(h),!h.defaultPrevented)throw m}return l.then(m=>{for(const h of m||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},Ij=(n,e)=>{const r=[];if((typeof n.temperature!="number"||isNaN(n.temperature))&&r.push("Invalid temperature"),(typeof n.humidity!="number"||isNaN(n.humidity))&&r.push("Invalid humidity"),(n.temperature<dn.temperature.min||n.temperature>dn.temperature.max)&&r.push(`Temp out of range: ${n.temperature}F`),(n.humidity<dn.humidity.min||n.humidity>dn.humidity.max)&&r.push(`Humidity out of range: ${n.humidity}%`),n.pressure&&(n.pressure<dn.pressure.min||n.pressure>dn.pressure.max)&&r.push(`Pressure out of range: ${n.pressure} inHg`),n.precipitation&&n.precipitationType){const s=n.temperature,l=n.precipitationType.toLowerCase();l.includes("snow")&&s>35&&r.push(`Snow at ${s}F`),l==="rain"&&s<35&&r.push(`Rain at ${s}F`),l==="freezing-rain"&&(s<28||s>35)&&r.push(`Freezing rain at ${s}F (should be 28-35F)`),l==="sleet"&&(s<29||s>38)&&r.push(`Sleet at ${s}F (should be 29-38F)`)}return{isValid:r.length===0,issues:r}},Oj=n=>{const e=Gt.seasonalTransitionDays;for(const[,r]of Object.entries(e))if(n>=r.start&&n<=r.end||r.start>350&&(n>=r.start||n<=5))return!0;return!1},Lj=n=>n>=3&&n<=5?"spring":n>=6&&n<=8?"summer":n>=9&&n<=11?"fall":"winter",qp=n=>{if(n.length===0)return 0;const e=n.reduce((s,l)=>s+l,0)/n.length,r=n.map(s=>Math.pow(s-e,2));return Math.sqrt(r.reduce((s,l)=>s+l,0)/n.length)},_j=(n,e)=>({tempMin:1/0,tempMax:-1/0,tempSum:0,count:0,precipCount:0,latitudeBand:n,expectedAnnualTemp:e,dailyTemps:[],seasonalTemps:{winter:[],spring:[],summer:[],fall:[]},currentDryStreak:0,currentWetStreak:0,longestDryStreak:0,longestWetStreak:0,lastPrecipState:null,seasonalTransitionTemps:{}}),Fj=()=>({longestDry:0,longestWet:0,currentDry:0,currentWet:0}),zj=()=>({droughtDays:{none:0,abnormallyDry:0,moderate:0,severe:0,extreme:0},floodingDays:{none:0,elevated:0,moderate:0,high:0},heatWaveDays:{none:0,advisory:0,warning:0,extreme:0},coldSnapDays:{none:0,advisory:0,warning:0,extreme:0},wildfireDays:{low:0,moderate:0,high:0,veryHigh:0,extreme:0},maxDroughtLevel:0,maxFloodLevel:0,maxHeatLevel:0,maxColdLevel:0,maxFireLevel:0}),Hj=()=>({maxSnowDepth:0,maxIceAccumulation:0,daysWithSnow:0,daysWithIce:0,groundConditionCounts:{snowCovered:0,icy:0,frozen:0,thawing:0,muddy:0,dry:0}}),Wj=(n,e)=>{const r=n.drought.level;r===0?e.droughtDays.none++:r===1?e.droughtDays.abnormallyDry++:r===2?e.droughtDays.moderate++:r===3?e.droughtDays.severe++:r>=4&&e.droughtDays.extreme++,e.maxDroughtLevel=Math.max(e.maxDroughtLevel,r);const s=n.flooding.level;s===0?e.floodingDays.none++:s===1?e.floodingDays.elevated++:s===2?e.floodingDays.moderate++:s>=3&&e.floodingDays.high++,e.maxFloodLevel=Math.max(e.maxFloodLevel,s);const l=n.heatWave.level;l===0?e.heatWaveDays.none++:l===1?e.heatWaveDays.advisory++:l===2?e.heatWaveDays.warning++:l>=3&&e.heatWaveDays.extreme++,e.maxHeatLevel=Math.max(e.maxHeatLevel,l);const c=n.coldSnap.level;c===0?e.coldSnapDays.none++:c===1?e.coldSnapDays.advisory++:c===2?e.coldSnapDays.warning++:c>=3&&e.coldSnapDays.extreme++,e.maxColdLevel=Math.max(e.maxColdLevel,c);const d=n.wildfireRisk.level;d===0?e.wildfireDays.low++:d===1?e.wildfireDays.moderate++:d===2?e.wildfireDays.high++:d===3?e.wildfireDays.veryHigh++:d>=4&&e.wildfireDays.extreme++,e.maxFireLevel=Math.max(e.maxFireLevel,d)},Bj=(n,e)=>{e.maxSnowDepth=Math.max(e.maxSnowDepth,n.snowDepth),e.maxIceAccumulation=Math.max(e.maxIceAccumulation,n.iceAccumulation),n.snowDepth>=.5&&e.daysWithSnow++,n.iceAccumulation>=.1&&e.daysWithIce++;const r=n.groundCondition.name.toLowerCase().replace(" ","");r==="snowcovered"?e.groundConditionCounts.snowCovered++:r==="icy"?e.groundConditionCounts.icy++:r==="frozen"?e.groundConditionCounts.frozen++:r==="thawing"?e.groundConditionCounts.thawing++:r==="muddy"?e.groundConditionCounts.muddy++:e.groundConditionCounts.dry++},$j=n=>{for(const[e,r]of Object.entries(n.biomeStats)){const s=r.seasonalTransitionTemps,l=Object.keys(s).map(Number).sort((m,h)=>m-h),c=Gt.seasonalTransitionDays;for(const[m,h]of Object.entries(c)){const p=[],g=[];for(const x of l){const w=s[x];if(w===void 0)continue;let S=x;h.start>350&&x<=5&&(S=x+365);const b=h.start>350?h.end+365:h.end;S>=h.start&&S<h.center?p.push(w):S>=h.center&&S<=b&&g.push(w)}if(p.length>=3&&g.length>=3){const x=p.reduce((b,N)=>b+N,0)/p.length,w=g.reduce((b,N)=>b+N,0)/g.length,S=Math.abs(w-x);S>dn.maxWeeklySeasonalJump&&n.seasonalTransitionAnomalies.push({biome:e,latitudeBand:r.latitudeBand,season:m,beforeAvg:x.toFixed(1),afterAvg:w.toFixed(1),weeklyChange:S.toFixed(1),daysAnalyzed:p.length+g.length})}}r.dailyTempVariance=qp(r.dailyTemps),r.seasonalVariance={};for(const[m,h]of Object.entries(r.seasonalTemps))r.seasonalVariance[m]=qp(h);const d=r.tempSum/r.count;r.actualAnnualTemp=d,r.expectedAnnualTemp!==void 0&&(r.tempDeviation=d-r.expectedAnnualTemp)}},Vj=n=>{const e=Object.keys(n.biomeStats);for(let r=0;r<e.length;r++)for(let s=r+1;s<e.length;s++){const l=e[r],c=e[s],d=n.biomeStats[l].tempSum/n.biomeStats[l].count,m=n.biomeStats[c].tempSum/n.biomeStats[c].count,h=n.biomeStats[l].precipCount/n.biomeStats[l].count*100,p=n.biomeStats[c].precipCount/n.biomeStats[c].count*100,g=Math.abs(d-m),x=Math.abs(h-p);g<dn.biomeSimilarityThreshold&&x<5&&n.biomeSimilarities.push({biome1:l,biome2:c,avgTempDiff:g.toFixed(1),precipDiff:x.toFixed(1),band1:n.biomeStats[l].latitudeBand,band2:n.biomeStats[c].latitudeBand})}},Uj=n=>{for(const[e,r]of Object.entries(n.biomeStats)){const s=[];r.tempDeviation!==void 0&&Math.abs(r.tempDeviation)>dn.expectedTempDeviation&&s.push(`Temp deviation: ${r.tempDeviation>0?"+":""}${r.tempDeviation.toFixed(1)}F from expected`);const l=n.anomalies.filter(x=>x.biome===e);l.length>10&&s.push(`${l.length} validation anomalies`);const c=n.transitionAnomalies.filter(x=>x.biome===e);c.length>5&&s.push(`${c.length} hourly transition anomalies`);const d=n.seasonalTransitionAnomalies.filter(x=>x.biome===e);d.length>0&&s.push(`${d.length} abrupt seasonal transition(s)`);const m=n.precipitationStreaks[e],h=r.precipCount/r.count,p=Math.min(60,Math.max(14,Math.round(14/(1-h+.01)))),g=Math.min(90,Math.max(14,Math.round(14/(h+.01))));m&&m.longestWet>p&&s.push(`Long wet streak: ${m.longestWet} days (threshold: ${p})`),m&&m.longestDry>g&&s.push(`Long dry streak: ${m.longestDry} days (threshold: ${g})`),s.length>0&&n.problemBiomes.push({biome:e,latitudeBand:r.latitudeBand,problems:s})}},Gj=async(n,e={})=>{const{newOnly:r=!1}=e,s={totalTests:0,successfulTests:0,anomalies:[],transitionAnomalies:[],seasonalTransitionAnomalies:[],biomeStats:{},precipitationStreaks:{},biomeSimilarities:[],problemBiomes:[],environmentalStats:{},snowStats:{}},l=new qn,c=new R0,d=new As;let m=0;const p=Gt.latitudeBands.reduce((g,x)=>{const w=fn[x]||{};return r?g+Object.values(w).filter(S=>S.isNew).length:g+Object.keys(w).length},0)*Gt.daysToTest*Gt.hoursToTest.length;for(const g of Gt.latitudeBands){const x=fn[g];if(x)for(const[w,S]of Object.entries(x)){if(r&&!S.isNew)continue;const b=S.name,N=S.parameters?.temperatureProfile?.annual?.mean;s.biomeStats[b]||(s.biomeStats[b]=_j(g,N)),s.precipitationStreaks[b]||(s.precipitationStreaks[b]=Fj()),s.environmentalStats[b]||(s.environmentalStats[b]=zj()),s.snowStats[b]||(s.snowStats[b]=Hj());const k={id:`test-${g}-${w}`,name:`Test ${b}`,latitudeBand:g,templateId:w,climate:ba(S)};let C=null,E=null;for(let P=1;P<=Gt.daysToTest;P++){const _=[31,28,31,30,31,30,31,31,30,31,30,31];let L=P,A=0;for(;L>_[A];)L-=_[A],A++;A++;for(const $ of Gt.hoursToTest){const I={year:Gt.year,month:A,day:L,hour:$};try{const X=l.generateWeather(k,I),re={biome:b,latitudeBand:g,date:`${I.month}/${I.day} ${I.hour}:00`},H=Ij(X,re);if(s.totalTests++,m++,H.isValid?s.successfulTests++:s.anomalies.push({...re,issues:H.issues}),C&&E){const se=Math.abs(X.temperature-C.temperature),ee=(I.day-E.day)*24+(I.hour-E.hour);if(ee===6){const te=dn.maxTempChangePerHour*ee;se>te&&s.transitionAnomalies.push({biome:b,latitudeBand:g,from:`${E.month}/${E.day} ${E.hour}:00`,to:`${I.month}/${I.day} ${I.hour}:00`,tempChange:`${C.temperature}F  ${X.temperature}F (${se}F)`,precipChange:`${C.condition}  ${X.condition}`})}}C=X,E=I;const ie=s.biomeStats[b];if(ie.tempMin=Math.min(ie.tempMin,X.temperature),ie.tempMax=Math.max(ie.tempMax,X.temperature),ie.tempSum+=X.temperature,ie.count++,X.precipitation&&ie.precipCount++,$===12){ie.dailyTemps.push(X.temperature);const se=Lj(I.month);ie.seasonalTemps[se].push(X.temperature),Oj(P)&&(ie.seasonalTransitionTemps[P]=X.temperature);const ee=s.precipitationStreaks[b];X.precipitation?(ee.currentWet++,ee.longestWet=Math.max(ee.longestWet,ee.currentWet),ee.currentDry=0):(ee.currentDry++,ee.longestDry=Math.max(ee.longestDry,ee.currentDry),ee.currentWet=0);try{const te=c.getEnvironmentalConditions(k,I);Wj(te,s.environmentalStats[b])}catch(te){console.warn(`Environmental check failed for ${b}:`,te.message)}try{const te=d.getAccumulation(k,I);Bj(te,s.snowStats[b])}catch(te){console.warn(`Snow check failed for ${b}:`,te.message)}}m%1e3===0&&(n(m/p*100),await new Promise(se=>setTimeout(se,0)))}catch(X){s.anomalies.push({biome:b,latitudeBand:g,date:`${I.month}/${I.day} ${I.hour}:00`,issues:[`Exception: ${X.message}`]})}}}}}return $j(s),Vj(s),Uj(s),n(100),s},Yj=()=>{const n=[],e=oi.freezingThreshold;for(const r of Gt.latitudeBands){const s=fn[r];if(s)for(const[l,c]of Object.entries(s)){const d=c.parameters?.temperatureProfile?.winter?.mean;d!==void 0&&d<=e&&n.push({latitudeBand:r,templateId:l,template:c,biomeName:c.name,winterMean:d})}}return n},Kj=async n=>{const{advanceDate:e}=await $l(async()=>{const{advanceDate:g}=await Promise.resolve().then(()=>zl);return{advanceDate:g}},void 0),r=Yj(),s=oi.hoursToAnalyze,l={...oi.startDate},c={config:{hoursAnalyzed:s,startDate:`${l.month}/${l.day} Year ${l.year}`,freezingThreshold:oi.freezingThreshold,biomesAnalyzed:r.length},biomes:{},summary:{totalPrecipTypeChanges:0,totalRainOnSnowEvents:0,maxSnowDepthObserved:0,biomesWithFullMelt:[]}},d=new qn,m=new As;let h=0;const p=r.length*s;for(const g of r){const{latitudeBand:x,templateId:w,template:S,biomeName:b,winterMean:N}=g,k={id:`precip-test-${x}-${w}`,name:`Test ${b}`,latitudeBand:x,templateId:w,climate:ba(S)},C={biomeName:b,latitudeBand:x,winterMean:N,timeSeries:[],stats:{hoursWithPrecip:0,precipTypeBreakdown:{snow:0,sleet:0,rain:0,"freezing-rain":0,none:0},precipTypeChanges:0,rainOnSnowEvents:0,maxSnowDepth:0,maxMeltRate:0,hoursAboveFreezing:0,hoursBelowFreezing:0,tempRange:{min:1/0,max:-1/0}}};let E={...l},P=null,_=0;d.clearCache(),m.clearCache();for(let $=0;$<s;$++){try{const I=d.generateWeather(k,E),X=m.getAccumulation(k,E),re=I.precipitation?I.precipitationType:"none",H=X.snowDepth,ie=_>H?_-H:0,se={hour:$,date:`${E.month}/${E.day} ${E.hour}:00`,temperature:I.temperature,precipType:re,precipIntensity:I.precipitationIntensity||null,snowDepth:H,snowDepthChange:H-_,meltAmount:Math.round(ie*100)/100,groundCondition:X.groundCondition.name};C.timeSeries.push(se),I.precipitation&&C.stats.hoursWithPrecip++,C.stats.precipTypeBreakdown[re]++,P!==null&&P!==re&&P!=="none"&&re!=="none"&&C.stats.precipTypeChanges++,re==="rain"&&_>=.5&&C.stats.rainOnSnowEvents++,C.stats.maxSnowDepth=Math.max(C.stats.maxSnowDepth,H),C.stats.maxMeltRate=Math.max(C.stats.maxMeltRate,ie),I.temperature>32?C.stats.hoursAboveFreezing++:C.stats.hoursBelowFreezing++,C.stats.tempRange.min=Math.min(C.stats.tempRange.min,I.temperature),C.stats.tempRange.max=Math.max(C.stats.tempRange.max,I.temperature),P=re,_=H}catch(I){C.timeSeries.push({hour:$,date:`${E.month}/${E.day} ${E.hour}:00`,error:I.message})}E=e(E,1),h++,h%50===0&&(n(h/p*100),await new Promise(I=>setTimeout(I,0)))}const L=C.stats.maxSnowDepth>=5,A=C.timeSeries[C.timeSeries.length-1]?.snowDepth<.5;L&&A&&c.summary.biomesWithFullMelt.push(b),c.summary.totalPrecipTypeChanges+=C.stats.precipTypeChanges,c.summary.totalRainOnSnowEvents+=C.stats.rainOnSnowEvents,c.summary.maxSnowDepthObserved=Math.max(c.summary.maxSnowDepthObserved,C.stats.maxSnowDepth),c.biomes[b]=C}return n(100),c},qj=()=>{const n=[],e=Nl.minThunderstormFactor;for(const r of Gt.latitudeBands){const s=fn[r];if(s)for(const[l,c]of Object.entries(s)){const d=c.parameters?.specialFactors?.thunderstorms||0;d>=e&&n.push({latitudeBand:r,templateId:l,template:c,biomeName:c.name,thunderstormFactor:d})}}return n},Xj=async n=>{const{advanceDate:e}=await $l(async()=>{const{advanceDate:w}=await Promise.resolve().then(()=>zl);return{advanceDate:w}},void 0),r=qj(),{daysToAnalyze:s,hoursToTest:l,startMonth:c,startDay:d,yearsToTest:m}=Nl,h={config:{daysAnalyzed:s,hoursPerDay:l.length,yearsAnalyzed:m,startDate:`${c}/${d} (Years 1-${m})`,biomesAnalyzed:r.length},biomes:{},summary:{totalThunderstorms:0,totalHeavyRain:0,totalTestHours:0,overallThunderstormRate:0,biomeWithMostThunderstorms:null,maxThunderstormsInBiome:0}},p=new qn;let g=0;const x=r.length*s*l.length*m;for(const w of r){const{latitudeBand:S,templateId:b,template:N,biomeName:k,thunderstormFactor:C}=w,E={id:`thunderstorm-test-${S}-${b}`,name:`Test ${k}`,latitudeBand:S,templateId:b,climate:ba(N)},P={biomeName:k,latitudeBand:S,thunderstormFactor:C,stats:{totalHours:0,thunderstormHours:0,heavyRainHours:0,moderateRainHours:0,lightRainHours:0,noRainHours:0,thunderstormRate:0,conversionRate:0,avgTempDuringThunderstorms:0,thunderstormsByHour:{},severityBreakdown:{normal:0,strong:0,severe:0}},thunderstormEvents:[]};for(const A of l)P.stats.thunderstormsByHour[A]=0;p.clearCache();let _=[];for(let A=1;A<=m;A++){let $={year:A,month:c,day:d,hour:0};for(let I=0;I<s;I++){for(const X of l){const re={...$,hour:X};try{const H=p.generateWeather(E,re);if(P.stats.totalHours++,H.condition==="Thunderstorm"){P.stats.thunderstormHours++,P.stats.thunderstormsByHour[X]++,_.push(H.temperature);let ie="normal";H.effects.some(se=>se.includes("Severe Thunderstorm"))?ie="severe":H.effects.some(se=>se.includes("Strong Thunderstorm"))&&(ie="strong"),P.stats.severityBreakdown[ie]++,P.thunderstormEvents.push({date:`Y${A} ${re.month}/${re.day} ${X}:00`,temperature:H.temperature,windSpeed:H.windSpeed,severity:ie})}else H.condition==="Heavy Rain"?P.stats.heavyRainHours++:H.condition==="Rain"?P.stats.moderateRainHours++:H.condition==="Light Rain"?P.stats.lightRainHours++:P.stats.noRainHours++}catch(H){console.warn(`Thunderstorm test error for ${k}:`,H.message)}g++}$=e({...$,hour:0},24),g%100===0&&(n(g/x*100),await new Promise(X=>setTimeout(X,0)))}}P.stats.thunderstormRate=P.stats.thunderstormHours/P.stats.totalHours*100;const L=P.stats.thunderstormHours+P.stats.heavyRainHours;P.stats.conversionRate=L>0?P.stats.thunderstormHours/L*100:0,P.stats.avgTempDuringThunderstorms=_.length>0?Math.round(_.reduce((A,$)=>A+$,0)/_.length):null,h.summary.totalThunderstorms+=P.stats.thunderstormHours,h.summary.totalHeavyRain+=P.stats.heavyRainHours,h.summary.totalTestHours+=P.stats.totalHours,P.stats.thunderstormHours>h.summary.maxThunderstormsInBiome&&(h.summary.maxThunderstormsInBiome=P.stats.thunderstormHours,h.summary.biomeWithMostThunderstorms=k),h.biomes[k]=P}return h.summary.overallThunderstormRate=h.summary.totalThunderstorms/h.summary.totalTestHours*100,n(100),h},Qj=()=>{const n=[],e=D0.winterTempThreshold;for(const r of Gt.latitudeBands){const s=fn[r];if(s)for(const[l,c]of Object.entries(s)){const d=c.parameters?.temperatureProfile?.winter?.mean;d!==void 0&&d<=e&&n.push({latitudeBand:r,templateId:l,template:c,biomeName:c.name,winterMean:d})}}return n},Zj=async n=>{const{advanceDate:e}=await $l(async()=>{const{advanceDate:N}=await Promise.resolve().then(()=>zl);return{advanceDate:N}},void 0),r=Qj(),{daysToAnalyze:s,hourToCheck:l,startDate:c,thresholds:d}=D0,m={config:{daysAnalyzed:s,startDate:`${c.month}/${c.day} Year ${c.year}`,biomesAnalyzed:r.length,thresholds:d},biomes:{},summary:{totalDaysAnalyzed:0,totalFloodAlerts:0,suspiciousAlerts:0,missedAlerts:0,correctAlerts:0,correctNoAlerts:0,falsePositiveRate:0,missedAlertRate:0},issues:[]},h=new qn,p=new R0,g=new As;let x=0;const w=r.length*s;for(const N of r){const{latitudeBand:k,templateId:C,template:E,biomeName:P,winterMean:_}=N,L={id:`flood-test-${k}-${C}`,name:`Test ${P}`,latitudeBand:k,templateId:C,climate:ba(E)},A={biomeName:P,latitudeBand:k,winterMean:_,timeSeries:[],stats:{daysWithFloodAlert:0,daysWithSnowAccumulating:0,daysWithRapidMelt:0,daysWithRainOnSnow:0,suspiciousAlerts:0,missedAlerts:0,correctAlerts:0,correctNoAlerts:0},suspiciousEvents:[],missedEvents:[]};h.clearCache(),p.clearCache(),g.clearCache();let $={...c},I=0;const X=[];for(let re=0;re<s;re++){const H={...$,hour:l};try{const ie=h.generateWeather(L,H),se=p.getEnvironmentalConditions(L,H),ee=g.getAccumulation(L,H),te=ie.temperature,ce=ee.snowDepth,ge=se.flooding.level,V=ie.precipitation?ie.precipitationType:"none";X.push(ce),X.length>3&&X.shift();const Z=X.length>=2?Math.max(0,X[0]-ce):0,U=X.length>=3?Math.max(0,X[0]-ce):0,R=te<=d.freezingTemp,B=ce>=d.snowDepthForSuppression,oe=ce>I&&R,K=U>=d.rapidMeltThreshold,he=V==="rain"&&B;let ne="unknown";ge>0?(A.stats.daysWithFloodAlert++,oe&&R&&!he?(ne="suspicious",A.stats.suspiciousAlerts++,A.suspiciousEvents.push({date:`${H.month}/${H.day}`,floodLevel:ge,temp:te,snowDepth:ce,precipType:V,reason:"Flood alert while snow accumulating in freezing temps"})):B&&R&&Z===0&&!he?(ne="suspicious",A.stats.suspiciousAlerts++,A.suspiciousEvents.push({date:`${H.month}/${H.day}`,floodLevel:ge,temp:te,snowDepth:ce,precipType:V,reason:"Flood alert with frozen snow cover, no melt occurring"})):(K||he||!R&&ie.precipitation,ne="correct",A.stats.correctAlerts++)):K&&!R?(ne="missed",A.stats.missedAlerts++,A.missedEvents.push({date:`${H.month}/${H.day}`,temp:te,snowDepth:ce,snowDepthDrop3Day:U,reason:`Rapid melt (${U.toFixed(1)}" in 3 days) with no flood alert`})):he&&ie.precipitationIntensity==="heavy"?(ne="missed",A.stats.missedAlerts++,A.missedEvents.push({date:`${H.month}/${H.day}`,temp:te,snowDepth:ce,precipType:V,reason:"Heavy rain on snow with no flood alert"})):(ne="correct-none",A.stats.correctNoAlerts++),oe&&A.stats.daysWithSnowAccumulating++,K&&A.stats.daysWithRapidMelt++,he&&A.stats.daysWithRainOnSnow++,A.timeSeries.push({day:re,date:`${H.month}/${H.day}`,temp:te,snowDepth:Math.round(ce*10)/10,snowChange:Math.round((ce-I)*10)/10,precipType:V,floodLevel:ge,floodName:se.flooding.name,alertAssessment:ne}),I=ce}catch(ie){A.timeSeries.push({day:re,date:`${$.month}/${$.day}`,error:ie.message})}$=e($,24),x++,x%50===0&&(n(x/w*100),await new Promise(ie=>setTimeout(ie,0)))}m.summary.totalDaysAnalyzed+=s,m.summary.totalFloodAlerts+=A.stats.daysWithFloodAlert,m.summary.suspiciousAlerts+=A.stats.suspiciousAlerts,m.summary.missedAlerts+=A.stats.missedAlerts,m.summary.correctAlerts+=A.stats.correctAlerts,m.summary.correctNoAlerts+=A.stats.correctNoAlerts,(A.stats.suspiciousAlerts>5||A.stats.missedAlerts>3)&&m.issues.push({biomeName:P,suspiciousAlerts:A.stats.suspiciousAlerts,missedAlerts:A.stats.missedAlerts,sampleSuspicious:A.suspiciousEvents.slice(0,3),sampleMissed:A.missedEvents.slice(0,3)}),m.biomes[P]=A}const S=m.summary.totalFloodAlerts,b=Object.values(m.biomes).reduce((N,k)=>N+k.stats.daysWithRapidMelt+k.stats.daysWithRainOnSnow,0);return m.summary.falsePositiveRate=S>0?m.summary.suspiciousAlerts/S*100:0,m.summary.missedAlertRate=b>0?m.summary.missedAlerts/b*100:0,n(100),m},Jj=()=>{const n=[],e=El.minSummerMean;for(const r of Gt.latitudeBands){const s=fn[r];if(s)for(const[l,c]of Object.entries(s)){const d=c.parameters?.temperatureProfile?.summer?.mean,m=!!c.parameters?.dewPointProfile;d!==void 0&&d>=e&&n.push({latitudeBand:r,templateId:l,template:c,biomeName:c.name,summerMean:d,hasDewPointProfile:m})}}return n},e7=async n=>{const{advanceDate:e}=await $l(async()=>{const{advanceDate:k}=await Promise.resolve().then(()=>zl);return{advanceDate:k}},void 0),r=Jj(),{daysToAnalyze:s,hoursToTest:l,startMonth:c,startDay:d,yearsToTest:m,feelsLikeDifferenceThreshold:h}=El,p={config:{daysAnalyzed:s,hoursPerDay:l.length,yearsAnalyzed:m,startDate:`${c}/${d} (Years 1-${m})`,biomesAnalyzed:r.length,feelsLikeThreshold:h},biomes:{},summary:{totalTestHours:0,hoursAbove80F:0,hoursWithHeatIndex:0,hoursShowingFeelsLike:0,maxHeatIndex:0,maxHeatIndexBiome:null,avgHumidityWhenHot:0,avgDewPointWhenHot:0,biomesWithNoFeelsLike:[]}},g=new qn;let x=0;const w=r.length*s*l.length*m;let S=0,b=0,N=0;for(const k of r){const{latitudeBand:C,templateId:E,template:P,biomeName:_,summerMean:L,hasDewPointProfile:A}=k,$={id:`heatindex-test-${C}-${E}`,name:`Test ${_}`,latitudeBand:C,templateId:E,climate:ba(P)},I={biomeName:_,latitudeBand:C,summerMean:L,hasDewPointProfile:A,stats:{totalHours:0,hoursAbove80F:0,hoursAbove90F:0,hoursAbove100F:0,hoursWithFeelsLikeShowing:0,maxTemp:0,maxHeatIndex:0,maxHeatIndexDiff:0,avgHumidityWhenHot:0,avgDewPointWhenHot:0,humidityRange:{min:100,max:0},dewPointRange:{min:100,max:-50},heatIndexRange:{min:200,max:0}},significantHeatEvents:[],hotDryEvents:[],samples:[]};g.clearCache();let X=0,re=0,H=0;for(let ie=1;ie<=m;ie++){let se={year:ie,month:c,day:d,hour:0};for(let ee=0;ee<s;ee++){for(const te of l){const ce={...se,hour:te};try{const ge=g.generateWeather($,ce);I.stats.totalHours++;const V=ge.temperature,Z=ge.humidity,U=ge.dewPoint,R=ge.feelsLike,B=R-V;I.stats.humidityRange.min=Math.min(I.stats.humidityRange.min,Z),I.stats.humidityRange.max=Math.max(I.stats.humidityRange.max,Z),I.stats.dewPointRange.min=Math.min(I.stats.dewPointRange.min,U),I.stats.dewPointRange.max=Math.max(I.stats.dewPointRange.max,U),V>=80&&(I.stats.hoursAbove80F++,X+=Z,re+=U,H++,I.stats.heatIndexRange.min=Math.min(I.stats.heatIndexRange.min,R),I.stats.heatIndexRange.max=Math.max(I.stats.heatIndexRange.max,R),V>=90&&I.stats.hoursAbove90F++,V>=100&&I.stats.hoursAbove100F++,B>=h?(I.stats.hoursWithFeelsLikeShowing++,p.summary.hoursShowingFeelsLike++,I.significantHeatEvents.length<20&&I.significantHeatEvents.push({date:`Y${ie} ${ce.month}/${ce.day} ${te}:00`,temp:V,humidity:Z,dewPoint:U,feelsLike:R,diff:B})):V>=90&&I.hotDryEvents.length<10&&I.hotDryEvents.push({date:`Y${ie} ${ce.month}/${ce.day} ${te}:00`,temp:V,humidity:Z,dewPoint:U,feelsLike:R,diff:B,reason:Z<40?"Low humidity":"Moderate humidity"})),V>I.stats.maxTemp&&(I.stats.maxTemp=V),R>I.stats.maxHeatIndex&&(I.stats.maxHeatIndex=R),B>I.stats.maxHeatIndexDiff&&(I.stats.maxHeatIndexDiff=B),I.samples.length<10&&V>=85&&ee%10===0&&I.samples.push({date:`Y${ie} ${ce.month}/${ce.day} ${te}:00`,temp:V,humidity:Z,dewPoint:U,feelsLike:R,diff:B})}catch(ge){console.warn(`Heat index test error for ${_}:`,ge.message)}x++,x%500===0&&(n(x/w*100),await new Promise(ge=>setTimeout(ge,0)))}se=e(se,24)}}H>0&&(I.stats.avgHumidityWhenHot=Math.round(X/H),I.stats.avgDewPointWhenHot=Math.round(re/H)),p.summary.totalTestHours+=I.stats.totalHours,p.summary.hoursAbove80F+=I.stats.hoursAbove80F,S+=H,b+=X,N+=re,I.stats.maxHeatIndex>p.summary.maxHeatIndex&&(p.summary.maxHeatIndex=I.stats.maxHeatIndex,p.summary.maxHeatIndexBiome=_),I.stats.hoursAbove80F>100&&I.stats.hoursWithFeelsLikeShowing===0&&p.summary.biomesWithNoFeelsLike.push({biomeName:_,hoursAbove80F:I.stats.hoursAbove80F,maxTemp:I.stats.maxTemp,maxHeatIndex:I.stats.maxHeatIndex,avgHumidity:I.stats.avgHumidityWhenHot,avgDewPoint:I.stats.avgDewPointWhenHot}),p.biomes[_]=I}return S>0&&(p.summary.avgHumidityWhenHot=Math.round(b/S),p.summary.avgDewPointWhenHot=Math.round(N/S)),p.summary.hoursWithHeatIndex=p.summary.hoursAbove80F,p.summary.feelsLikeShowRate=p.summary.hoursAbove80F>0?(p.summary.hoursShowingFeelsLike/p.summary.hoursAbove80F*100).toFixed(1)+"%":"0%",n(100),p},t7=n=>{if(!n)return;const e=JSON.stringify(n,null,2),r=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download=`weather-test-results-${Date.now()}.json`,l.click(),URL.revokeObjectURL(s)},n7=n=>{if(!n)return;const e={summary:{totalTests:n.totalTests,successRate:(n.successfulTests/n.totalTests*100).toFixed(2)+"%",validationAnomalies:n.anomalies.length,hourlyTransitionAnomalies:n.transitionAnomalies.length,seasonalTransitionAnomalies:n.seasonalTransitionAnomalies.length,similarBiomePairs:n.biomeSimilarities.length,problemBiomeCount:n.problemBiomes.length},problemBiomes:n.problemBiomes,seasonalTransitionAnomalies:n.seasonalTransitionAnomalies,biomeSimilarities:n.biomeSimilarities,biomeStats:Object.fromEntries(Object.entries(n.biomeStats).map(([d,m])=>[d,{latitudeBand:m.latitudeBand,tempMin:m.tempMin,tempMax:m.tempMax,avgTemp:(m.tempSum/m.count).toFixed(1),expectedTemp:m.expectedAnnualTemp,tempDeviation:m.tempDeviation?.toFixed(1),precipPercent:(m.precipCount/m.count*100).toFixed(1),longestDry:n.precipitationStreaks[d]?.longestDry,longestWet:n.precipitationStreaks[d]?.longestWet}])),validationAnomalies:n.anomalies.slice(0,20),transitionAnomalies:n.transitionAnomalies.slice(0,20),environmentalStats:n.environmentalStats,snowStats:n.snowStats},r=JSON.stringify(e,null,2),s=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`weather-problems-${Date.now()}.json`,c.click(),URL.revokeObjectURL(l)},r7=n=>{if(!n)return;const e=JSON.stringify(n,null,2),r=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download=`precip-analysis-${Date.now()}.json`,l.click(),URL.revokeObjectURL(s)},a7=n=>{if(!n)return;const e={config:n.config,summary:n.summary,biomeStats:Object.fromEntries(Object.entries(n.biomes).map(([d,m])=>[d,{latitudeBand:m.latitudeBand,winterMean:m.winterMean,stats:m.stats}]))},r=JSON.stringify(e,null,2),s=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`precip-summary-${Date.now()}.json`,c.click(),URL.revokeObjectURL(l)},i7=({results:n})=>{const[e,r]=y.useState({key:null,direction:"asc"});if(!n?.biomeStats)return null;const s=d=>{r({key:d,direction:e.key===d&&e.direction==="asc"?"desc":"asc"})},l=({label:d,sortKey:m,minWidth:h})=>a.jsxs("th",{style:{cursor:"pointer",minWidth:h,whiteSpace:"nowrap"},onClick:()=>s(m),children:[d," ",e.key===m&&(e.direction==="asc"?"":"")]}),c=Object.entries(n.biomeStats).map(([d,m])=>({name:d,tempMin:m.tempMin,tempMax:m.tempMax,avgTemp:m.tempSum/m.count,expectedTemp:m.expectedAnnualTemp,deviation:m.tempDeviation,variance:m.dailyTempVariance,precip:m.precipCount/m.count*100,dryStreak:n.precipitationStreaks[d]?.longestDry||0,wetStreak:n.precipitationStreaks[d]?.longestWet||0})).sort((d,m)=>{if(!e.key)return 0;const h=d[e.key],p=m[e.key];return h===void 0?1:p===void 0?-1:typeof h=="string"?e.direction==="asc"?h.localeCompare(p):p.localeCompare(h):e.direction==="asc"?h-p:p-h});return a.jsxs(He,{className:"mb-4",children:[a.jsxs(He.Header,{children:[a.jsx("h5",{children:"Biome Statistics"}),a.jsx("small",{className:"text-muted",children:"Click column headers to sort. Includes expected vs actual temps, variance, and precipitation streaks."})]}),a.jsx(He.Body,{style:{maxHeight:"500px",overflowY:"auto",padding:0},children:a.jsxs(Mt,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginBottom:0,fontSize:"0.85rem"},children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"#212529",zIndex:1},children:a.jsxs("tr",{children:[a.jsx("th",{style:{cursor:"default",width:"30px"},children:"#"}),a.jsx(l,{label:"Biome",sortKey:"name"}),a.jsx(l,{label:"Min",sortKey:"tempMin"}),a.jsx(l,{label:"Max",sortKey:"tempMax"}),a.jsx(l,{label:"Avg",sortKey:"avgTemp"}),a.jsx(l,{label:"Expected",sortKey:"expectedTemp"}),a.jsx(l,{label:"Diff",sortKey:"deviation"}),a.jsx(l,{label:"StdDev",sortKey:"variance"}),a.jsx(l,{label:"Precip%",sortKey:"precip"}),a.jsx(l,{label:"Dry",sortKey:"dryStreak"}),a.jsx(l,{label:"Wet",sortKey:"wetStreak"})]})}),a.jsx("tbody",{style:{color:"#212529"},children:c.map((d,m)=>a.jsxs("tr",{children:[a.jsx("td",{style:{color:"#6c757d"},children:m+1}),a.jsx("td",{children:a.jsx("small",{children:d.name})}),a.jsxs("td",{children:[d.tempMin.toFixed(0),""]}),a.jsxs("td",{children:[d.tempMax.toFixed(0),""]}),a.jsxs("td",{children:[d.avgTemp.toFixed(0),""]}),a.jsx("td",{children:d.expectedTemp!==void 0?`${d.expectedTemp}`:"-"}),a.jsx("td",{style:{color:d.deviation!==void 0&&Math.abs(d.deviation)>dn.expectedTempDeviation?"#ff6b7a":"inherit"},children:d.deviation!==void 0?`${d.deviation>0?"+":""}${d.deviation.toFixed(1)}`:"-"}),a.jsx("td",{children:d.variance!==void 0?d.variance.toFixed(1):"-"}),a.jsxs("td",{children:[d.precip.toFixed(0),"%"]}),a.jsxs("td",{children:[d.dryStreak,"d"]}),a.jsxs("td",{style:{color:d.wetStreak>14?"#ffe066":"inherit"},children:[d.wetStreak,"d"]})]},d.name))})]})})]})},s7=({results:n})=>!n?.environmentalStats||Object.keys(n.environmentalStats).length===0?null:a.jsxs(He,{className:"mb-4",children:[a.jsxs(He.Header,{children:[a.jsx("h5",{children:"Environmental Conditions Statistics"}),a.jsx("small",{className:"text-muted",children:"Tracking drought, flooding, heat waves, cold snaps, and wildfire risk across the test year"})]}),a.jsx(He.Body,{style:{maxHeight:"500px",overflowY:"auto",padding:0},children:a.jsxs(Mt,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginBottom:0,fontSize:"0.8rem"},children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"#212529",zIndex:1},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{title:"Days with drought conditions",children:"Drought"}),a.jsx("th",{title:"Days with flood risk",children:"Flood"}),a.jsx("th",{title:"Days with heat wave conditions",children:"Heat"}),a.jsx("th",{title:"Days with cold snap conditions",children:"Cold"}),a.jsx("th",{title:"Days with elevated wildfire risk",children:"Fire"})]})}),a.jsx("tbody",{children:Object.entries(n.environmentalStats).sort(([e],[r])=>e.localeCompare(r)).map(([e,r])=>{const s=r.droughtDays.abnormallyDry+r.droughtDays.moderate+r.droughtDays.severe+r.droughtDays.extreme,l=r.floodingDays.elevated+r.floodingDays.moderate+r.floodingDays.high,c=r.heatWaveDays.advisory+r.heatWaveDays.warning+r.heatWaveDays.extreme,d=r.coldSnapDays.advisory+r.coldSnapDays.warning+r.coldSnapDays.extreme,m=r.wildfireDays.moderate+r.wildfireDays.high+r.wildfireDays.veryHigh+r.wildfireDays.extreme;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("small",{children:e})}),a.jsxs("td",{style:{color:s>100?"#dc3545":s>50?"#ffc107":"inherit"},children:[s,"d",r.maxDroughtLevel>=3&&a.jsxs(Ke,{bg:"danger",className:"ms-1",style:{fontSize:"0.6rem"},children:["L",r.maxDroughtLevel]})]}),a.jsxs("td",{style:{color:l>50?"#17a2b8":"inherit"},children:[l,"d",r.maxFloodLevel>=2&&a.jsxs(Ke,{bg:"info",className:"ms-1",style:{fontSize:"0.6rem"},children:["L",r.maxFloodLevel]})]}),a.jsxs("td",{style:{color:c>50?"#fd7e14":"inherit"},children:[c,"d",r.maxHeatLevel>=2&&a.jsxs(Ke,{bg:"warning",className:"ms-1",style:{fontSize:"0.6rem"},children:["L",r.maxHeatLevel]})]}),a.jsxs("td",{style:{color:d>50?"#6f42c1":"inherit"},children:[d,"d",r.maxColdLevel>=2&&a.jsxs(Ke,{bg:"secondary",className:"ms-1",style:{fontSize:"0.6rem"},children:["L",r.maxColdLevel]})]}),a.jsxs("td",{style:{color:m>100?"#dc3545":m>50?"#fd7e14":"inherit"},children:[m,"d",r.maxFireLevel>=3&&a.jsxs(Ke,{bg:"danger",className:"ms-1",style:{fontSize:"0.6rem"},children:["L",r.maxFireLevel]})]})]},e)})})]})})]}),o7=({results:n})=>!n?.snowStats||Object.keys(n.snowStats).length===0?null:a.jsxs(He,{className:"mb-4",children:[a.jsxs(He.Header,{children:[a.jsx("h5",{children:"Snow & Ground Conditions Statistics"}),a.jsx("small",{className:"text-muted",children:"Tracking snow accumulation, ice, and ground conditions across the test year"})]}),a.jsx(He.Body,{style:{maxHeight:"500px",overflowY:"auto",padding:0},children:a.jsxs(Mt,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginBottom:0,fontSize:"0.8rem"},children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"#212529",zIndex:1},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{title:"Maximum snow depth (inches)",children:"Max Snow"}),a.jsx("th",{title:"Days with 0.5+ inches of snow",children:"Snow Days"}),a.jsx("th",{title:"Maximum ice accumulation (inches)",children:"Max Ice"}),a.jsx("th",{title:"Days with 0.1+ inches of ice",children:"Ice Days"}),a.jsx("th",{title:"Days with frozen ground",children:"Frozen"}),a.jsx("th",{title:"Days with muddy ground",children:"Muddy"})]})}),a.jsx("tbody",{children:Object.entries(n.snowStats).sort(([e],[r])=>e.localeCompare(r)).map(([e,r])=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("small",{children:e})}),a.jsxs("td",{style:{color:r.maxSnowDepth>12?"#60a5fa":"inherit"},children:[r.maxSnowDepth.toFixed(1),'"']}),a.jsxs("td",{style:{color:r.daysWithSnow>100?"#60a5fa":"inherit"},children:[r.daysWithSnow,"d"]}),a.jsxs("td",{style:{color:r.maxIceAccumulation>.25?"#17a2b8":"inherit"},children:[r.maxIceAccumulation.toFixed(2),'"']}),a.jsxs("td",{children:[r.daysWithIce,"d"]}),a.jsxs("td",{children:[r.groundConditionCounts.frozen,"d"]}),a.jsxs("td",{children:[r.groundConditionCounts.muddy,"d"]})]},e))})]})})]}),l7=({results:n})=>n?.transitionAnomalies?.length?a.jsxs(He,{className:"mb-4",children:[a.jsxs(He.Header,{children:[a.jsxs("h5",{children:["Temperature Transition Anomalies (",n.transitionAnomalies.length,")"]}),a.jsxs("small",{className:"text-muted",children:["Unrealistic temperature jumps (>",dn.maxTempChangePerHour,"F/hour)"]})]}),a.jsxs(He.Body,{style:{maxHeight:"400px",overflowY:"auto"},children:[a.jsxs(Mt,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Latitude"}),a.jsx("th",{children:"Time Period"}),a.jsx("th",{children:"Temperature Change"}),a.jsx("th",{children:"Weather Change"})]})}),a.jsx("tbody",{children:n.transitionAnomalies.slice(0,100).map((e,r)=>a.jsxs("tr",{children:[a.jsx("td",{children:e.biome}),a.jsx("td",{children:e.latitudeBand}),a.jsxs("td",{children:[a.jsx("small",{children:e.from}),a.jsx("br",{}),a.jsxs("small",{children:[" ",e.to]})]}),a.jsx("td",{children:e.tempChange}),a.jsx("td",{children:a.jsx("small",{children:e.precipChange})})]},r))})]}),n.transitionAnomalies.length>100&&a.jsxs("p",{className:"text-muted",children:["Showing first 100 of ",n.transitionAnomalies.length," transition anomalies. Download full results for complete list."]})]})]}):null,c7=({results:n})=>n?.seasonalTransitionAnomalies?.length?a.jsxs(He,{className:"mb-4",children:[a.jsxs(He.Header,{children:[a.jsxs("h5",{children:["Seasonal Transition Anomalies (",n.seasonalTransitionAnomalies.length,")"]}),a.jsxs("small",{className:"text-muted",children:["Weekly average temperature jumps during season changes (>",dn.maxWeeklySeasonalJump,"F between pre/post boundary weeks)"]})]}),a.jsxs(He.Body,{style:{maxHeight:"400px",overflowY:"auto"},children:[a.jsxs(Mt,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Band"}),a.jsx("th",{children:"Season"}),a.jsx("th",{children:"Weekly Avg Change"})]})}),a.jsx("tbody",{children:n.seasonalTransitionAnomalies.slice(0,50).map((e,r)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("small",{children:e.biome})}),a.jsx("td",{children:a.jsx("small",{children:e.latitudeBand})}),a.jsx("td",{children:a.jsx("small",{children:e.season})}),a.jsxs("td",{children:[e.beforeAvg,"F  ",e.afterAvg,"F (",e.weeklyChange,"F)"]})]},r))})]}),n.seasonalTransitionAnomalies.length>50&&a.jsxs("p",{className:"text-muted",children:["Showing first 50 of ",n.seasonalTransitionAnomalies.length,". Download full results for complete list."]})]})]}):null,u7=({results:n})=>n?.anomalies?.length?a.jsxs(He,{className:"mb-4",children:[a.jsx(He.Header,{children:a.jsxs("h5",{children:["Validation Anomalies (",n.anomalies.length,")"]})}),a.jsxs(He.Body,{style:{maxHeight:"400px",overflowY:"auto"},children:[a.jsxs(Mt,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Latitude"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Issues"})]})}),a.jsx("tbody",{children:n.anomalies.slice(0,100).map((e,r)=>a.jsxs("tr",{children:[a.jsx("td",{children:e.biome}),a.jsx("td",{children:e.latitudeBand}),a.jsx("td",{children:e.date}),a.jsx("td",{children:e.issues.map((s,l)=>a.jsx("div",{children:a.jsx("small",{children:s})},l))})]},r))})]}),n.anomalies.length>100&&a.jsxs("p",{className:"text-muted",children:["Showing first 100 of ",n.anomalies.length," anomalies. Download full results for complete list."]})]})]}):null,d7=({results:n})=>n?.biomeSimilarities?.length?a.jsxs(He,{className:"mb-4",children:[a.jsxs(He.Header,{children:[a.jsxs("h5",{children:["Similar Biome Pairs (",n.biomeSimilarities.length,")"]}),a.jsxs("small",{className:"text-muted",children:["Biomes with nearly identical weather patterns (temp diff <",dn.biomeSimilarityThreshold,"F and precip diff <5%)"]})]}),a.jsx(He.Body,{style:{maxHeight:"300px",overflowY:"auto"},children:a.jsxs(Mt,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome 1"}),a.jsx("th",{children:"Band"}),a.jsx("th",{children:"Biome 2"}),a.jsx("th",{children:"Band"}),a.jsx("th",{children:"Temp "}),a.jsx("th",{children:"Precip "})]})}),a.jsx("tbody",{children:n.biomeSimilarities.map((e,r)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("small",{children:e.biome1})}),a.jsx("td",{children:a.jsx("small",{children:e.band1})}),a.jsx("td",{children:a.jsx("small",{children:e.biome2})}),a.jsx("td",{children:a.jsx("small",{children:e.band2})}),a.jsxs("td",{children:[e.avgTempDiff,"F"]}),a.jsxs("td",{children:[e.precipDiff,"%"]})]},r))})]})})]}):null,m7=({results:n})=>n?.problemBiomes?.length?a.jsxs(Rt,{variant:"danger",className:"mb-4",children:[a.jsxs("h5",{children:[" Problem Biomes (",n.problemBiomes.length,")"]}),a.jsx("p",{className:"text-muted mb-2",children:"These biomes have issues that may need attention:"}),n.problemBiomes.map((e,r)=>a.jsxs("div",{className:"mb-2",children:[a.jsx("strong",{children:e.biome})," ",a.jsx(Ke,{bg:"secondary",children:e.latitudeBand}),a.jsx("ul",{className:"mb-0 mt-1",children:e.problems.map((s,l)=>a.jsx("li",{children:a.jsx("small",{children:s})},l))})]},r))]}):null,h7=({results:n,onExportProblems:e,onExportFull:r})=>{if(!n)return null;const s=n.anomalies.length>0||n.transitionAnomalies.length>0||n.seasonalTransitionAnomalies.length>0;return a.jsxs(Rt,{variant:s?"warning":"success",children:[a.jsx("h5",{children:"Test Results Summary"}),a.jsxs("div",{className:"d-flex flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Total Tests:"})," ",n.totalTests.toLocaleString()]}),a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Passed:"})," ",n.successfulTests.toLocaleString()]}),a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Success Rate:"})," ",(n.successfulTests/n.totalTests*100).toFixed(2),"%"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Validation Anomalies:"})," ",n.anomalies.length]}),a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Hourly Transition Anomalies:"})," ",n.transitionAnomalies.length]}),a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Seasonal Transition Anomalies:"})," ",n.seasonalTransitionAnomalies.length]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Similar Biome Pairs:"})," ",n.biomeSimilarities.length]}),a.jsxs("p",{className:"mb-1",children:[a.jsx("strong",{children:"Problem Biomes:"})," ",n.problemBiomes.length]})]})]}),a.jsx(Se,{variant:"primary",size:"sm",onClick:e,className:"mt-3 me-2",children:"Export Problems Only"}),a.jsx(Se,{variant:"secondary",size:"sm",onClick:r,className:"mt-3",children:"Export Full Results"})]})},f7=()=>{const n=new URL(window.location.href);n.searchParams.delete("test"),window.location.href=n.toString()},p7=()=>Object.values(fn).reduce((n,e)=>n+Object.keys(e).length,0),g7=()=>Object.values(fn).reduce((n,e)=>n+Object.values(e).filter(r=>r.isNew).length,0),v7=()=>{const[n,e]=y.useState(!1),[r,s]=y.useState(0),[l,c]=y.useState(null),[d,m]=y.useState(!1),[h,p]=y.useState(!1),[g,x]=y.useState(0),[w,S]=y.useState(null),[b,N]=y.useState(!1),[k,C]=y.useState(0),[E,P]=y.useState(null),[_,L]=y.useState(!1),[A,$]=y.useState(0),[I,X]=y.useState(null),[re,H]=y.useState(!1),[ie,se]=y.useState(0),[ee,te]=y.useState(null),[ce,ge]=y.useState(!1),[V,Z]=y.useState(0),[U,R]=y.useState(null),[B,oe]=y.useState("medium"),[K,he]=y.useState(5),ne=y.useMemo(()=>Un.generateImpactEffects(B,K,"Open plains"),[B,K]),we=p7(),Ce=g7(),ye=(d?Ce:we)*Gt.daysToTest*Gt.hoursToTest.length,be=async()=>{e(!0),s(0);const me=await Gj(Pe=>{s(Pe)},{newOnly:d});c(me),e(!1)},Ze=()=>n7(l),Ue=()=>t7(l),dt=async()=>{p(!0),x(0);const me=await Kj(Pe=>{x(Pe)});S(me),p(!1)},Be=()=>r7(w),At=()=>a7(w),gt=async()=>{N(!0),C(0);const me=await Xj(Pe=>{C(Pe)});P(me),N(!1)},nn=async()=>{L(!0),$(0);const me=await Zj(Pe=>{$(Pe)});X(me),L(!1)},Lt=async()=>{H(!0),se(0);const me=await e7(Pe=>{se(Pe)});te(me),H(!1)},vt=async()=>{ge(!0),Z(0);const me={id:"wanderer-test-region"},je=10,ze={totalStreaks:0,totalLocalFalls:0,observableStreaks:0,sizeDistribution:{small:0,medium:0,large:0,massive:0},yearlyBreakdown:[],events:[]};for(let Ne=0;Ne<je;Ne++){const Je=1e3+Ne,nt=Un.getYearlyStats(me,Je);ze.totalStreaks+=nt.totalStreaks,ze.totalLocalFalls+=nt.totalLocalFalls,ze.observableStreaks+=nt.observableStreaks,ze.sizeDistribution.small+=nt.sizeDistribution.small,ze.sizeDistribution.medium+=nt.sizeDistribution.medium,ze.sizeDistribution.large+=nt.sizeDistribution.large,ze.sizeDistribution.massive+=nt.sizeDistribution.massive,ze.yearlyBreakdown.push({year:Je,streaks:nt.totalStreaks,localFalls:nt.totalLocalFalls,events:nt.events}),ze.events.push(...nt.events.map(Ht=>({...Ht,year:Je}))),Z((Ne+1)/je*100),await new Promise(Ht=>setTimeout(Ht,10))}const Xe={config:{yearsAnalyzed:je,regionId:me.id},summary:{avgStreaksPerYear:(ze.totalStreaks/je).toFixed(1),avgLocalFallsPerYear:(ze.totalLocalFalls/je).toFixed(2),totalStreaks:ze.totalStreaks,totalLocalFalls:ze.totalLocalFalls,observableRate:(ze.observableStreaks/ze.totalStreaks*100).toFixed(1),sizeDistribution:ze.sizeDistribution},yearlyBreakdown:ze.yearlyBreakdown,events:ze.events};R(Xe),ge(!1)};return a.jsxs(Ss,{className:"mt-5",children:[a.jsxs(Se,{variant:"outline-secondary",size:"sm",onClick:f7,className:"mb-3",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(gj,{})," Back to App"]}),a.jsx("h1",{children:"Weather Generation Test Harness"}),a.jsx("p",{className:"text-muted",children:"Comprehensive testing of weather generation across all biomes and seasons"}),a.jsx(He,{className:"mb-4",children:a.jsxs(He.Body,{children:[a.jsx("h5",{children:"Test Configuration"}),a.jsxs("ul",{children:[a.jsxs("li",{children:["Biomes: ",d?`${Ce} new templates`:`All ${we} templates`]}),a.jsxs("li",{children:["Days: ",Gt.daysToTest," (full year)"]}),a.jsxs("li",{children:["Hours per day: ",Gt.hoursToTest.length," (midnight, 6am, noon, 6pm)"]}),a.jsxs("li",{children:["Total tests: ~",ye.toLocaleString()]})]}),Ce>0&&a.jsx(xe.Check,{type:"checkbox",id:"new-only-filter",label:a.jsxs("span",{children:["New templates only ",a.jsx(Ke,{bg:"info",children:Ce})]}),checked:d,onChange:me=>m(me.target.checked),className:"mb-3",disabled:n}),a.jsx(Se,{variant:"primary",onClick:be,disabled:n||d&&Ce===0,size:"lg",children:n?"Running Tests...":"Run Test Harness"}),n&&a.jsxs("div",{className:"mt-3",children:[a.jsx(fa,{now:r,label:`${r.toFixed(1)}%`,animated:!0}),a.jsx("small",{className:"text-muted mt-2",children:d?"Testing new templates...":"This may take 10-30 seconds..."})]})]})}),a.jsx(He,{className:"mb-4",style:{borderColor:"#6ea8fe"},children:a.jsxs(He.Body,{children:[a.jsxs("h5",{children:[a.jsx(xj,{className:"me-2"}),"Precipitation & Snow Accumulation Analysis"]}),a.jsx("p",{className:"text-muted",children:"Hourly time-series analysis of precipitation type changes and snow accumulation/melt patterns. Tests only cold-climate biomes (winter mean  32F)."}),a.jsxs("ul",{children:[a.jsxs("li",{children:["Duration: ",oi.hoursToAnalyze," hours (",oi.hoursToAnalyze/24," days)"]}),a.jsx("li",{children:"Start Date: January 15 (mid-winter)"}),a.jsx("li",{children:"Captures: Temperature, Precip Type, Snow Depth, Melt Rate (hourly)"})]}),a.jsxs(Se,{variant:"info",onClick:dt,disabled:h||n,size:"lg",children:[a.jsx(Gp,{className:"me-2"}),h?"Analyzing...":"Run Precipitation Analysis"]}),h&&a.jsxs("div",{className:"mt-3",children:[a.jsx(fa,{variant:"info",now:g,label:`${g.toFixed(1)}%`,animated:!0}),a.jsx("small",{className:"text-muted mt-2",children:"Analyzing cold-climate biomes..."})]})]})}),a.jsx(He,{className:"mb-4",style:{borderColor:"#ffc107"},children:a.jsxs(He.Body,{children:[a.jsxs("h5",{children:[a.jsx(ud,{className:"me-2"}),"Thunderstorm Analysis"]}),a.jsx("p",{className:"text-muted",children:"Tests thunderstorm generation in biomes with thunderstorm potential during summer afternoons."}),a.jsxs("ul",{children:[a.jsxs("li",{children:["Duration: ",Nl.daysToAnalyze," days (June-July)"]}),a.jsxs("li",{children:["Hours: Afternoon peak (",Nl.hoursToTest.join(", "),":00)"]}),a.jsx("li",{children:"Tracks: Thunderstorm rate, severity, conversion from heavy rain"})]}),a.jsxs(Se,{variant:"warning",onClick:gt,disabled:b||n||h,size:"lg",children:[a.jsx(ud,{className:"me-2"}),b?"Analyzing...":"Run Thunderstorm Analysis"]}),b&&a.jsxs("div",{className:"mt-3",children:[a.jsx(fa,{variant:"warning",now:k,label:`${k.toFixed(1)}%`,animated:!0}),a.jsx("small",{className:"text-muted mt-2",children:"Analyzing thunderstorm-prone biomes..."})]})]})}),a.jsx(He,{className:"mb-4",style:{borderColor:"#0dcaf0"},children:a.jsxs(He.Body,{children:[a.jsxs("h5",{children:[a.jsx(hd,{className:"me-2"}),"Flood Risk Analysis"]}),a.jsx("p",{className:"text-muted",children:"Validates flood alert accuracy by checking if alerts correlate with actual flood-causing conditions. Flags false positives (alerts during frozen conditions) and missed alerts (rapid melt without warning)."}),a.jsxs("ul",{children:[a.jsxs("li",{children:["Duration: ",D0.daysToAnalyze," days (Jan 15 - Apr 15, winter through spring thaw)"]}),a.jsx("li",{children:"Tracks: Snow depth, melt rate, precipitation type, flood alerts"}),a.jsx("li",{children:"Validates: Alert appropriateness based on physical conditions"})]}),a.jsxs(Se,{variant:"info",onClick:nn,disabled:_||n||h||b,size:"lg",children:[a.jsx(hd,{className:"me-2"}),_?"Analyzing...":"Run Flood Analysis"]}),_&&a.jsxs("div",{className:"mt-3",children:[a.jsx(fa,{variant:"info",now:A,label:`${A.toFixed(1)}%`,animated:!0}),a.jsx("small",{className:"text-muted mt-2",children:"Analyzing flood alert accuracy..."})]})]})}),a.jsx(He,{className:"mb-4",style:{borderColor:"#dc3545"},children:a.jsxs(He.Body,{children:[a.jsxs("h5",{children:[a.jsx(md,{className:"me-2"}),"Heat Index / Dew Point Analysis"]}),a.jsx("p",{className:"text-muted",children:'Validates the dew point-based humidity system by checking heat index calculations across hot climates. Ensures "Feels Like" appears when it should and uses realistic dew point values.'}),a.jsxs("ul",{children:[a.jsxs("li",{children:["Duration: ",El.daysToAnalyze," days x ",El.yearsToTest," years (summer months)"]}),a.jsx("li",{children:'Tracks: Temperature, dew point, humidity, heat index, "Feels Like" display threshold'}),a.jsx("li",{children:'Flags: Biomes that never show "Feels Like" despite hot temperatures'})]}),a.jsxs(Se,{variant:"danger",onClick:Lt,disabled:re||n||h||b||_,size:"lg",children:[a.jsx(md,{className:"me-2"}),re?"Analyzing...":"Run Heat Index Analysis"]}),re&&a.jsxs("div",{className:"mt-3",children:[a.jsx(fa,{variant:"danger",now:ie,label:`${ie.toFixed(1)}%`,animated:!0}),a.jsx("small",{className:"text-muted mt-2",children:"Analyzing heat index and dew point values..."})]})]})}),a.jsx(He,{className:"mb-4",style:{borderColor:"#9966ff"},children:a.jsxs(He.Body,{children:[a.jsxs("h5",{children:[a.jsx(dd,{className:"me-2"}),"Wanderer (Falling Star) Analysis"]}),a.jsx("p",{className:"text-muted",children:"Tests the frequency and distribution of Wanderer events over multiple years. Verifies that streak and local fall rates match expected probabilities."}),a.jsxs("ul",{children:[a.jsx("li",{children:"Duration: 10 years of simulation"}),a.jsx("li",{children:"Expected: ~14 streaks/year, ~2 local falls/year"}),a.jsx("li",{children:"Tracks: Streak frequency, local fall frequency, size distribution, visibility"})]}),a.jsxs(Se,{variant:"secondary",onClick:vt,disabled:ce||n,size:"lg",style:{backgroundColor:"#9966ff",borderColor:"#9966ff"},children:[a.jsx(dd,{className:"me-2"}),ce?"Analyzing...":"Run Wanderer Analysis"]}),ce&&a.jsxs("div",{className:"mt-3",children:[a.jsx(fa,{now:V,label:`${V.toFixed(1)}%`,animated:!0,style:{backgroundColor:"#ddd"}}),a.jsx("small",{className:"text-muted mt-2",children:"Simulating 10 years of Wanderer events..."})]})]})}),a.jsx(He,{className:"mb-4",style:{borderColor:"#ff6b6b"},children:a.jsxs(He.Body,{children:[a.jsxs("h5",{children:[a.jsx(yj,{className:"me-2"}),"Impact Effects Preview"]}),a.jsx("p",{className:"text-muted",children:"Preview the compositional narrative and mechanical effects for different size/distance combinations."}),a.jsxs(mi,{className:"mb-3",children:[a.jsx(kt,{md:6,children:a.jsxs(xe.Group,{children:[a.jsx(xe.Label,{children:a.jsx("strong",{children:"Size"})}),a.jsx("div",{children:["small","medium","large","massive"].map(me=>a.jsx(xe.Check,{inline:!0,type:"radio",id:`size-${me}`,label:me.charAt(0).toUpperCase()+me.slice(1),name:"previewSize",checked:B===me,onChange:()=>oe(me)},me))})]})}),a.jsx(kt,{md:6,children:a.jsxs(xe.Group,{children:[a.jsxs(xe.Label,{children:[a.jsx("strong",{children:"Distance:"})," ",K<1?`${Math.round(K*5280)} feet`:`${K} miles`," ",a.jsx(Ke,{bg:ne.band==="close"?"danger":ne.band==="near"?"warning":"secondary",children:ne.band})]}),a.jsx(xe.Range,{min:.1,max:100,step:.1,value:K,onChange:me=>he(parseFloat(me.target.value))}),a.jsxs("div",{className:"d-flex justify-content-between",style:{fontSize:"0.75em"},children:[a.jsx("span",{children:"500ft"}),a.jsx("span",{children:"1mi"}),a.jsx("span",{children:"10mi"}),a.jsx("span",{children:"50mi"}),a.jsx("span",{children:"100mi"})]})]})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("strong",{children:"Quick Presets:"})," ",a.jsx(Se,{size:"sm",variant:"outline-danger",className:"me-1",onClick:()=>{oe("massive"),he(.15)},children:"Massive @ 800ft"}),a.jsx(Se,{size:"sm",variant:"outline-warning",className:"me-1",onClick:()=>{oe("large"),he(3)},children:"Large @ 3mi"}),a.jsx(Se,{size:"sm",variant:"outline-info",className:"me-1",onClick:()=>{oe("medium"),he(15)},children:"Medium @ 15mi"}),a.jsx(Se,{size:"sm",variant:"outline-secondary",onClick:()=>{oe("small"),he(50)},children:"Small @ 50mi"})]}),a.jsxs(He,{className:"mt-3",style:{borderColor:ne.severity==="catastrophic"?"#dc3545":ne.severity==="major"?"#fd7e14":ne.severity==="notable"?"#ffc107":"#6c757d",borderWidth:ne.severity==="catastrophic"?"3px":"1px"},children:[a.jsxs(He.Header,{style:{backgroundColor:ne.severity==="catastrophic"?"#dc3545":ne.severity==="major"?"#fd7e14":ne.severity==="notable"?"#ffc107":"#6c757d",color:ne.severity==="notable"?"#000":"#fff"},children:[a.jsx("strong",{children:ne.summary}),a.jsx(Ke,{className:"ms-2",bg:"dark",children:ne.severity})]}),a.jsxs(He.Body,{children:[a.jsx("h6",{children:"Narrative Description"}),a.jsx("p",{style:{fontStyle:"italic",fontSize:"1.1em",lineHeight:"1.6"},children:ne.narrative}),a.jsxs(mi,{children:[a.jsxs(kt,{md:4,children:[a.jsx("h6",{children:"Visual"}),a.jsx("p",{className:"text-muted",style:{fontSize:"0.9em"},children:ne.visual||""})]}),a.jsxs(kt,{md:4,children:[a.jsx("h6",{children:"Sound"}),a.jsx("p",{className:"text-muted",style:{fontSize:"0.9em"},children:ne.sound||""})]}),a.jsxs(kt,{md:4,children:[a.jsx("h6",{children:"Physical"}),a.jsx("p",{className:"text-muted",style:{fontSize:"0.9em"},children:ne.physical||""})]})]}),ne.mechanics&&a.jsxs(Rt,{variant:"warning",className:"mt-3 mb-0",children:[a.jsx("strong",{children:"Suggested Mechanics:"})," ",ne.mechanics]})]})]})]})}),U&&a.jsxs(a.Fragment,{children:[a.jsxs(Rt,{variant:"info",children:[a.jsxs(Rt.Heading,{children:[a.jsx(dd,{className:"me-2"}),"Wanderer Analysis Complete"]}),a.jsxs("p",{className:"mb-0",children:["Simulated ",U.config.yearsAnalyzed," years. Average: ",a.jsxs("strong",{children:[U.summary.avgStreaksPerYear," streaks/year"]}),",",a.jsxs("strong",{children:[" ",U.summary.avgLocalFallsPerYear," local falls/year"]}),". Observable rate: ",a.jsxs("strong",{children:[U.summary.observableRate,"%"]}),"."]})]}),a.jsx(He,{className:"mb-4",children:a.jsxs(He.Body,{children:[a.jsx("h5",{children:"Wanderer Statistics"}),a.jsx(Mt,{striped:!0,bordered:!0,size:"sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsxs("td",{children:["Total Streaks (",U.config.yearsAnalyzed," years)"]}),a.jsx("td",{children:a.jsx(Ke,{bg:"info",children:U.summary.totalStreaks})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Local Falls"}),a.jsx("td",{children:a.jsx(Ke,{bg:"warning",text:"dark",children:U.summary.totalLocalFalls})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Average Streaks/Year"}),a.jsx("td",{children:U.summary.avgStreaksPerYear})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Average Local Falls/Year"}),a.jsx("td",{children:U.summary.avgLocalFallsPerYear})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Observable Rate"}),a.jsxs("td",{children:[U.summary.observableRate,"%"]})]})]})}),a.jsx("h6",{className:"mt-4",children:"Size Distribution (Local Falls)"}),a.jsxs(Mt,{striped:!0,bordered:!0,size:"sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Size"}),a.jsx("th",{children:"Count"}),a.jsx("th",{children:"Percentage"})]})}),a.jsx("tbody",{children:Object.entries(U.summary.sizeDistribution).map(([me,Pe])=>a.jsxs("tr",{children:[a.jsx("td",{style:{textTransform:"capitalize"},children:me}),a.jsx("td",{children:Pe}),a.jsx("td",{children:U.summary.totalLocalFalls>0?(Pe/U.summary.totalLocalFalls*100).toFixed(1)+"%":"-"})]},me))})]}),a.jsx("h6",{className:"mt-4",children:"Year-by-Year Breakdown"}),a.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:a.jsxs(Mt,{striped:!0,bordered:!0,size:"sm",children:[a.jsx("thead",{style:{position:"sticky",top:0,background:"white"},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Year"}),a.jsx("th",{children:"Streaks"}),a.jsx("th",{children:"Local Falls"}),a.jsx("th",{children:"Events"})]})}),a.jsx("tbody",{children:U.yearlyBreakdown.map(me=>a.jsxs("tr",{children:[a.jsx("td",{children:me.year}),a.jsx("td",{children:me.streaks}),a.jsx("td",{children:a.jsx(Ke,{bg:me.localFalls>0?"warning":"secondary",text:"dark",children:me.localFalls})}),a.jsxs("td",{style:{fontSize:"0.8em"},children:[me.events.map((Pe,je)=>a.jsxs("span",{className:"me-2",children:[Pe.date," (",Pe.size,", ",Pe.distance,"mi ",Pe.direction,")"]},je)),me.events.length===0&&a.jsx("span",{className:"text-muted",children:"-"})]})]},me.year))})]})})]})})]}),ee&&a.jsxs(a.Fragment,{children:[a.jsxs(Rt,{variant:ee.summary.biomesWithNoFeelsLike.length>0?"warning":"success",children:[a.jsxs(Rt.Heading,{children:[a.jsx(md,{className:"me-2"}),"Heat Index Analysis Complete"]}),a.jsxs("p",{className:"mb-0",children:["Analyzed ",ee.config.biomesAnalyzed," hot-climate biomes over ",ee.config.daysAnalyzed," summer days x ",ee.config.yearsAnalyzed,' years. "Feels Like" shown: ',a.jsx("strong",{children:ee.summary.feelsLikeShowRate})," of hours above 80F. Max heat index: ",a.jsxs("strong",{children:[ee.summary.maxHeatIndex,"F"]})," (",ee.summary.maxHeatIndexBiome,")."]})]}),a.jsx(He,{className:"mb-4",children:a.jsxs(He.Body,{children:[a.jsx("h5",{children:"Heat Index Summary"}),a.jsx(Mt,{striped:!0,bordered:!0,size:"sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total Test Hours"}),a.jsx("td",{children:ee.summary.totalTestHours.toLocaleString()})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Hours Above 80F"}),a.jsx("td",{children:a.jsx(Ke,{bg:"warning",text:"dark",children:ee.summary.hoursAbove80F.toLocaleString()})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:'Hours "Feels Like" Displayed'}),a.jsxs("td",{children:[a.jsx(Ke,{bg:ee.summary.hoursShowingFeelsLike>0?"success":"danger",children:ee.summary.hoursShowingFeelsLike.toLocaleString()})," ","(",ee.summary.feelsLikeShowRate,")"]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Average Humidity When Hot"}),a.jsxs("td",{children:[ee.summary.avgHumidityWhenHot,"%"]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Average Dew Point When Hot"}),a.jsxs("td",{children:[ee.summary.avgDewPointWhenHot,"F"]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Max Heat Index"}),a.jsxs("td",{children:[a.jsxs(Ke,{bg:"danger",children:[ee.summary.maxHeatIndex,"F"]})," (",ee.summary.maxHeatIndexBiome,")"]})]})]})}),ee.summary.biomesWithNoFeelsLike.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h6",{className:"mt-4 text-warning",children:'Biomes That Never Showed "Feels Like"'}),a.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:a.jsxs(Mt,{striped:!0,bordered:!0,size:"sm",children:[a.jsx("thead",{style:{position:"sticky",top:0,background:"white"},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Hours >80F"}),a.jsx("th",{children:"Max Temp"}),a.jsx("th",{children:"Max Heat Index"}),a.jsx("th",{children:"Avg Humidity"}),a.jsx("th",{children:"Avg Dew Point"})]})}),a.jsx("tbody",{children:ee.summary.biomesWithNoFeelsLike.map((me,Pe)=>a.jsxs("tr",{children:[a.jsx("td",{children:me.biomeName}),a.jsx("td",{children:me.hoursAbove80F}),a.jsxs("td",{children:[me.maxTemp,"F"]}),a.jsxs("td",{children:[me.maxHeatIndex,"F"]}),a.jsxs("td",{children:[me.avgHumidity,"%"]}),a.jsxs("td",{children:[me.avgDewPoint,"F"]})]},Pe))})]})})]}),a.jsx("h6",{className:"mt-4",children:"Per-Biome Results"}),a.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:a.jsxs(Mt,{striped:!0,bordered:!0,size:"sm",children:[a.jsx("thead",{style:{position:"sticky",top:0,background:"white"},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Has Dew Pt Profile"}),a.jsx("th",{children:">80F"}),a.jsx("th",{children:">90F"}),a.jsx("th",{children:"Feels Like Shown"}),a.jsx("th",{children:"Max Temp"}),a.jsx("th",{children:"Max Heat Idx"}),a.jsx("th",{children:"Humidity Range"}),a.jsx("th",{children:"Dew Pt Range"})]})}),a.jsx("tbody",{children:Object.values(ee.biomes).map((me,Pe)=>a.jsxs("tr",{children:[a.jsx("td",{children:me.biomeName}),a.jsx("td",{children:me.hasDewPointProfile?a.jsx(Ke,{bg:"success",children:"Yes"}):a.jsx(Ke,{bg:"secondary",children:"No"})}),a.jsx("td",{children:me.stats.hoursAbove80F}),a.jsx("td",{children:me.stats.hoursAbove90F}),a.jsx("td",{children:a.jsx(Ke,{bg:me.stats.hoursWithFeelsLikeShowing>0?"success":"warning",children:me.stats.hoursWithFeelsLikeShowing})}),a.jsxs("td",{children:[me.stats.maxTemp,"F"]}),a.jsxs("td",{children:[me.stats.maxHeatIndex,"F"]}),a.jsxs("td",{children:[me.stats.humidityRange.min,"-",me.stats.humidityRange.max,"%"]}),a.jsxs("td",{children:[me.stats.dewPointRange.min,"-",me.stats.dewPointRange.max,"F"]})]},Pe))})]})})]})})]}),I&&a.jsxs(a.Fragment,{children:[a.jsxs(Rt,{variant:I.summary.falsePositiveRate>20?"danger":I.summary.falsePositiveRate>10?"warning":"success",children:[a.jsxs(Rt.Heading,{children:[a.jsx(hd,{className:"me-2"}),"Flood Analysis Complete"]}),a.jsxs("p",{className:"mb-0",children:["Analyzed ",I.config.biomesAnalyzed," biomes over ",I.config.daysAnalyzed," days. False positive rate: ",a.jsxs("strong",{children:[I.summary.falsePositiveRate.toFixed(1),"%"]}),I.summary.falsePositiveRate>20&&" - Needs attention!"]})]}),a.jsx(He,{className:"mb-4",children:a.jsxs(He.Body,{children:[a.jsx("h5",{children:"Summary"}),a.jsx(Mt,{striped:!0,bordered:!0,size:"sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total Flood Alerts"}),a.jsx("td",{children:I.summary.totalFloodAlerts})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Suspicious Alerts (false positives)"}),a.jsxs("td",{children:[a.jsx(Ke,{bg:I.summary.suspiciousAlerts>10?"danger":"secondary",children:I.summary.suspiciousAlerts})," ","(",I.summary.falsePositiveRate.toFixed(1),"%)"]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Missed Alerts"}),a.jsx("td",{children:a.jsx(Ke,{bg:I.summary.missedAlerts>5?"warning":"secondary",children:I.summary.missedAlerts})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Correct Alerts"}),a.jsx("td",{children:a.jsx(Ke,{bg:"success",children:I.summary.correctAlerts})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Correct No-Alerts"}),a.jsx("td",{children:I.summary.correctNoAlerts})]})]})}),I.issues.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h6",{className:"mt-4 text-danger",children:"Biomes with Issues"}),a.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:a.jsxs(Mt,{striped:!0,bordered:!0,size:"sm",children:[a.jsx("thead",{style:{position:"sticky",top:0,background:"white"},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Suspicious"}),a.jsx("th",{children:"Missed"}),a.jsx("th",{children:"Sample Issues"})]})}),a.jsx("tbody",{children:I.issues.map(me=>a.jsxs("tr",{children:[a.jsx("td",{children:me.biomeName}),a.jsx("td",{children:a.jsx(Ke,{bg:"danger",children:me.suspiciousAlerts})}),a.jsx("td",{children:a.jsx(Ke,{bg:"warning",text:"dark",children:me.missedAlerts})}),a.jsxs("td",{style:{fontSize:"0.8em"},children:[me.sampleSuspicious.slice(0,1).map((Pe,je)=>a.jsxs("div",{children:[Pe.date,": ",Pe.reason]},je)),me.sampleMissed.slice(0,1).map((Pe,je)=>a.jsxs("div",{children:[Pe.date,": ",Pe.reason]},je))]})]},me.biomeName))})]})})]}),I.issues.length===0&&a.jsx(Rt,{variant:"success",className:"mt-3 mb-0",children:"No significant flood alert issues detected across any biomes."})]})})]}),E&&a.jsxs(a.Fragment,{children:[a.jsxs(Rt,{variant:"warning",children:[a.jsxs(Rt.Heading,{children:[a.jsx(ud,{className:"me-2"}),"Thunderstorm Analysis Complete"]}),a.jsxs("p",{className:"mb-0",children:["Analyzed ",E.config.biomesAnalyzed," thunderstorm-prone biomes over ",E.config.daysAnalyzed," days. Overall thunderstorm rate: ",a.jsxs("strong",{children:[E.summary.overallThunderstormRate.toFixed(1),"%"]})," of test hours."]})]}),a.jsx(He,{className:"mb-4",children:a.jsxs(He.Body,{children:[a.jsx("h5",{children:"Thunderstorm Summary"}),a.jsx(Mt,{striped:!0,bordered:!0,size:"sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total Thunderstorm Hours"}),a.jsx("td",{children:a.jsx(Ke,{bg:"warning",text:"dark",children:E.summary.totalThunderstorms})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Heavy Rain Hours (non-thunderstorm)"}),a.jsx("td",{children:E.summary.totalHeavyRain})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Overall Thunderstorm Rate"}),a.jsxs("td",{children:[E.summary.overallThunderstormRate.toFixed(1),"%"]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Most Active Biome"}),a.jsxs("td",{children:[E.summary.biomeWithMostThunderstorms," ","(",E.summary.maxThunderstormsInBiome," hours)"]})]})]})}),a.jsx("h6",{className:"mt-4",children:"Per-Biome Statistics"}),a.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:a.jsxs(Mt,{striped:!0,bordered:!0,size:"sm",children:[a.jsx("thead",{style:{position:"sticky",top:0,background:"white"},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Factor"}),a.jsx("th",{children:"T-Storms"}),a.jsx("th",{children:"Rate"}),a.jsx("th",{children:"Conversion"}),a.jsx("th",{children:"Avg Temp"}),a.jsx("th",{children:"Severity"})]})}),a.jsx("tbody",{children:Object.entries(E.biomes).map(([me,Pe])=>a.jsxs("tr",{children:[a.jsx("td",{children:me}),a.jsx("td",{children:Pe.thunderstormFactor}),a.jsx("td",{children:a.jsx(Ke,{bg:Pe.stats.thunderstormHours>0?"warning":"secondary",text:"dark",children:Pe.stats.thunderstormHours})}),a.jsxs("td",{children:[Pe.stats.thunderstormRate.toFixed(1),"%"]}),a.jsxs("td",{children:[Pe.stats.conversionRate.toFixed(0),"%"]}),a.jsxs("td",{children:[Pe.stats.avgTempDuringThunderstorms||"-","F"]}),a.jsxs("td",{children:[Pe.stats.severityBreakdown.severe>0&&a.jsxs(Ke,{bg:"danger",className:"me-1",children:[Pe.stats.severityBreakdown.severe," severe"]}),Pe.stats.severityBreakdown.strong>0&&a.jsxs(Ke,{bg:"warning",text:"dark",className:"me-1",children:[Pe.stats.severityBreakdown.strong," strong"]}),Pe.stats.severityBreakdown.normal>0&&a.jsxs(Ke,{bg:"secondary",children:[Pe.stats.severityBreakdown.normal," normal"]})]})]},me))})]})})]})})]}),w&&a.jsxs(a.Fragment,{children:[a.jsxs(Rt,{variant:w.summary.rainOnSnowEvents>10?"warning":"info",children:[a.jsxs(Rt.Heading,{children:[a.jsx(Gp,{className:"me-2"}),"Precipitation Analysis Complete"]}),a.jsxs("p",{className:"mb-0",children:["Analyzed ",w.config.biomesAnalyzed," cold-climate biomes over ",w.config.hoursAnalyzed," hours."]})]}),a.jsx(He,{className:"mb-4",children:a.jsxs(He.Body,{children:[a.jsx("h5",{children:"Analysis Summary"}),a.jsx(Mt,{striped:!0,bordered:!0,size:"sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Biomes Analyzed"}),a.jsx("td",{children:w.config.biomesAnalyzed})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Precip Type Changes (during active precip)"}),a.jsx("td",{children:a.jsx(Ke,{bg:w.summary.totalPrecipTypeChanges>50?"warning":"secondary",children:w.summary.totalPrecipTypeChanges})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Rain-on-Snow Events"}),a.jsx("td",{children:a.jsx(Ke,{bg:w.summary.totalRainOnSnowEvents>20?"danger":"secondary",children:w.summary.totalRainOnSnowEvents})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Max Snow Depth Observed"}),a.jsxs("td",{children:[w.summary.maxSnowDepthObserved.toFixed(1),'"']})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Biomes with Complete Melt"}),a.jsx("td",{children:w.summary.biomesWithFullMelt.length>0?a.jsx(Ke,{bg:"warning",children:w.summary.biomesWithFullMelt.join(", ")}):a.jsx(Ke,{bg:"success",children:"None"})})]})]})}),a.jsx("h6",{className:"mt-4",children:"Per-Biome Statistics"}),a.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:a.jsxs(Mt,{striped:!0,bordered:!0,size:"sm",children:[a.jsx("thead",{style:{position:"sticky",top:0,background:"white"},children:a.jsxs("tr",{children:[a.jsx("th",{children:"Biome"}),a.jsx("th",{children:"Winter Mean"}),a.jsx("th",{children:"Temp Range"}),a.jsx("th",{children:"Max Snow"}),a.jsx("th",{children:"Precip Hours"}),a.jsx("th",{children:"Type Changes"}),a.jsx("th",{children:"Rain-on-Snow"})]})}),a.jsx("tbody",{children:Object.entries(w.biomes).map(([me,Pe])=>a.jsxs("tr",{children:[a.jsx("td",{children:me}),a.jsxs("td",{children:[Pe.winterMean,"F"]}),a.jsxs("td",{children:[Pe.stats.tempRange.min," - ",Pe.stats.tempRange.max,""]}),a.jsxs("td",{children:[Pe.stats.maxSnowDepth.toFixed(1),'"']}),a.jsx("td",{children:Pe.stats.hoursWithPrecip}),a.jsx("td",{children:a.jsx(Ke,{bg:Pe.stats.precipTypeChanges>5?"warning":"secondary",children:Pe.stats.precipTypeChanges})}),a.jsx("td",{children:a.jsx(Ke,{bg:Pe.stats.rainOnSnowEvents>3?"danger":"secondary",children:Pe.stats.rainOnSnowEvents})})]},me))})]})}),a.jsxs("div",{className:"mt-3",children:[a.jsx(Se,{variant:"outline-primary",size:"sm",onClick:At,className:"me-2",children:"Download Summary JSON"}),a.jsx(Se,{variant:"outline-secondary",size:"sm",onClick:Be,children:"Download Full Time-Series JSON"})]})]})})]}),l&&a.jsxs(a.Fragment,{children:[a.jsx(m7,{results:l}),a.jsx(h7,{results:l,onExportProblems:Ze,onExportFull:Ue}),a.jsx(i7,{results:l}),a.jsx(s7,{results:l}),a.jsx(o7,{results:l}),a.jsx(l7,{results:l}),a.jsx(c7,{results:l}),a.jsx(d7,{results:l}),a.jsx(u7,{results:l})]})]})},y7=({wanderer:n,onDismiss:e})=>{if(!n||n.eventType!=="local_fall")return null;const{crash:r,timeDescription:s,wasObservable:l,visibilityBlocker:c,dmNotes:d}=n,m=hv[r.size],h=r.impactEffects,p=()=>{if(!h)return"wanderer-minor";switch(h.severity){case"catastrophic":return"wanderer-catastrophic";case"major":return"wanderer-major";case"notable":return"wanderer-notable";default:return"wanderer-minor"}};return a.jsx(Re,{show:!0,onHide:e,centered:!0,size:"lg",className:`wanderer-modal ${p()}`,backdrop:"static",children:a.jsxs(Re.Body,{className:"wanderer-modal-body",children:[a.jsx("div",{className:"wanderer-icon-container",children:a.jsx("span",{className:"wanderer-icon",children:""})}),a.jsx("h1",{className:"wanderer-headline",children:"WANDERER IMPACT"}),a.jsx("p",{className:"wanderer-subheadline",children:m.name}),a.jsxs("div",{className:"wanderer-location",children:[a.jsx("span",{className:"wanderer-distance",children:r.distance<1?`~${Math.round(r.distance*5280)} feet`:`~${r.distance} mile${r.distance!==1?"s":""}`}),a.jsx("span",{className:"wanderer-direction",children:r.direction})]}),h&&h.narrative&&a.jsx("p",{className:"wanderer-narrative",children:h.narrative}),h&&h.mechanics&&a.jsxs("div",{className:"wanderer-mechanics",children:[a.jsx("strong",{children:"Suggested Effects:"})," ",h.mechanics]}),a.jsxs("div",{className:"wanderer-details",children:[a.jsxs("div",{className:"wanderer-detail-row",children:[a.jsx("span",{className:"detail-label",children:"Estimated Value"}),a.jsx("span",{className:"detail-value",children:r.details.estimatedValue})]}),a.jsxs("div",{className:"wanderer-detail-row",children:[a.jsx("span",{className:"detail-label",children:"Material"}),a.jsx("span",{className:"detail-value",children:r.details.typicalWeight})]}),a.jsxs("div",{className:"wanderer-detail-row",children:[a.jsx("span",{className:"detail-label",children:"Terrain"}),a.jsx("span",{className:"detail-value",children:r.details.terrain})]}),a.jsxs("div",{className:"wanderer-detail-row",children:[a.jsx("span",{className:"detail-label",children:"Interest Level"}),a.jsx(Ke,{bg:r.size==="massive"?"danger":r.size==="large"?"warning":"info",children:r.details.interestLevel})]})]}),r.details.hooks&&r.details.hooks.length>0&&a.jsxs("div",{className:"wanderer-hooks",children:[a.jsx("h5",{children:"Adventure Hooks"}),a.jsx("ul",{children:r.details.hooks.map((g,x)=>a.jsx("li",{children:g},x))})]}),r.details.complications&&r.details.complications.length>0&&a.jsxs("div",{className:"wanderer-complications",children:[a.jsx("h5",{children:"Complications"}),a.jsx("ul",{children:r.details.complications.map((g,x)=>a.jsx("li",{children:g},x))})]}),a.jsxs("details",{className:"wanderer-dm-notes",children:[a.jsx("summary",{children:"DM Notes"}),a.jsx("p",{children:d})]}),a.jsx(Se,{variant:"light",size:"lg",className:"wanderer-dismiss-btn",onClick:e,children:"Continue"})]})})},x7=new URLSearchParams(window.location.search),w7=x7.get("test")==="true",Xp=["Conjuring the skies...","Summoning the winds...","Reading the clouds...","Consulting the stars...","Brewing a storm...","Charting the heavens...","Gathering the mists...","Divining the forecast...","Whispering to the winds...","Stirring the atmosphere..."],j7=()=>{const{activeWorld:n,activeRegion:e,selectRegion:r,advanceTime:s,jumpToDate:l,deleteRegion:c,scanWandererGates:d,isLoading:m}=Kn(),[h,p]=y.useState(!1),[g,x]=y.useState(!1),[w,S]=y.useState(!1),[b,N]=y.useState(null),[k,C]=y.useState(null),[E,P]=y.useState(!0),[_,L]=y.useState(!1),A=y.useRef(!1),$=y.useRef(!1),I=y.useRef(Xp[Math.floor(Math.random()*Xp.length)]);y.useEffect(()=>{const Z=setTimeout(()=>{A.current=!0,$.current&&(L(!0),setTimeout(()=>P(!1),400))},1500);return()=>clearTimeout(Z)},[]),y.useEffect(()=>{m||($.current=!0,A.current&&(L(!0),setTimeout(()=>P(!1),400)))},[m]),y.useEffect(()=>{if(n&&e){const Z=Yr.getCurrentWeather(e,n.currentDate);N(Z)}},[n?.currentDate,e]);const[X,re]=y.useState("linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"),[H,ie]=y.useState("linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"),[se,ee]=y.useState(1);y.useEffect(()=>{if(n&&b){const Z=n.currentDate?.hour??12,U=Vr(b.celestial?.sunriseTime),R=Vr(b.celestial?.sunsetTime),B=b.condition||"",oe=u3(Z,U,R,B);oe!==X&&(ie(X),re(oe),ee(0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{ee(1)})}))}},[n?.currentDate?.hour,b?.celestial,b?.condition]);const te=y.useCallback(Z=>{const U=s(Z);return U?.interrupted&&U?.wanderer&&C(U.wanderer),U},[s]),ce=y.useCallback((Z,U,R,B)=>{const oe=l(Z,U,R,B);return oe?.interrupted&&oe?.wanderer&&C(oe.wanderer),oe},[l]),ge=y.useCallback(()=>{C(null),e&&n?.currentDate&&d(e,n.currentDate)},[e,n?.currentDate,d]);y.useEffect(()=>{n||p(!0)},[n]);const V=()=>{p(!1)};return E?a.jsx("div",{className:`loading-screen ${_?"fade-out":""}`,children:a.jsxs("div",{className:"loading-content",children:[a.jsx("h1",{className:"loading-title",children:"WeatherMaster"}),a.jsx("div",{className:"loading-subtitle",children:I.current})]})}):n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"sky-gradient-layer previous",style:{background:H}}),a.jsx("div",{className:"sky-gradient-layer current",style:{background:X,opacity:se}}),a.jsx(g3,{currentDate:n.currentDate,onAdvanceTime:te,onJumpToDate:ce,celestialData:b?.celestial}),a.jsx(Ss,{className:"mt-3",style:{maxWidth:"900px"},children:e?a.jsxs(a.Fragment,{children:[b&&a.jsxs(a.Fragment,{children:[a.jsx(Nj,{region:e,weather:b,world:n,currentDate:n.currentDate,weatherService:Yr}),a.jsx(Ej,{region:e,currentDate:n.currentDate}),b.effects&&b.effects.length>0&&a.jsxs("div",{className:"alert alert-warning",children:[a.jsxs("strong",{children:[a.jsx(i4,{})," Active Weather Effects:"]}),a.jsx("ul",{className:"mb-0 mt-2",children:b.effects.map((Z,U)=>a.jsx("li",{children:Z},U))})]}),a.jsx(Tj,{region:e,currentDate:n.currentDate,currentWeather:b}),a.jsx(Rj,{weather:b}),a.jsx(Pj,{weatherData:b})]}),!b&&a.jsx("div",{className:"alert alert-info",children:"Loading weather data..."})]}):a.jsxs("div",{className:"text-center mt-5 py-5",children:[a.jsx("h4",{className:"text-muted mb-3",children:"No region selected"}),a.jsx(Se,{variant:"primary",onClick:()=>x(!0),children:"Create Your First Region"})]})}),!w&&a.jsx(v3,{onClick:()=>S(!0)}),a.jsx(pj,{show:w,onHide:()=>S(!1),regions:n.regions,activeRegion:e,onSelectRegion:r,onAddLocation:()=>x(!0),onDeleteRegions:c,worldName:n.name,currentDate:n.currentDate}),a.jsx(Ld,{show:g,onHide:()=>x(!1)}),a.jsx(y7,{wanderer:k,onDismiss:ge})]}):a.jsxs(a.Fragment,{children:[a.jsx(U4,{show:h,onHide:()=>{},onComplete:V}),a.jsxs(Ss,{className:"mt-5 text-center",children:[a.jsx("h1",{children:"WeatherMaster 2.0"}),a.jsx("p",{children:"Create a world to get started"})]})]})},S7=()=>w7?a.jsx(ep,{children:a.jsx(v7,{})}):a.jsx(ep,{children:a.jsx(V4,{children:a.jsx(j7,{})})}),b7=Py.createRoot(document.getElementById("root"));b7.render(a.jsx(ut.StrictMode,{children:a.jsx(S7,{})}));
